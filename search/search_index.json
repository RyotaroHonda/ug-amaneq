{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"<p>AMANEQ is a general-purpose logic module developed as the main electronics for a streaming readout DAQ system. The basic design is based on the hadron universal logic (HUL) module. About HUL, see Open-It webpage.</p> <p>References</p> <ul> <li>R. Honda, IEEE TNS, vol. 70, no. 6, pp.1102\u20131109, Apr. 2023, doi: 10.1109/TNS.2023.3265698.</li> <li>R. Honda, M. Ikeno, C.S. Lin, M. Shoji, IEEE TNS, vol 72, no. 3, 614-622, Mar. 2025, doi: 10.1109/TNS.2025.3541731</li> </ul>"},{"location":"#links","title":"Links","text":"<ul> <li>Open-It project</li> <li>Github official organization</li> </ul>"},{"location":"#update-history","title":"Update history","text":"<p>2025.10.14</p> <ul> <li>Updating descriptions for firmware.</li> </ul> <p>2025.5.29</p> <ul> <li>Updating descriptions for firmware and practical usage.</li> <li>Release StrLrTdc-10G</li> </ul> <p>2025.1.6</p> <ul> <li>Updating descriptions for firmware, software, and synchronization</li> </ul> <p>2024.11.28</p> <ul> <li>Correct the description for LED in firmware section</li> </ul> <p>2024.6.4</p> <ul> <li>Descriptions for Hardware, synchronization, firmware, software, and practical usage</li> </ul>"},{"location":"firmware/clockhub/clockhub/","title":"Mikumari Clock Hub","text":""},{"location":"firmware/clockhub/clockhub/#overview","title":"Overview","text":"<p>Mikumari Clock Hub (MikuClockHub)\u306f\u4e0a\u6d41\u304b\u3089\u6642\u523b\u540c\u671f\u3092\u53d7\u3051\u3001\u66f4\u306b16\u53f0\u306e\u4e0b\u6d41\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u540c\u671f\u3059\u308b\u4e8b\u304c\u51fa\u6765\u308b\u3001\u30af\u30ed\u30c3\u30af\u5206\u914d\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306e\u30ea\u30ec\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 Root-mode\u3092\u6709\u3057\u3066\u304a\u308a\u3001\u4e0a\u6d41\u304b\u3089\u81ea\u8eab\u3092\u5207\u308a\u96e2\u3057\u3066\u65b0\u3057\u3044ROOT\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u52d5\u4f5c\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002 Mikumari Clock Root firmware\u306e\u958b\u767a\u304c\u4e2d\u65ad\u3059\u308b\u3053\u3068\u304b\u3089\u3001version 2.7\u4ee5\u964d\u3067\u306froot-mode\u3067\u8d77\u52d5\u3057\u305f\u672c\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30af\u30ed\u30c3\u30af\u5206\u914d\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u9802\u70b9\u306b\u7f6e\u304f\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002 \u5358\u306bClockHub\u3068\u8868\u8a18\u3059\u308b\u4e8b\u3082\u3042\u308a\u307e\u3059\u3002 \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u5185\u90e8\u306b64ch\u306e1ns\u7cbe\u5ea6\u9023\u7d9a\u8aad\u307f\u51fa\u3057TDC\u3082\u6709\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>Github repository</p> <pre><code>- Unique ID:                  0xF100\n\n- Number of clock port:       16\n\n- Number of inputs:           64\n- Timing measurements:        Both edges\n- TDC precision:              1ns\n- Double hit resolution:      ~8ns\n- Max TOT length:             4000ns\n\n- Link protocol:              SiTCP\n- Default IP:                 192.168.10.16\n- Data link speed:            1Gbps\n\n- Data word width:            64bit\n- Acceptable max input rate:  ~28MHz/board\n- System clock freq.:         125MHz\n</code></pre>"},{"location":"firmware/clockhub/clockhub/#history","title":"History","text":"Version Date Changes v2.9 2025.10.14 - Fixed the bit position of the frameFlag1/2 swapped in the heartbeat delimiter flags.  - 125 MHz system clock signal can be output from NIM-OUT ports by selecting it via IOM. v2.8 2025.5.28 - Bugfix version of v2.7.  - Fixed the bug that the delay function for the trigger assisted mode does not work.  - A clock signal of 7.8125 MHz, divided by 16 from the system clock, can now be output from the NIM output port. v2.7 2025.3.5 - Bugfix version of v2.6.  - Enabling the function to generate data words with input throttling type-2 start/end data types. v2.6 2025.1.6 - Updating LACCP (v2.1) supporting the frame flag distribution.  - Introducing gated scaler.  - Introducing IO manager block arranging input/output paths to the NIM IO.  - Deprecating the extra 129th TDC input from NIM.  - Deprecating DIP2 function.  - Changing what the LED lights indicate. v2.5 2024.6.9 \u4e8b\u5b9f\u4e0a\u306e\u521d\u671f\u7248"},{"location":"firmware/clockhub/clockhub/#functions","title":"Functions","text":"Figure\u00a01: Simplified block diagram of MikuClockHub. <p>\u56f3\u306fMikumari-ClockHub\u306e\u7c21\u6613\u30d6\u30ed\u30c3\u30af\u30c0\u30a4\u30a2\u30b0\u30e9\u30e0\u3067\u3059\u3002 CRV\u3082\u3057\u304f\u306f\u524d\u9762MIKUMARI\u30dd\u30fc\u30c8\u3067\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u53d7\u4fe1\u3057\u3001CDD-OPT\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3092\u7528\u3044\u3066\u6700\u592716\u53f0\u306e\u30ea\u30fc\u30d5\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u6642\u523b\u540c\u671f\u3059\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002 \u52a0\u3048\u3066\u300164ch\u6587\u306eStr-LRTDC\u3092\u5185\u8535\u3057\u3066\u304a\u308a\u3001main input\u304b\u3089\u306e\u4fe1\u53f7\u3092\u6e2c\u5b9a\u3059\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002 \u5165\u529b\u4fe1\u53f7\u306fStr-LRTDC\u3068\u540c\u69d8\u306b\u30b9\u30b1\u30fc\u30e9\u30fc\u30d6\u30ed\u30c3\u30af\u306b\u3082\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Str-LRTDC\u306e\u6a5f\u80fd\u3068\u30b9\u30b1\u30fc\u30e9\u30fc\u6a5f\u80fd\u306b\u3064\u3044\u3066\u306fStr-LRTDC\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30e2\u30fc\u30c9\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u30af\u30ed\u30c3\u30af\u53d7\u4fe1\u30dd\u30fc\u30c8\u304c\u7121\u52b9\u306b\u306a\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u3092\u30ed\u30fc\u30ab\u30eb\u767a\u632f\u5668\u304b\u3089\u751f\u6210\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u691c\u51fa\u5668\u30b5\u30d6\u30d6\u30ed\u30c3\u30af\u3092\u30e1\u30a4\u30f3DAQ\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u5207\u308a\u96e2\u3057\u3066\u72ec\u81ea\u306b\u8a66\u9a13\u3092\u884c\u3044\u305f\u3044\u6642\u306b\u6d3b\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u306e\u5834\u5408\u306f\u672c\u56de\u8def\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30e6\u30cb\u30c3\u30c8\u304c\u5b9a\u7fa9\u3059\u308b\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30ab\u30a6\u30f3\u30bf\u30fc\u3068\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\u304c\u65b0\u3057\u3044\u57fa\u6e96\u306b\u306a\u308a\u3001\u5404\u30ea\u30fc\u30d5\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u306eLACCP fine offset\u306f\u672c\u56de\u8def\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d1\u30eb\u30b9\u306b\u5bfe\u3059\u308b\u6642\u9593\u5dee\u3092\u793a\u3057\u307e\u3059\u3002 \u307e\u305f\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3092\u5207\u308a\u66ff\u3048\u308b\u4e8b\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u672c\u56de\u8def\u4e0a\u306e\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306fCDCE62002\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b\u306e\u3067\u3001CDCE62002\u3092\u672a\u8a2d\u5b9a\u306eAMANEQ\u3067\u306f\u3053\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002 125 MHz\u306e\u5165\u529b\u304b\u3089500 MHz\u3068125 MHz\u306e\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u751f\u6210\u3059\u308b\u3088\u3046\u306bCDCE62002\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> Figure\u00a02: Port map of Str-LRTDC <p>\u56f3\u306fTDC\u5165\u529b\u30c1\u30e3\u30f3\u30cd\u30eb\u756a\u53f7\u3068MIKUMARI\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 16\u756a\u304c\u53d7\u4fe1\u7528\u306eMIKUMARI\u30dd\u30fc\u30c8\u3067\u30010\u756a\u304b\u308915\u756a\u307e\u3067\u304c\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u9001\u4fe1\u5074\u3067\u3059\u3002</p>"},{"location":"firmware/clockhub/clockhub/#led-and-dip-switch-20250106","title":"LED and DIP switch (2025.01.06)","text":"<p>1-3\u756a\u304c\u70b9\u706f\u3057\u3066\u3044\u308c\u3070\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002</p> LED # Comment 1 DAQ is running \u30c7\u30fc\u30bf\u8aad\u307f\u51fa\u3057\u4e2d\u3067\u3042\u308b\u4e8b\u3092\u793a\u3057\u307e\u3059\u3002 3 MIKUMARI (16) link up MIKUMARI\u30dd\u30fc\u30c8\u306e16\u756a\u304c\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002 2 Root mode ROOT mode\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u3068\u70b9\u706f\u3057\u307e\u3059\u3002 4 PLL locked \u5168\u3066\u306e\u5185\u90e8\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304c\u6b63\u5e38\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002 DIP # Comment 1 SiTCP IP setting 0: \u30c7\u30d5\u30a9\u30eb\u30c8IP\u3092\u4f7f\u7528\u3057\u307e\u3059  1: \u30e6\u30fc\u30b6\u30fc\u8a2d\u5b9a\u306eIP\u3092\u4f7f\u7528\u3057\u307e\u3059 (\u8981\u30e9\u30a4\u30bb\u30f3\u30b9)\u3002 2 Not in use 3 Root mode 0: Relay mode (clock-hub)  1: Root mode (clock-root) 4 Not in use"},{"location":"firmware/clockhub/clockhub/#local-bus-modules","title":"Local bus modules","text":"<p>Str-LRTDC\u306b\u306f6\u500b\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u304c\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30a2\u30c9\u30ec\u30b9\u306e\u30de\u30c3\u30d7\u3067\u3059\u3002</p> Local Module Address range Mikumari Utility 0x0000'0000 - 0x0FFF'0000 Streaming TDC 0x1000'0000 - 0x1FFF'0000 IO Manager 0x2000'0000 - 0x2FFF'0000 Scaler 0x8000'0000 - 0x8FFF'0000 CDCE62002 Controller 0xB000'0000 - 0xBFFF'0000 Self Diagnosis System 0xC000'0000 - 0xCFFF'0000 Flash Memory Programmer 0xD000'0000 - 0xDFFF'0000 Bus Controller 0xE000'0000 - 0xEFFF'0000"},{"location":"firmware/clockhub/clockhub/#streaming-tdc-block","title":"Streaming-TDC block","text":"<p>\u5165\u529b\u30c1\u30e3\u30f3\u30cd\u30eb\u6570\u304c\u7570\u306a\u308b\u3053\u3068\u4ee5\u5916\u306fStr-LRTDC\u3068\u540c\u69d8\u306e\u305f\u3081\u3001Str-LRTDC\u306e\u8aac\u660e\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30ec\u30b8\u30b9\u30bf\u30a2\u30c9\u30ec\u30b9\u3082\u5168\u304f\u540c\u3058\u3067\u3059\u3002</p>"},{"location":"firmware/clockhub/clockhub/#scaler","title":"Scaler","text":"<p>Str-LRTDC\u3068\u540c\u69d8\u306e\u305f\u3081\u3001Str-LRTDC\u306e\u8aac\u660e\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30ec\u30b8\u30b9\u30bf\u30a2\u30c9\u30ec\u30b9\u3082\u5168\u304f\u540c\u3058\u3067\u3059\u3002</p>"},{"location":"firmware/clockhub/clockhub/#io-manager","title":"IO Manager","text":"<p>IO Manager\u306fAMANEQ\u306eNIM IO\u3068FPGA\u5185\u90e8\u306e\u4fe1\u53f7\u7b49\u306e\u63a5\u7d9a\u95a2\u4fc2\u3092\u7ba1\u7406\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 NIM\u30dd\u30fc\u30c8\u304b\u3089\u5165\u529b\u3055\u308c\u305f\u4fe1\u53f7\u3092\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3001\u307e\u305f\u5185\u90e8\u4fe1\u53f7\u3092\u3069\u306eNIM\u30dd\u30fc\u30c8\u304b\u3089\u51fa\u529b\u3059\u308b\u304b\u3092SiTCP\u3092\u901a\u3058\u3066\u5909\u66f4\u3057\u307e\u3059\u3002</p> Register name Address Read/Write Bit width Comment kFrameFlag1In 0x20000000 W/R 2 Setting the NIM-IN port to the internal frame flag-1 signal. It is valid when the module is the root mode. (default 0x0) kFrameFlag2In 0x20100000 W/R 2 Setting the NIM-IN port to the internal frame flag-2 signal. It is valid when the module is the root mode. (default (0x1)) kTriggerIn 0x20200000 W/R 2 Setting the NIM-IN port to the internal trigger in signal. (default (0x3)) kScrResetIn 0x20300000 W/R 2 Setting the NIM-IN port to the internal scaler reset signal. This signal will be distributed to other modules through MIKUMARI. (default (0x3)) kSelOutSig1 0x21000000 W/R 3 Selecting the internal signal to output from the NIM-OUT port 1. kSelOutSig2 0x21100000 W/R 3 Selecting the internal signal to output from the NIM-OUT port 2. <p>\u30a2\u30c9\u30ec\u30b9\u5024\u304c<code>0x20X0'0000</code>\u306e\u30ec\u30b8\u30b9\u30bf\u306fNIM-IN\u30dd\u30fc\u30c8\u3092\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002 \u5404\u30ec\u30b8\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> Register value Comment 0x0 Connecting the NIM-IN port 1 to the corresponding internal signal. 0x1 Connecting the NIM-IN port 2 to the corresponding internal signal. 0x2 Not in use 0x3 Connecting GND to the corresponding internal signal. <p>\u30a2\u30c9\u30ec\u30b9\u5024\u304c<code>0x21X0'0000</code>\u306e\u30ec\u30b8\u30b9\u30bf\u306f\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3092NIM-OUT\u30dd\u30fc\u30c8\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002 \u5404\u30ec\u30b8\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> Register value Comment 0x0 Connecting the heartbeat signal. 0x1 Connecting the TCP connection establish. 0x2 Connecting the trigger signal from LACCP. 0x3 Connecting the frame flag-1. 0x4 Connecting the frame flag-2. 0x5 Connecting the div16 clock (7.8125 MHz). 0x6 Connecting the system clock signal (125 MHz). 0x7 Connecting the logic of 1"},{"location":"firmware/clockroot/clockroot/","title":"Mikumari Clock Root","text":""},{"location":"firmware/clockroot/clockroot/#overview","title":"Overview","text":"<p>Mikumari Clock Root (MikuClockRoot)\u306f17\u53f0\u306e\u4e0b\u6d41\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u540c\u671f\u3059\u308b\u4e8b\u304c\u51fa\u6765\u308b\u3001\u30af\u30ed\u30c3\u30af\u5206\u914d\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306eROOT\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 \u5358\u306bClockRoot\u3068\u8868\u8a18\u3059\u308b\u4e8b\u3082\u3042\u308a\u307e\u3059\u3002 \u6b74\u53f2\u7684\u306a\u4e8b\u60c5\u304b\u3089\u30ea\u30dd\u30b8\u30c8\u30ea\u540d\u304cMikumariClockPrim\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001MIKUMARI link protocol\u306e\u30d7\u30e9\u30a4\u30de\u30ea\u5074\u3068\u7d1b\u3089\u308f\u3057\u3044\u305f\u3081ROOT\u3068\u8868\u73fe\u3059\u308b\u4e8b\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u8ad6\u6587\u3067\u3082\u540c\u69d8\u306broot-module\u306e\u8868\u8a18\u3092\u53d6\u3063\u3066\u3044\u307e\u3059\u3002 \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u5185\u90e8\u306b64ch\u306e1ns\u7cbe\u5ea6\u9023\u7d9a\u8aad\u307f\u51fa\u3057TDC\u3082\u6709\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u3053\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u958b\u767a\u306fversion 2.7\u3092\u3082\u3063\u3066\u30bf\u30fc\u30df\u30cd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u30af\u30ed\u30c3\u30af\u5206\u914d\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u9802\u70b9\u306b\u306froot-mode\u3067\u8d77\u52d5\u3057\u305fMikumari Clock Hub\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u914d\u7f6e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Github repository</p> <pre><code>- Unique ID:                  0xF000\n\n- Number of clock port:       17\n\n- Number of inputs:           64\n- Timing measurements:        Both edges\n- TDC precision:              1ns\n- Double hit resolution:      ~8ns\n- Max TOT length:             4000ns\n\n- Link protocol:              SiTCP\n- Default IP:                 192.168.10.16\n- Data link speed:            1Gbps\n\n- Data word width:            64bit\n- Acceptable max input rate:  ~28MHz/board\n- System clock freq.:         125MHz\n</code></pre>"},{"location":"firmware/clockroot/clockroot/#history","title":"History","text":"Version Date Changes v2.7 2025.3.5 - Bugfix version of v2.6.  - Enabling the function to generate data words with input throttling type-2 start/end data types. v2.6 2025.1.6 - Updating LACCP (v2.1) supporting the frame flag distribution.  - Introducing gated scaler.  - Introducing IO manager block arranging input/output paths to the NIM IO. v2.5 2024.6.9 \u4e8b\u5b9f\u4e0a\u306e\u521d\u671f\u7248"},{"location":"firmware/clockroot/clockroot/#functions","title":"Functions","text":"Figure\u00a01: Simplified block diagram of MikuClockPrim. <p>\u56f3\u306fMikumari-ClockRoot\u306e\u7c21\u6613\u30d6\u30ed\u30c3\u30af\u30c0\u30a4\u30a2\u30b0\u30e9\u30e0\u3067\u3059\u3002 CDD-OPT\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306e16\u30dd\u30fc\u30c8\u306b\u52a0\u3048\u3066CRV/\u524d\u9762MIKUMARI\u30dd\u30fc\u30c8\u3082\u6d3b\u7528\u3057\u3066\u3001\u6700\u592717\u53f0\u306e\u30ea\u30fc\u30d5\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u6642\u523b\u540c\u671f\u3059\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002 \u52a0\u3048\u3066\u300164ch\u6587\u306eStr-LRTDC\u3092\u5185\u8535\u3057\u3066\u304a\u308a\u3001main input\u304b\u3089\u306e\u4fe1\u53f7\u3092\u6e2c\u5b9a\u3059\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002 \u5165\u529b\u4fe1\u53f7\u306fStr-LRTDC\u3068\u540c\u69d8\u306b\u30b9\u30b1\u30fc\u30e9\u30fc\u30d6\u30ed\u30c3\u30af\u306b\u3082\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Str-LRTDC\u306e\u6a5f\u80fd\u3068\u30b9\u30b1\u30fc\u30e9\u30fc\u6a5f\u80fd\u306b\u3064\u3044\u3066\u306fStr-LRTDC\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u6642\u523b\u30c9\u30e1\u30a4\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308b\u305f\u3081\u3001\u5916\u90e8\u30af\u30ed\u30c3\u30af\u306b\u3088\u3063\u3066\u66f4\u306b\u540c\u671f\u3092\u53d7\u3051\u308b\u6a5f\u80fd\u306f\u6709\u3057\u3066\u3044\u307e\u305b\u3093\u3002 \u672c\u56de\u8def\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30e6\u30cb\u30c3\u30c8\u304c\u5b9a\u7fa9\u3059\u308b\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30ab\u30a6\u30f3\u30bf\u30fc\u3068\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\u304c\u57fa\u6e96\u3067\u3042\u308a\u3001\u5404\u30ea\u30fc\u30d5\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u306eLACCP fine offset\u306f\u672c\u56de\u8def\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d1\u30eb\u30b9\u306b\u5bfe\u3059\u308b\u6642\u9593\u5dee\u3092\u793a\u3057\u307e\u3059\u3002 \u307e\u305f\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3092\u5207\u308a\u66ff\u3048\u3089\u308c\u308b\u552f\u4e00\u306e\u56de\u8def\u3067\u3059\u3002</p> <p>\u672c\u56de\u8def\u4e0a\u306e\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306fCDCE62002\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b\u306e\u3067\u3001CDCE62002\u3092\u672a\u8a2d\u5b9a\u306eAMANEQ\u3067\u306f\u3053\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002 125 MHz\u306e\u5165\u529b\u304b\u3089500 MHz\u3068125 MHz\u306e\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u751f\u6210\u3059\u308b\u3088\u3046\u306bCDCE62002\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> Figure\u00a02: Port map of Str-LRTDC <p>\u56f3\u306fTDC\u5165\u529b\u30c1\u30e3\u30f3\u30cd\u30eb\u756a\u53f7\u3068MIKUMARI\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 0\u756a\u304b\u308916\u756a\u307e\u3067\u5168\u3066\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u9001\u4fe1\u5074\u3067\u3059\u3002</p>"},{"location":"firmware/clockroot/clockroot/#led-and-dip-switch","title":"LED and DIP switch","text":"<p>1\u756a\u304c\u70b9\u706f\u3057\u3066\u3044\u308c\u3070\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002</p> LED # Comment 1 DAQ is running \u30c7\u30fc\u30bf\u8aad\u307f\u51fa\u3057\u4e2d\u3067\u3042\u308b\u4e8b\u3092\u793a\u3057\u307e\u3059\u3002 2 Frame status \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3092\u793a\u3057\u307e\u3059\u3002 3 Not in use 4 PLL locked \u5168\u3066\u306e\u5185\u90e8\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304c\u6b63\u5e38\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002 DIP # Comment 1 SiTCP IP setting 0: \u30c7\u30d5\u30a9\u30eb\u30c8IP\u3092\u4f7f\u7528\u3057\u307e\u3059  1: \u30e6\u30fc\u30b6\u30fc\u8a2d\u5b9a\u306eIP\u3092\u4f7f\u7528\u3057\u307e\u3059 (\u8981\u30e9\u30a4\u30bb\u30f3\u30b9)\u3002 2 Not in use 3 Not in use 4 Not in use"},{"location":"firmware/clockroot/clockroot/#local-bus-modules","title":"Local bus modules","text":"<p>Str-LRTDC\u306b\u306f7\u500b\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u304c\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30a2\u30c9\u30ec\u30b9\u306e\u30de\u30c3\u30d7\u3067\u3059\u3002</p> Local Module Address range Mikumari Utility 0x0000'0000 - 0x0FFF'0000 Streaming TDC 0x1000'0000 - 0x1FFF'0000 IO Manager 0x2000'0000 - 0x2FFF'0000 Scaler 0x8000'0000 - 0x8FFF'0000 CDCE62002 Controller 0xB000'0000 - 0xBFFF'0000 Self Diagnosis System 0xC000'0000 - 0xCFFF'0000 Flash Memory Programmer 0xD000'0000 - 0xDFFF'0000 Bus Controller 0xE000'0000 - 0xEFFF'0000"},{"location":"firmware/clockroot/clockroot/#streaming-tdc-block","title":"Streaming-TDC block","text":"<p>\u5165\u529b\u30c1\u30e3\u30f3\u30cd\u30eb\u6570\u304c\u7570\u306a\u308b\u3053\u3068\u4ee5\u5916\u306fStr-LRTDC\u3068\u540c\u69d8\u306e\u305f\u3081\u3001Str-LRTDC\u306e\u8aac\u660e\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30ec\u30b8\u30b9\u30bf\u30a2\u30c9\u30ec\u30b9\u3082\u5168\u304f\u540c\u3058\u3067\u3059\u3002</p>"},{"location":"firmware/clockroot/clockroot/#scaler","title":"Scaler","text":"<p>Str-LRTDC\u3068\u540c\u69d8\u306e\u305f\u3081\u3001Str-LRTDC\u306e\u8aac\u660e\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30ec\u30b8\u30b9\u30bf\u30a2\u30c9\u30ec\u30b9\u3082\u5168\u304f\u540c\u3058\u3067\u3059\u3002</p>"},{"location":"firmware/clockroot/clockroot/#io-manager","title":"IO Manager","text":"<p>IO Manager\u306fAMANEQ\u306eNIM IO\u3068FPGA\u5185\u90e8\u306e\u4fe1\u53f7\u7b49\u306e\u63a5\u7d9a\u95a2\u4fc2\u3092\u7ba1\u7406\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 NIM\u30dd\u30fc\u30c8\u304b\u3089\u5165\u529b\u3055\u308c\u305f\u4fe1\u53f7\u3092\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3001\u307e\u305f\u5185\u90e8\u4fe1\u53f7\u3092\u3069\u306eNIM\u30dd\u30fc\u30c8\u304b\u3089\u51fa\u529b\u3059\u308b\u304b\u3092SiTCP\u3092\u901a\u3058\u3066\u5909\u66f4\u3057\u307e\u3059\u3002</p> Register name Address Read/Write Bit width Comment kFrameFlag1In 0x20000000 W/R 2 Setting the NIM-IN port to the internal frame flag-1 signal. (default 0x0) kFrameFlag2In 0x20100000 W/R 2 Setting the NIM-IN port to the internal frame flag-2 signal. (default (0x1)) kTriggerIn 0x20200000 W/R 2 Setting the NIM-IN port to the internal trigger in signal. (default (0x3)) kScrResetIn 0x20300000 W/R 2 Setting the NIM-IN port to the internal scaler reset signal. This signal will be distributed to other modules through MIKUMARI. (default (0x3)) kSelOutSig1 0x21000000 W/R 3 Selecting the internal signal to output from the NIM-OUT port 1. kSelOutSig2 0x21100000 W/R 3 Selecting the internal signal to output from the NIM-OUT port 2. <p>\u30a2\u30c9\u30ec\u30b9\u5024\u304c<code>0x20X0'0000</code>\u306e\u30ec\u30b8\u30b9\u30bf\u306fNIM-IN\u30dd\u30fc\u30c8\u3092\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002 \u5404\u30ec\u30b8\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> Register value Comment 0x0 Connecting the NIM-IN port 1 to the corresponding internal signal. 0x1 Connecting the NIM-IN port 2 to the corresponding internal signal. 0x2 Not in use 0x3 Connecting GND to the corresponding internal signal. <p>\u30a2\u30c9\u30ec\u30b9\u5024\u304c<code>0x21X0'0000</code>\u306e\u30ec\u30b8\u30b9\u30bf\u306f\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3092NIM-OUT\u30dd\u30fc\u30c8\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002 \u5404\u30ec\u30b8\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> Register value Comment 0x0 Connecting the heartbeat signal. 0x1 Connecting the TCP connection establish. 0x2 Connecting the logic of 1 0x3 Connecting the logic of 1 0x4 Connecting the logic of 1 0x5 Connecting the logic of 1 0x6 Connecting the logic of 1 0x7 Connecting the logic of 1"},{"location":"firmware/overview/overview/","title":"Overview","text":"<p>AMANEQ\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3082HUL\u306e\u7269\u304c\u5143\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u591a\u304f\u306e\u5171\u901a\u70b9\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u56f3\u306b\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u57fa\u672c\u69cb\u9020\u3092\u793a\u3057\u307e\u3059\u3002PC\u3068\u306e\u901a\u4fe1\u3092\u62c5\u3046SiTCP\u3092\u8d77\u70b9\u3068\u3057\u3066\u3001\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u306b\u3088\u308b\u30b9\u30ed\u30fc\u5236\u5fa1\u7cfb\u3001DAQ\u30c7\u30fc\u30bf\u6a5f\u80fd\u30d6\u30ed\u30c3\u30af\u3001\u304a\u3088\u3073\u6642\u523b\u540c\u671f\u7528\u306eMIKUMARI\u30d6\u30ed\u30c3\u30af\u306b\u5206\u985e\u3067\u304d\u307e\u3059\u3002 \u56f3\u4e2d\u306e\u30aa\u30ec\u30f3\u30b8\u3067\u66f8\u304b\u308c\u305f\u30d6\u30ed\u30c3\u30af\u306f\u5168\u3066\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u5171\u901a\u306e\u30d6\u30ed\u30c3\u30af\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u306e\u69cb\u9020\u306fHUL\u306e\u305d\u308c\u3068\u5b8c\u5168\u306b\u540c\u4e00\u3067\u3059\u3002SiTCP\u306eRBCP\u304b\u3089\u5185\u90e8\u30d0\u30b9\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u306b\u30d6\u30ea\u30c3\u30b8\u3057\u3066\u3001\u30ec\u30b8\u30b9\u30bf\u306e\u8aad\u307f\u66f8\u304d\u3092\u884c\u3044\u307e\u3059\u3002 \u30d0\u30b9\u30d6\u30ea\u30c3\u30b8\u3092\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u30c7\u30fc\u30bf\u30ea\u30f3\u30afIF\u3068\u5207\u308a\u96e2\u3057\u3066\u3001\u5c06\u6765\u7684\u306bSiTCP\u4ee5\u5916\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5229\u7528\u3059\u308b\u969b\u306e\u5229\u4fbf\u6027\u3092\u5411\u4e0a\u3055\u305b\u3066\u3044\u307e\u3059\u3002 Flash Memory Programmer (FMP)\u3068Self Diagnosis System (SDS)\u306fHUL\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u7269\u3068\u540c\u4e00\u3067\u3059\u3002 FMP\u306f\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u3078MCS/BIN\u30d5\u30a1\u30a4\u30eb\u3092SiTCP\u7d4c\u7531\u3067\u66f8\u304d\u8fbc\u3080\u305f\u3081\u306e\u30d6\u30ed\u30c3\u30af\u3067\u3059\u3002\u9060\u9694\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u66f4\u65b0\u306b\u4f7f\u3044\u307e\u3059\u3002 SDS\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5065\u5168\u6027\u3092\u8abf\u3079\u308b\u30d6\u30ed\u30c3\u30af\u3067\u3059\u3002SEM\u306b\u3088\u308bSEU\u691c\u77e5\u3068\u305d\u306e\u4fee\u5fa9\u56de\u6570\u306e\u8a18\u9332\u3068URE\u306e\u691c\u51fa\u3092\u884c\u3044\u307e\u3059\u3002\u307e\u305f\u3001XADC\u3092\u8aad\u307f\u3001FPGA\u6e29\u5ea6\u3068\u96fb\u6e90\u96fb\u5727\u306e\u30e2\u30cb\u30bf\u30fc\u3092\u884c\u3044\u307e\u3059\u3002 \u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u306e\u4ed5\u69d8\u3068FMP/SDS\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306fHUL\u306e\u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>AMANEQ\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u7279\u5fb4\u306f2\u3064\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3067\u3059\u3002 1\u3064\u306f100 MHz\u306e\u767a\u632f\u5668\u3092\u30bd\u30fc\u30b9\u306b\u6301\u3064\u30ed\u30fc\u30ab\u30eb\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u3067\u3059\u3002\u3053\u306e\u30c9\u30e1\u30a4\u30f3\u306b\u306fDAQ\u6a5f\u80fd\u3068\u306f\u72ec\u7acb\u3057\u3066\u3044\u308b\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u6a5f\u80fd\u304c\u5c5e\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u30c9\u30e1\u30a4\u30f3\u306e\u30af\u30ed\u30c3\u30af\u306fSiTCP\u3084PCS/PMA\u3092\u99c6\u52d5\u3059\u308b\u307b\u304b\u306b\u3082\u3001\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u306eSPI\u30dd\u30fc\u30c8\u99c6\u52d5\u3084\u3001ICAP\u306e\u99c6\u52d5\u306b\u3082\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002DAQ\u6a5f\u80fd\u3068\u72ec\u7acb\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u500b\u3005\u306e\u6a5f\u80fd\u3092\u99c6\u52d5\u3059\u308b\u3053\u3068\u304c\u4e3b\u306a\u4ed5\u4e8b\u3067\u3059\u3002 2\u3064\u76ee\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u3067\u3059\u3002AMANEQ\u306fMIKUMARI\u306b\u3088\u3063\u3066\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u5468\u6ce2\u6570\u540c\u671f\u3068\u6642\u523b\u540c\u671f\u3092\u53d7\u3051\u308b\u305f\u3081\u3001\u3053\u306e\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u306f\u4e0a\u6d41\u304b\u3089\u9001\u3089\u308c\u3066\u304d\u305f\u57fa\u6e96\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u30bd\u30fc\u30b9\u306b\u6301\u3061\u307e\u3059\u3002 DAQ\u6a5f\u80fd\u3084\u6642\u523b\u540c\u671f\u306a\u3069\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u4e3b\u8981\u306a\u90e8\u5206\u306f\u3053\u306e\u30c9\u30e1\u30a4\u30f3\u306b\u5c5e\u3057\u307e\u3059\u3002 AMANEQ\u306fMIKUMARI\u306b\u4f9d\u5b58\u3057\u306a\u3044\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30e2\u30fc\u30c9\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u306e\u3067\u3001\u56f3\u306b\u3042\u308b\u3088\u3046\u306b\u30b0\u30ed\u30fc\u30d0\u30eb\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u306e\u30bd\u30fc\u30b9\u306b\u30ed\u30fc\u30ab\u30eb\u30af\u30ed\u30c3\u30af\u3092\u7528\u3044\u308b\u4e8b\u3082\u51fa\u6765\u307e\u3059\u3002 AMANEQ\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u4e21\u65b9\u306e\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u306b\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304c\u5b58\u5728\u3059\u308b\u4e8b\u3092\u8981\u6c42\u3057\u3066\u3044\u307e\u3059\u3002\u30b0\u30ed\u30fc\u30d0\u30eb\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u306e\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304c\u5b58\u5728\u3057\u306a\u3044\u6642\u306bAMANEQ\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u6a5f\u80fd\u3092\u52d5\u304b\u3059\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>\u30b0\u30ed\u30fc\u30d0\u30eb\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u306b\u304a\u3044\u3066\u3069\u306ePLL\u304c\u30af\u30ed\u30c3\u30af\u5fa9\u5143\u3092\u884c\u3046\u304b\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002\u56f3\u3067\u306fMMCM\u304c\u70b9\u7dda\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u5b9f\u969b\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306fMMCM\u304bCDCE62002\u3069\u3061\u3089\u304b\u4e00\u65b9\u304c\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002</p> Figure\u00a01: Block diagram of AMANEQ firmware"},{"location":"firmware/overview/overview/#data-link","title":"Data link","text":"<p>AMANEQ\u3067\u306fGbE\u306eSiTCP\u306810GbE\u306eSiTCP-XG\u306e\u4e21\u65b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u30ea\u30f3\u30af\u5148\u306e\u8cc7\u6599\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u3068\u3063\u3066\u3053\u308c\u30892\u7a2e\u985e\u306e\u4f7f\u7528\u611f\u306b\u9055\u3044\u306f\u3042\u308a\u307e\u305b\u3093\u3002RBCP\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3084TCP\u306e\u53d7\u4fe1\u65b9\u6cd5\u306f\u540c\u4e00\u3067\u3059\u3002\u552f\u4e00\u306e\u9055\u3044\u306f\u30c7\u30d5\u30a9\u30eb\u30c8IP\u30a2\u30c9\u30ec\u30b9\u304c\u7570\u306a\u308b\u4e8b\u3067\u3059\u3002</p> <ul> <li>SiTCP: 192.168.10.16</li> <li>SiTCP-XG: 192.168.10.10</li> </ul> <p>SiTCP\u3068SiTCP-XG\u306f\u7570\u306a\u3063\u305f\u88fd\u54c1\u306e\u305f\u3081\u30e9\u30a4\u30bb\u30f3\u30b9\u3082\u7570\u306a\u308b\u306e\u3067\u3001\u540c\u3058AMANEQ\u3067\u4e21\u65b9\u3092\u4f7f\u3046\u30b1\u30fc\u30b9\u304c\u3042\u308b\u5834\u5408\u306f\u4e21\u65b9\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u3092\u8cfc\u5165\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001SiTCP\u3092\u4f7f\u3063\u3066\u3044\u308bStr-LRTDC\u304b\u3089Str-HRTDC\u3078\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u5165\u308c\u66ff\u3048\u305f\u5834\u5408\u3001SiTCP-XG\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u3092EEPROM\u3078\u66f8\u304d\u76f4\u3057\u3001IP\u30a2\u30c9\u30ec\u30b9\u3082\u8a2d\u5b9a\u3057\u306a\u304a\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u958b\u767a\u8005\u306b\u3068\u3063\u3066\u4e21\u8005\u306f\u5927\u304d\u304f\u7570\u306a\u308a\u307e\u3059\u3002\u307e\u305a\u4f7f\u7528\u3059\u308bPCS/PMA\u306e\u30b3\u30a2\u304c\u7570\u306a\u308b\u306e\u3067\u3001\u5fc5\u8981\u306a\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u7a2e\u985e\u3082\u7570\u306a\u308a\u5358\u7d14\u306a\u5165\u308c\u66ff\u3048\u306b\u306f\u306a\u308a\u307e\u305b\u3093 SiTCP\u306f\u30b3\u30a2\u30af\u30ed\u30c3\u30af\u306e\u5468\u6ce2\u6570\u3092\u3042\u308b\u7a0b\u5ea6\u4efb\u610f\u306b\u9078\u3076\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u304c\u3001SiTCP-XG\u306e\u5834\u5408\u306fPCS/PMA\u306e\u30b3\u30a2\u30af\u30ed\u30c3\u30af\u3092\u3064\u306a\u3050\u4e8b\u304c\u60f3\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u306e\u69cb\u9020\u3082\u5909\u308f\u308a\u3048\u307e\u3059\u3002AMANEQ\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306fSiTCP\u3068SiTCP-XG\u3067\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u306e\u69cb\u9020\u304c\u5909\u308f\u3089\u306a\u3044\u3088\u3046\u306b\u8a2d\u8a08\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"firmware/overview/overview/#reset-signals","title":"Reset signals","text":""},{"location":"firmware/overview/overview/#sitcp","title":"SiTCP\u30b3\u30a2\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u5834\u5408","text":"<p>AMANEQ\u3067\u306f3\u7a2e\u985e\u306e\u30ea\u30bb\u30c3\u30c8\u304c\u5b58\u5728\u3057\u3001\u305d\u308c\u305e\u308c\u30ea\u30bb\u30c3\u30c8\u5bfe\u8c61\u3068\u306a\u308b\u7bc4\u56f2\u304c\u7570\u306a\u308a\u307e\u3059\u3002\u4e0b\u306b\u884c\u304f\u307b\u3069\u5f37\u529b\u306a\u30ea\u30bb\u30c3\u30c8\u3067\u3059\u3002HUL\u306b\u5b58\u5728\u3057\u3066\u3044\u305fSiTCP\u30ea\u30bb\u30c3\u30c8\u306f\u671f\u5f85\u901a\u308a\u306e\u52d5\u304d\u3092\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u3088\u3046\u306a\u306e\u3067\u5ec3\u6b62\u3057\u307e\u3057\u305f\u3002 BCT\u30ea\u30bb\u30c3\u30c8\u3068\u30cf\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u306fHUL\u306e\u305d\u308c\u3068\u306f\u30ea\u30bb\u30c3\u30c8\u7bc4\u56f2\u304c\u7570\u306a\u308a\u307e\u3059\u3002</p> <ul> <li>BCT\u30ea\u30bb\u30c3\u30c8: BCT\u306eReset\u30a2\u30c9\u30ec\u30b9\u306bRBCP\u3067\u66f8\u304d\u8fbc\u307f\u3092\u884c\u3046\u4e8b\u3067\u767a\u884c\u3059\u308b\u30ea\u30bb\u30c3\u30c8\u4fe1\u53f7\u3002DAQ\u6a5f\u80fd\u306a\u3069\u30e6\u30fc\u30b6\u30fc\u56de\u8def\u90e8\u5206\u306e\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3044\u307e\u3059\u3002</li> <li>MIKUMARI\u30ea\u30bb\u30c3\u30c8: \u4e0a\u6d41\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089MIKUMARI\u7d4c\u7531\u3067\u767a\u884c\u3059\u308b\u30ea\u30bb\u30c3\u30c8\u4fe1\u53f7\u3002BCT\u30ea\u30bb\u30c3\u30c8\u306e\u7bc4\u56f2\u306b\u52a0\u3048\u3066\u3001SiTCP\u306e\u30b3\u30a2\u3068\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u306e\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3044\u307e\u3059\u3002SiTCP\u304c\u30cf\u30f3\u30b0\u30a2\u30c3\u30d7\u3057\u305f\u6642\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002</li> <li>\u30cf\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8: \u57fa\u677f\u4e0a\u306eSW2\u3092\u62bc\u4e0b\u3059\u308b\u4e8b\u3067\u767a\u884c\u3059\u308b\u30ea\u30bb\u30c3\u30c8\u4fe1\u53f7\u3002BCT\u30ea\u30bb\u30c3\u30c8\u306b\u52a0\u3048\u3066MIKUMARI\u3068LACCP\u306e\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3044\u307e\u3059\u3002\u30cf\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u306fSiTCP\u30b3\u30a2\u306e\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3044\u307e\u305b\u3093\u3002</li> </ul> <p>\u3053\u306e\u4ed6\u306b\u5185\u90e8\u7684\u306b\u306f\u96fb\u52d5\u6295\u5165\u6642\u306b\u4e00\u5ea6\u3060\u3051\u767a\u884c\u3055\u308c\u308b\u30ea\u30bb\u30c3\u30c8\u304c\u5b58\u5728\u3057\u3001PCS/PMA\u3068GTX\u30c8\u30e9\u30f3\u30b7\u30fc\u30d0\u306f\u96fb\u6e90\u6295\u5165\u6642\u306b\u521d\u671f\u5316\u3055\u308c\u305f\u3089\u3001\u80fd\u52d5\u7684\u306b\u30ea\u30bb\u30c3\u30c8\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 SiTCP\u30b3\u30a2\u306f\u3053\u306e\u96fb\u6e90\u6295\u5165\u6642\u30ea\u30bb\u30c3\u30c8\u3068MIKUMARI\u30ea\u30bb\u30c3\u30c8\u3067\u307f\u521d\u671f\u5316\u304c\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"firmware/overview/overview/#sitcp-xg","title":"SiTCP-XG\u30b3\u30a2\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u5834\u5408","text":"<p>\u30cf\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u3067SiTCP-XG\u30b3\u30a2\u306e\u30ea\u30bb\u30c3\u30c8\u304c\u53ef\u80fd\u3067\u3059\u3002\u4ed6\u306e\u30ea\u30bb\u30c3\u30c8\u7bc4\u56f2\u306b\u3064\u3044\u3066\u306fSiTCP\u30b3\u30a2\u7248\u3068\u540c\u69d8\u3067\u3059\u3002 SiTCP-XG\u7248\u3067\u306f\u30ed\u30fc\u30ab\u30eb\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u306e\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092PCS/PMA\u304b\u3089\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u30b7\u30b9\u30c6\u30e0\u30ea\u30bb\u30c3\u30c8\u304c\u767a\u884c\u3055\u308c\u308b\u6761\u4ef6\u306bPCS/PMA\u306e\u72b6\u614b\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"firmware/overview/overview/#common-local-bus-modules","title":"Common local bus modules","text":"<p>AMANEQ\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306f\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e8b\u3092\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u547c\u3073\u307e\u3059\u3002 \u3053\u308c\u3089\u306e\u5185\u3001Local Bus Controller (BCT)\u3001FMP\u3001\u304a\u3088\u3073SDS\u306b\u3064\u3044\u3066\u306fHUL\u306e\u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\u3082\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4ee5\u964dkAddr\u3067\u59cb\u307e\u308b\u5358\u8a9e\u306f\u30bd\u30d5\u30c8\u5074\u3067\u6307\u5b9a\u3059\u308b32\u30d3\u30c3\u30c8\u8d85\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30a2\u30c9\u30ec\u30b9 (= RBCP\u30a2\u30c9\u30ec\u30b9)\u3092\u6307\u3057\u3001kAddrXXX\u3078\u66f8\u304d\u8fbc\u3080 (\u8aad\u307f\u51fa\u3059)\u3068\u66f8\u304b\u308c\u3066\u3044\u305f\u3089\u3001PC\u304b\u3089\u305d\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30a2\u30c9\u30ec\u30b9\u3078\u8aad\u307f\u66f8\u304d\u3059\u308b\u52d5\u4f5c\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u57fa\u672c\u30e9\u30a4\u30d6\u30e9\u30ea\u306fhul-common-lib\u306b\u307e\u3068\u3081\u3089\u308c\u3066\u304a\u308a\u3001RBCP\u30ec\u30d9\u30eb\u306e\u901a\u4fe1\u306fUDPRBCP\u30af\u30e9\u30b9\u3067\u3001\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30ec\u30d9\u30eb\u306e\u901a\u4fe1\u306fFPGAModule\u30af\u30e9\u30b9\u3067\u8a18\u8ff0\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u4ee5\u964d\u3067\u306f\u3001\u65ad\u308a\u304c\u7121\u3044\u9650\u308a\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u306e\u8aad\u307f\u66f8\u304d\u306fFPGAModule\u30af\u30e9\u30b9\u306eWriteModule\u3068ReadModule\u3067\u884c\u3046\u3068\u3057\u307e\u3059\u3002</p> <p>\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u306e32-bit\u30a2\u30c9\u30ec\u30b9\u7a7a\u9593\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <pre><code>| module ID (4-bit) | local address (12-bit) |   reserve (16-bit)   |\n</code></pre> <p>Module ID\u306f\u5404\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u533a\u5225\u3059\u308b\u305f\u3081\u306b\u3082\u3061\u3044\u307e\u3059\u3002Local address\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u90e8\u306e\u30a2\u30c9\u30ec\u30b9\u5024\u3067\u3042\u308a\u3001\u5177\u4f53\u7684\u306a\u30ec\u30b8\u30b9\u30bf\u3067\u3042\u3063\u305f\u308a\u52d5\u4f5c\u3067\u3042\u3063\u305f\u308a\u3092\u6307\u3057\u307e\u3059\u3002 RBCP\u3067\u9001\u53d7\u4fe1\u3067\u304d\u308b\u30c7\u30fc\u30bf\u306f1\u30d0\u30a4\u30c8\u3067\u3042\u308b\u305f\u3081\u30019-bit\u4ee5\u4e0a\u306e\u30c7\u30fc\u30bf\u9577\u304c\u3042\u308b\u30ec\u30b8\u30b9\u30bf\u306b\u5bfe\u3059\u308b\u8aad\u307f\u66f8\u304d\u304c\u5fc5\u8981\u306a\u5834\u5408\u8907\u6570\u56deRBCP\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4f8b\u3048\u3070<code>0XD030'0000</code>\u3068\u3044\u3046\u30a2\u30c9\u30ec\u30b9\u5024\u3092\u6301\u306416-bit\u9577\u306e\u30ec\u30b8\u30b9\u30bf\u304c\u3042\u3063\u305f\u3068\u3059\u308b\u3068\u3001\u5185\u90e8\u7684\u306b\u306f1\u30d0\u30a4\u30c8\u76ee\u3092\u6307\u3059<code>0XD030'0000</code>\u30682\u30d0\u30a4\u30c8\u76ee\u3092\u6307\u3059<code>0XD031'0000</code>\u30782\u56de\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002 1\u3064\u306e\u30ec\u30b8\u30b9\u30bf\u304c2\u3064\u306e\u4ee5\u4e0a\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u5206\u5272\u3055\u308c\u308b\u3068\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u306e\u53ef\u8aad\u6027\u304c\u3068\u3066\u3082\u60aa\u304f\u306a\u308b\u305f\u3081\u3001FPGAModule\u30af\u30e9\u30b9\u3067\u306f12-bit local address\u306e\u4e0b\u4f4d4-bit\u90e8\u5206\u306e\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3068\u30eb\u30fc\u30d7\u51e6\u7406\u3092\u96a0\u853d\u3057\u3001<code>0XD030'0000</code>\u30781\u5ea6\u3060\u3051\u30a2\u30af\u30bb\u30b9\u3057\u3059\u308b\u3088\u3046\u306b\u898b\u305b\u304b\u3051\u307e\u3059\u3002 \u3082\u3057hul-common-lib\u3092\u7528\u3044\u305a\u81ea\u4f5c\u306e\u30bd\u30d5\u30c8\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u3053\u306e\u4ed6\u30d0\u30a4\u30c8\u30a2\u30af\u30bb\u30b9\u306e\u51e6\u7406\u3092\u9069\u5207\u306b\u5b9f\u88c5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u306e\u4e8b\u306b\u3064\u3044\u3066\u306f\u3001HUL\u306e\u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\u306b\u3082\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/overview/overview/#common-module-id","title":"Common module ID","text":"<p>\u8907\u6570\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u4f8b\u3048\u3070FMP\u3084SDS\u306b\u3064\u3044\u3066\u306f\u5171\u901a\u306e\u30e2\u30b8\u30e5\u30fc\u30ebID\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u5171\u901a\u5316\u3092\u9032\u3081\u308b\u305f\u3081\u306b\u3001\u4ed6\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u958b\u767a\u304c\u9032\u3093\u3067\u3044\u308bRAYRAW\u3068CIRASAME\u3068\u3082\u30e2\u30b8\u30e5\u30fc\u30ebID\u3092\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u304c\u5171\u901a\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5bfe\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30ebID\u306e\u5272\u308a\u5f53\u3066\u3067\u3059\u3002</p> Module ID Local module Comment 0x0 MikumariUtil (MUTIL) \u52aa\u529b\u76ee\u6a19\u3002\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u3088\u3063\u3066\u306f\u5171\u901a\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3002 0x8 Scaler (SCR) \u30b9\u30b1\u30fc\u30e9\u6a5f\u80fd 0x9 Max1932 Controller (BIAS) RAYRAW\u3068CIRASAME\u306e\u307f\u306b\u5b58\u5728\u3002APD\u30d0\u30a4\u30a2\u30b9\u4f9b\u7d66IC\u306e\u5236\u5fa1\u30e2\u30b8\u30e5\u30fc\u30eb\u3002 0xA RESERVE 0xB CDCE62002 Controller (C6C) 0xC Self Diagnosis System (SDS) 0xD Flash Memory Programmer (FMP) 0xE Local Bus Controller (BCT) 0xF SiTCP\u4e88\u7d04\u9818\u57df"},{"location":"firmware/overview/overview/#cdce62002-controller-c6c","title":"CDCE62002 Controller (C6C)","text":"Register name Address Read/Write Bit width Comment kAddrTxd 0x90000000 W 32 CDCE62002\u3078\u9001\u4fe1\u3059\u308bSPI\u30e1\u30c3\u30bb\u30fc\u30b8 kAddrRxd 0x90100000 R 32 CDCE62002\u304b\u3089\u53d6\u5f97\u3057\u305fSPI\u30e1\u30c3\u30bb\u30fc\u30b8 kAddrExecWrite 0x91000000 W - kAddrExecRead 0x92000000 R - <p>CDCE62002 jitter clear\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 CDCE62002\u306f32-bit\u9577\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4f7f\u3063\u305fSPI\u306b\u3088\u308b\u30ec\u30b8\u30b9\u30bf\u30a2\u30af\u30bb\u30b9\u3092\u884c\u3044\u307e\u3059\u3002\u30e1\u30c3\u30bb\u30fc\u30b8\u69cb\u9020\u306fIC\u306e\u30c7\u30fc\u30bf\u30b7\u30fc\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30ec\u30b8\u30b9\u30bf\u66f8\u304d\u8fbc\u307f\u306fkAddrWxd\u3078\u9001\u4fe1\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30bb\u30c3\u30c8\u3057\u3066\u304a\u304d\u3001kAddrExecWrite\u3078\u66f8\u304d\u8fbc\u307f\u3092\u884c\u3046\u3068SPI\u30b7\u30fc\u30b1\u30f3\u30b9\u304c\u8d70\u3063\u3066\u66f8\u304d\u8fbc\u307f\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002 \u30ec\u30b8\u30b9\u30bf\u8aad\u307f\u51fa\u3057\u306fkAddrWxd\u3078\u8aad\u307f\u51fa\u3057\u30b3\u30de\u30f3\u30c9\u3092\u30bb\u30c3\u30c8\u3057\u3066\u304a\u304d\u3001kAddrExecRead\u3092\u5b9f\u884c\u3057\u305f\u5f8ckAddrRxd\u304b\u3089\u8aad\u307f\u51fa\u3057\u7d50\u679c\u3092\u8aad\u307f\u53d6\u308a\u307e\u3059\u3002</p> <p>CECE62002\u306f\u591a\u6570\u306e\u8a2d\u5b9a\u9805\u76ee\u304c\u3042\u308b\u305f\u3081\u3053\u308c\u3089\u306e\u8aad\u307f\u66f8\u304d\u306e\u30b7\u30fc\u30b1\u30f3\u30b9\u306fhul-common-lib\u306eCDCE62002Funcs\u306b\u307e\u3068\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u3044\u304f\u3064\u304b\u306e\u826f\u304f\u4f7f\u3046\u5468\u6ce2\u6570\u8a2d\u5b9a\u306b\u5bfe\u3059\u308b\u30d7\u30ea\u30bb\u30c3\u30c8\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u901a\u5e38\u30e6\u30fc\u30b6\u30fc\u304c\u4f7f\u3046\u5b9f\u884c\u4f53\u306fset_cdce62002\u306e\u307f\u3067\u3059\u3002\u81ea\u5206\u3067IC\u306e\u8a2d\u5b9a\u3092\u5909\u3048\u305f\u3044\u5834\u5408\u306fCDCE62002Funcs\u306e\u8a18\u8ff0\u3092\u53c2\u8003\u306b\u3057\u3066\u65b0\u3057\u304f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089CDCE62002\u3078\u57fa\u6e96\u30af\u30ed\u30c3\u30af\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002\u3069\u306e\u30af\u30ed\u30c3\u30af\u3092\u57fa\u6e96\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3068\u3057\u3066\u7528\u3044\u308b\u304b\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u3088\u308a\u307e\u3059\u3002</p>"},{"location":"firmware/overview/overview/#mikumari-util-mutil-20250106","title":"MIKUMARI Util (MUTIL) (2025.01.06)","text":"Register name Address Read/Write Bit width Comment kAddrCbtLaneUp 0x00000000 R 32 \u5404\u30d3\u30c3\u30c8\u304cMIKUMARI\u306e\u7269\u7406\u5c64(CBT)\u306e\u72b6\u614b\u3092\u793a\u3057\u307e\u3059\u30021\u3067\u7269\u7406\u5c64\u304c\u30ec\u30c7\u30a3\u306e\u72b6\u614b\u3067\u3059\u3002\u3069\u306e\u30d3\u30c3\u30c8\u304c\u3069\u306e\u30dd\u30fc\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u306e\u304b\u3001\u4f55\u30d3\u30c3\u30c8\u76ee\u307e\u3067\u6709\u52b9\u3067\u3042\u308b\u304b\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 kAddrCbtTapValueIn 0x00100000 R 5 CBT\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308bIDELAY\u306e\u30bf\u30c3\u30d7\u5024\u3092\u8aad\u307f\u53d6\u308a\u307e\u3059 (RegIndex\u306b\u3088\u308b\u6307\u5b9a\u304c\u6709\u52b9) kAddrCbtTapValueOut 0x00200000 W 5 CBT\u306b\u8a2d\u5b9a\u3059\u308b\u3079\u304dIDELAY\u306e\u30bf\u30c3\u30d7\u5024\u3092\u4e0e\u3048\u307e\u3059 (RegIndex\u306b\u3088\u308b\u6307\u5b9a\u304c\u6709\u52b9) kAddrCbtBitSlipIn 0x00300000 R 4 CBT\u304c\u884c\u3063\u305f\u30d3\u30c3\u30c8\u30b9\u30ea\u30c3\u30d7\u306e\u56de\u6570\u3092\u8aad\u307f\u53d6\u308a\u307e\u3059 (RegIndex\u306b\u3088\u308b\u6307\u5b9a\u304c\u6709\u52b9) kAddrCbtInit 0x00400000 W 32 CBT\u3078\u521d\u671f\u5316\u547d\u4ee4\u3092\u9001\u308a\u307e\u3059\u3002\u5404\u30d3\u30c3\u30c8\u304c\u5404\u30dd\u30fc\u30c8\u3078\u306e\u521d\u671f\u5316\u4fe1\u53f7\u306b\u306a\u3063\u3066\u304a\u308a\u30011\u3067\u521d\u671f\u5316\u306e\u5b9f\u884c\u3067\u3059\u3002\u3069\u306e\u30d3\u30c3\u30c8\u304c\u3069\u306e\u30dd\u30fc\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u306e\u304b\u3001\u4f55\u30d3\u30c3\u30c8\u76ee\u307e\u3067\u6709\u52b9\u3067\u3042\u308b\u304b\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 kAddrMikumariUp 0x00500000 R 32 \u5404\u30d3\u30c3\u30c8\u304cMIKUMARI\u30ea\u30f3\u30af\u306e\u72b6\u614b\u3092\u793a\u3057\u307e\u3059\u30021\u3067\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u306e\u72b6\u614b\u3067\u3059\u3002\u3069\u306e\u30d3\u30c3\u30c8\u304c\u3069\u306e\u30dd\u30fc\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u306e\u304b\u3001\u4f55\u30d3\u30c3\u30c8\u76ee\u307e\u3067\u6709\u52b9\u3067\u3042\u308b\u304b\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 kAddrLaccpUp 0x00600000 R 32 \u5404\u30d3\u30c3\u30c8\u304cLACCP\u306e\u72b6\u614b\u3092\u793a\u3057\u307e\u3059\u30021\u3067\u6642\u523b\u540c\u671f\u304c\u5b8c\u4e86\u3057\u305f\u72b6\u614b\u3067\u3059\u3002\u3069\u306e\u30d3\u30c3\u30c8\u304c\u3069\u306e\u30dd\u30fc\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u306e\u304b\u3001\u4f55\u30d3\u30c3\u30c8\u76ee\u307e\u3067\u6709\u52b9\u3067\u3042\u308b\u304b\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 kAddrPartnerIpAddr 0x00700000 R 32 \u63a5\u7d9a\u5148\u306eSiTCP\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\uff08RegIndex\u306b\u3088\u308b\u6307\u5b9a\u304c\u6709\u52b9) kAddrHbcOffset 0x00800000 R 16 Heartbeat counter\u3078\u4e0e\u3048\u3089\u3089\u308c\u305f\u30aa\u30d5\u30bb\u30c3\u30c8\u5024\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002(LACCP\u306e\u30bb\u30ab\u30f3\u30c0\u30ea\u5074\u306e\u307f\u6709\u52b9) kAddrLocalFineOffset 0x00900000 R 16 LACCP\u304c\u7b97\u51fa\u3057\u305flocal fine offset\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002(LACCP\u30bb\u30ab\u30f3\u30c0\u30ea\u5074\u306e\u307f\u6709\u52b9) kAddrLaccpFineOffset 0x00A00000 R 16 LACCP\u304c\u7b97\u51fa\u3057\u305fLACCP fine offset\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\uff08LACCP\u30bb\u30ab\u30f3\u30c0\u30ea\u5074\u306e\u307f\u6709\u52b9) kAddrHbfState 0x00B00000 W/R 1 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u30021\u3067DAQ running\u30010\u3067DAQ idle\u3067\u3059\u3002\u305d\u306e\u30af\u30ed\u30c3\u30af\u5206\u914d\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306eroot\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u306e\u307f\u6709\u52b9\u3002 kAddrRstOverMiku 0x00C00000 W 32 \u4e0b\u6d41\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5bfe\u3057\u3066MIKUMARI\u30ea\u30bb\u30c3\u30c8\u3092\u767a\u884c\u3059\u308b\u30021\u3067\u30ea\u30bb\u30c3\u30c8\u767a\u884c\u3002 kAddrClockRootMode 0x00D00000 R 1 Mikumari Clock Hub module\u3067\u306f\u3001ROOT\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u5834\u54081\u3092\u8fd4\u3057\u307e\u3059\u3002TDC\u306a\u3069\u306eleaf module\u3067\u306fstandalone mode\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u5834\u54081\u3092\u8fd4\u3057\u307e\u3059\u3002 kAddrRegIndex 0x01000000 W/R 6 \u3044\u304f\u3064\u304b\u306e\u30ec\u30b8\u30b9\u30bf\u306b\u304a\u3044\u3066\u8aad\u307f\u66f8\u304d\u3092\u884c\u3046\u5bfe\u8c61\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 kAddrNumLinks 0x02000000 R 6 \u305d\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u304c\u5099\u3048\u3066\u3044\u308bMIKUMARI\u30ea\u30f3\u30af\u306e\u6570\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 <p>MIKUMARI\u30ea\u30f3\u30af\u30d7\u30ed\u30c8\u30b3\u30eb\u3084LACCP\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u53c2\u7167\u3084\u3001\u5236\u5fa1\u3092\u884c\u3046\u305f\u3081\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e2\u30b8\u30e5\u30fc\u30ebID\u306f0x0\u3067\u3059\u304c\u3001\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u3088\u3063\u3066\u306f\u5b88\u3089\u308c\u3066\u3044\u306a\u3044\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u4e0a\u306b\u5b58\u5728\u3059\u308bMIKUMARI\u30dd\u30fc\u30c8\u306e\u72b6\u614b\u76e3\u8996\u3092\u4e00\u62ec\u3067\u884c\u3044\u307e\u3059\u3002 \u4e0a\u6d41\u304b\u3089\u30af\u30ed\u30c3\u30af\u3092\u53d7\u4fe1\u3059\u308bMIKUMARI\u30bb\u30ab\u30f3\u30c0\u30ea\u3068\u3001\u5fa9\u5143\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u4e0b\u6d41\u3078\u518d\u9001\u4fe1\u3059\u308bMIKUMARI\u30d7\u30e9\u30a4\u30de\u30ea\u3068\u3067\u306f\u53d6\u5f97\u3067\u304d\u308b\u60c5\u5831\u304c\u4e00\u90e8\u7570\u306a\u308a\u307e\u3059\u3002 MikumariClockHub\u3092\u4f8b\u3068\u3057\u305f\u53d6\u5f97\u53ef\u80fd\u306a\u60c5\u5831\u306e\u307e\u3068\u3081\u3092\u56f3\u306b\u793a\u3057\u307e\u3059\u3002\u3053\u306e\u4f8b\u3067\u306fMIKUMARI link\u306e\u6570\u306f17\u3067\u3059\u3002 0\u304b\u308915\u304c\u30d7\u30e9\u30a4\u30de\u30ea\u306b\u5272\u308a\u632f\u3089\u308c\u3066\u304a\u308a\u300116\u304c\u30bb\u30ab\u30f3\u30c0\u30ea\u3067\u3059\u3002\u30b9\u30c6\u30fc\u30bf\u30b9\u30d3\u30c3\u30c8\u3084\u5236\u5fa1\u30d3\u30c3\u30c8\u306f\u5168\u30dd\u30fc\u30c8\u3092\u4e00\u62ec\u3067\u6307\u3057\u307e\u3059\u3002 \u5e38\u306b\u30bb\u30ab\u30f3\u30c0\u30ea\u304b\u3089\u60c5\u5831\u3092\u53d6\u308b\u30ec\u30b8\u30b9\u30bf\u3068\u3001RegIndex\u306b\u3088\u3063\u3066\u53c2\u7167\u5148\u304c\u5909\u308f\u308b\u30ec\u30b8\u30b9\u30bf\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u3053\u306e\u4f8b\u3067\u306fRegIndex\u306f15\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u30e6\u30fc\u30b6\u30fc\u7528\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308bMUTIL\u7528\u306e\u5b9f\u884c\u4f53\u306fhul-common-lib\u306eshow_mikumari\u3068show_laccp\u3067\u3059\u3002\u3069\u3061\u3089\u3082\u60c5\u5831\u3092\u307e\u3068\u3081\u3066\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u306b\u6a19\u6e96\u51fa\u529b\u3057\u307e\u3059\u3002</p> Figure\u00a02: Summary of information taken by Mikumari Utility. Example for MikumariClockHub firmware is shown."},{"location":"firmware/overview/overview/#flash-memory-programmer-fmp","title":"Flash Memory Programmer (FMP)","text":"<p>\u30dc\u30fc\u30c9\u4e0a\u306eFlash\u30e1\u30e2\u30ea\u306bMCS/BIN\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u8fbc\u3080\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 HUL\u306eFMP\u3068\u5b8c\u5168\u306b\u540c\u4e00\u306e\u305f\u3081\u3001\u8a73\u3057\u304f\u306fHUL\u306e\u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/overview/overview/#self-diagnosis-system-sds","title":"Self Diagnosis System (SDS)","text":"<p>SEM\u3068XADC\u3092\u4f7f\u3063\u305f\u81ea\u5df1\u8a3a\u65ad\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 \u8a73\u3057\u304f\u306fHUL\u306e\u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/overview/overview/#local-bus-controller-bct","title":"Local Bus Controller (BCT)","text":"<p>\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30de\u30b9\u30bf\u3067\u3059\u3002\u5916\u90e8\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u3068\u5185\u90e8\u30d0\u30b9\u306e\u30d0\u30b9\u30d6\u30ea\u30c3\u30b8\u3092\u884c\u3044\u307e\u3059\u3002 FPGA\u306e\u30ea\u30b3\u30f3\u30d5\u30a3\u30b0\u8981\u6c42\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u56fa\u6709\u540d\u306e\u53d6\u5f97\u3001BCT\u30ea\u30bb\u30c3\u30c8\u306e\u767a\u884c\u3092\u884c\u3048\u307e\u3059\u3002 \u8a73\u3057\u304f\u306fHUL\u306e\u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/skeleton/skeleton/","title":"Skeleton firmware","text":""},{"location":"firmware/skeleton/skeleton/#overview","title":"Overview","text":"<p>Skeleton firmware\u306f\u9650\u3089\u308c\u305f\u6a5f\u80fd\u3060\u3051\u304c\u5b9f\u88c5\u3055\u308c\u305fAMANEQ\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u3072\u306a\u578b\u3067\u3059\u3002 MIKUMARI\u3084DAQ\u6a5f\u80fd\u306f\u5b9f\u88c5\u3055\u308c\u3066\u304a\u3089\u305a\u3001\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u4f55\u304bDAQ\u3092\u884c\u3046\u4e8b\u306f\u51fa\u6765\u307e\u305b\u3093\u3002 \u7d0d\u54c1\u3055\u308c\u305fAMANEQ\u306e\u52d5\u4f5c\u30c1\u30a7\u30c3\u30af\u3001SiTCP\u901a\u4fe1\u306e\u78ba\u8a8d\u3001CDCE62002\u306e\u8a2d\u5b9a\u306a\u3069\u306b\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Github repository</p> <pre><code>- Unique ID:                  0xA000\n\n- Link protocol:              SiTCP\n- Default IP:                 192.168.10.16\n- Data link speed:            1Gbps\n</code></pre>"},{"location":"firmware/skeleton/skeleton/#history","title":"History","text":"Version Date Changes v2.2 2024.4.11 \u4e8b\u5b9f\u4e0a\u306e\u521d\u671f\u7248"},{"location":"firmware/skeleton/skeleton/#functions","title":"Functions","text":"Figure\u00a01: Block diagram of skeleton firmware <p>\u56f3\u306fSkeleton\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u30d6\u30ed\u30c3\u30af\u56f3\u3067\u3059\u3002 AMANEQ\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u5171\u901a\u90e8\u5206\u306e\u307f\u5b9f\u88c5\u3055\u308c\u3066\u304a\u308a\u3001MIKUMARI\u306f\u975e\u642d\u8f09\u3067\u3059\u3002 \u305d\u306e\u305f\u3081\u3001\u30af\u30ed\u30c3\u30af\u30c9\u30e1\u30a4\u30f3\u306f1\u7a2e\u985e\u3060\u3051\u5b58\u5728\u3057\u307e\u3059\u3002 AMANEQ\u5358\u4f53\u3067\u5fc5\u305a\u52d5\u4f5c\u3059\u308b\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u305f\u3081\u3001CDCE62002\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3084\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306a\u3069\u3092\u78ba\u5b9f\u306b\u884c\u3044\u305f\u3044\u6642\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002 \u307e\u305f\u3001\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u958b\u767a\u3059\u308b\u969b\u306e\u30d9\u30fc\u30b9\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3068\u3057\u3066\u3082\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/skeleton/skeleton/#led-and-dip-switch","title":"LED and DIP switch","text":"<p>1-2\u756a\u304c\u4e21\u65b9\u70b9\u706f\u3057\u3066\u3044\u308c\u3070CDCE62002\u304c\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u3066\u304a\u308a\u3001\u4ed6\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u5b9f\u88c5\u3057\u3066\u3082\u52d5\u4f5c\u3057\u307e\u3059\u3002</p> LED # Comment 1 CDCE locked CDCE62002\u306e\u30ed\u30c3\u30af\u72b6\u614b\u3067\u3059 2 MMCM locked MMCM\u306e\u30ed\u30c3\u30af\u72b6\u614b\u3067\u3059\u3002\u70b9\u706f\u3057\u3066\u3044\u308c\u3070\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002 3 TCP connection TCP\u63a5\u7d9a\u72b6\u6cc1\u3067\u3059 4 Not in use DIP # Comment 1 SiTCP IP setting 0: \u30c7\u30d5\u30a9\u30eb\u30c8IP\u3092\u4f7f\u7528\u3057\u307e\u3059  1: \u30e6\u30fc\u30b6\u30fc\u8a2d\u5b9a\u306eIP\u3092\u4f7f\u7528\u3057\u307e\u3059 (\u8981\u30e9\u30a4\u30bb\u30f3\u30b9)\u3002 2 NIMOUT setting 0: NIMOUT\u304b\u3089\u4f55\u3082\u51fa\u529b\u3057\u307e\u305b\u3093 1: NIMOUT\u304b\u3089CDCE62002\u306e\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u51fa\u529b\u3057\u307e\u3059 3 Not in use 4 Not in use"},{"location":"firmware/skeleton/skeleton/#local-bus-modules","title":"Local bus modules","text":"<p>Str-LRTDC\u306b\u306f3\u500b\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u304c\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30a2\u30c9\u30ec\u30b9\u306e\u30de\u30c3\u30d7\u3067\u3059\u3002</p> Local Module Address range CDCE62002 Controller 0xB000'0000 - 0xBFFF'0000 Self Diagnosis System 0xC000'0000 - 0xCFFF'0000 Flash Memory Programmer 0xD000'0000 - 0xDFFF'0000 Bus Controller 0xE000'0000 - 0xEFFF'0000"},{"location":"firmware/strhrtdc/strhrtdc/","title":"Streaming high-resolution TDC","text":""},{"location":"firmware/strhrtdc/strhrtdc/#overview","title":"Overview","text":"<p>Streaming high-resolution TDC (Str-HRTDC)\u306f20ps\u7cbe\u5ea6\u306e\u9023\u7d9a\u8aad\u307f\u51fa\u3057TDC\u3067\u3059\u3002 \u5c02\u7528\u306e\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3067\u3042\u308bmezzanine HR-TDC\u30ab\u30fc\u30c9\u304c\u5fc5\u8981\u3067\u3001\u30e1\u30b6\u30cb\u30f3\u4e0a\u306eFPGA\u3068AMANEQ\u672c\u4f53\u306eFPGA\u304c\u9023\u643a\u3057\u3066\u52d5\u4f5c\u3059\u308b\u4e8b\u30671\u3064\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u533a\u5225\u3059\u308b\u3068\u304d\u306fAMANEQ\u5074\u3092Str-HRTDC Base\u3001\u30e1\u30b6\u30cb\u30f3\u5074Mezzanine (Mzn) Str-HRTDC\u3068\u8868\u8a18\u3057\u307e\u3059\u3002</p> <p>Github repository (AMANEQ)</p> <p>Github repository (Mezzanine)</p> <pre><code>- Unique ID (AMANEQ):         0xC480\n- Unique ID (Mezzanine):      0x804c\n\n- Number of inputs:           64\n- Timing measurements:        Both edges\n- TDC precision:              ~23ps\n- Double hit resolution:      ~2ns\n- Max TOT length:             4000ns\n\n- Link protocol:              SiTCP-XG\n- Default IP:                 192.168.10.10\n- Data link speed:            10Gbps\n\n- Data word width:            64bit\n- Acceptable max input rate:  ~125MHz/board\n- System clock freq.:         125MHz\n</code></pre>"},{"location":"firmware/strhrtdc/strhrtdc/#history","title":"History","text":"Version Date Changes AMANEQ v2.A 2025.10.14 - 125 MHz system clock signal can be output from NIM-OUT ports by selecting it via IOM. v2.9 skipped - Bugfix version of v2.8.   - Fixed the bug breaking the data structure when using only upper mezzanine card. v2.8 2025.5.28 - Bugfix version of v2.7.   - A clock signal of 7.8125 MHz, divided by 16 from the system clock, can now be output from the NIM output port. v2.7 2025.3.5 - Bugfix version of v2.6. v2.6 Not working correctly with bug v2.5 2025.1.6 - Updating LACCP (v2.1) supporting the frame flag distribution.  - Introducing gated scaler. v2.4 2024.6.4 \u4e8b\u5b9f\u4e0a\u306e\u521d\u671f\u7248 Mezzanine v2.9 2025.10.14 - Fixed the bit position of the frameFlag1/2 swapped in the heartbeat delimiter flags. v2.8 2025.5.28 - Bugfix version of v2.7.  - Fixed the bug that the delay function for the trigger assisted mode does not work. v2.7 2025.3.5 - Bugfix version of v2.6.  - Enabling the function to generate data words with input throttling type-2 start/end data types.  - Fixed a bug that caused the same data to be duplicated in rare cases when a narrow pulse was entered. v2.6 Not working correctly with bug v2.5 2025.1.6 - Updating LACCP (v2.1) supporting the frame flag distribution.  - Introducing gated scaler.  - Introducing IO manager block arranging input/output paths to the NIM IO.  - Deprecating DIP2 function. v2.4 2024.6.4 \u4e8b\u5b9f\u4e0a\u306e\u521d\u671f\u7248"},{"location":"firmware/strhrtdc/strhrtdc/#functions","title":"Functions","text":"Figure\u00a01: Simplified block diagram of Str-HRTDC. <p>\u56f3\u306fStr-HRTDC\u306e\u7c21\u6613\u30d6\u30ed\u30c3\u30af\u30c0\u30a4\u30a2\u30b0\u30e9\u30e0\u3067\u3059\u3002 AMANEQ\u5074\u306b\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u3068MIKUMARI\u30dd\u30fc\u30c8\u304c\u5b58\u5728\u3059\u308b\u305f\u3081\u3001\u5916\u90e8\u3068\u306e\u901a\u4fe1\u3084\u540c\u671f\u306fAMANEQ\u304c\u884c\u3044\u307e\u3059\u3002 \u30e1\u30b6\u30cb\u30f3\u3068\u306f\u30e1\u30b6\u30cb\u30f3\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30bf\u3092\u901a\u3058\u3066\u3064\u306a\u304c\u3063\u3066\u304a\u308a\u3001\u8907\u6570\u306e\u901a\u4fe1\u30d7\u30ed\u30c8\u30b3\u30eb\u3067AMANEQ\u4e0a\u306eFPGA\u3068\u901a\u4fe1\u3092\u884c\u3044\u307e\u3059\u3002 Str-HRTDC Base\u4e0a\u306b\u306fMikumariClockHub\u3068\u540c\u69d8\u306b\u30af\u30ed\u30c3\u30af\u3092\u53d7\u4fe1\u3059\u308b\u305f\u3081\u306eLACCP\u3068\u518d\u9001\u4fe1\u3059\u308b\u305f\u3081\u306eLACCP\u304c\u5b58\u5728\u3057\u3001\u307e\u305aAMANEQ\u4e0a\u306e\u6642\u523b\u3092\u540c\u671f\u3057\u3066\u3001\u66f4\u306b\u30e1\u30b6\u30cb\u30f3\u4e0a\u306e\u6642\u523b\u540c\u671f\u3092\u884c\u3044\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001Str-HRTDC\u4e0a\u306b\u306f3\u3064\u306e\u6642\u523b\u30c9\u30e1\u30a4\u30f3\u304c\u5b58\u5728\u3057\u3001\u5404\u3005\u304c\u5185\u90e8\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\u983c\u308a\u306b\u52d5\u3044\u3066\u3044\u307e\u3059\u3002</p> <p>Str-HRTDC Base\u4e0a\u306b\u306fstreaming TDC\u306e\u6a5f\u80fd\u306e\u5185back merger\u4ee5\u964d\u306e\u6a5f\u80fd\u304c\u5b9f\u88c5\u3055\u308c\u3066\u304a\u308a\u3001\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u96c6\u3081\u3066SiTCP-XG\u3092\u901a\u3058\u3066PC\u3078\u9001\u4fe1\u3059\u308b\u4e8b\u304c\u5f79\u5272\u3067\u3059\u3002 AMANEQ\u672c\u4f53\u306b\u306f\u6642\u9593\u3092\u6e2c\u5b9a\u3059\u308b\u6a5f\u80fd\u306f\u5b9f\u88c5\u3055\u308c\u3066\u304a\u3089\u305a\u3001\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3092\u642d\u8f09\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u4f55\u3082\u3067\u304d\u307e\u305b\u3093\u3002 Scaler\u306f\u9650\u5b9a\u7684\u306a\u60c5\u5831\u3092\u8a18\u9332\u3057\u3066\u3044\u308b\u306e\u307f\u3067\u3059\u3002\u8a73\u3057\u304f\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002 Base \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30e2\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u3066\u304a\u308a\u3001AMANEQ\u5358\u4f53\u3067\u52d5\u4f5c\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002 \u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u751f\u6210\u306b\u306fCDCE62002\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u306e\u3067\u3001CDCE62002\u3092\u672a\u8a2d\u5b9a\u306eAMANEQ\u3067\u306f\u3053\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002 125 MHz\u306e\u5165\u529b\u304b\u3089500 MHz\u3068125 MHz\u306e\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u751f\u6210\u3059\u308b\u3088\u3046\u306bCDCE62002\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Str-HRTDC\u3068\u3057\u3066\u306e\u4e3b\u6a5f\u80fd\u306f\u6b86\u3069\u304c\u30e1\u30b6\u30cb\u30f3\u4e0a\u306eFPGA\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306b\u3064\u304d32ch\u5165\u529b\u304c\u53ef\u80fd\u3067\u3059\u3002 \u5165\u529b\u4fe1\u53f7\u898f\u683c\u306fLVDS\u306e\u307f\u3067\u3059\u3002AMANEQ\u672c\u4f53\u3068\u306f\u9055\u3044\u3001ECL\u3084PECL\u306f\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093\u3002 \u30e1\u30b6\u30cb\u30f3\u4e0a\u306estreaming TDC\u30d6\u30ed\u30c3\u30af\u306b\u306ffront-merger\u307e\u3067\u304c\u5b9f\u88c5\u3055\u308c\u3066\u304a\u308a\u3001\u6642\u9593\u5206\u89e3\u80fd\u304c20ps\u3067\u3042\u308b\u4e8b\u4ee5\u5916\u306f\u3001\u69cb\u9020\u7684\u306b\u6b86\u3069Str-LRTDC\u3068\u540c\u69d8\u3067\u3059\u3002 Streaming TDC\u3068\u3057\u3066\u306e\u57fa\u672c\u7684\u306a\u52d5\u4f5c\u306b\u3064\u3044\u3066\u306fStr-LRTDC\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Scaler\u6a5f\u80fd\u306b\u3064\u3044\u3066\u3082Str-LRTDC\u3068\u540c\u69d8\u3067\u3059\u304c\u3001\u30b7\u30b9\u30c6\u30e0\u30a4\u30f3\u30d5\u30a9\u30e1\u30fc\u30b7\u30e7\u30f3\u30922\u3064\u306e\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306f\u72ec\u7acb\u306b\u8a18\u9332\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u53d6\u6271\u3044\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u3082\u5f8c\u8ff0\u3057\u307e\u3059\u3002</p> <p>\u672c\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u901a\u4fe1\u30d7\u30ed\u30c8\u30b3\u30eb\u306fSiTCP-XG\u3067\u3059\u3002 Gigabit Ethernet\u3067\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002\u76f8\u624b\u5074\u308210Gigabit Ethernet\u3067\u901a\u4fe1\u53ef\u80fd\u306a\u6a5f\u5668\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u307e\u305f\u3001auto-negotiation\u306f\u50cd\u304b\u306a\u3044\u3067\u3059\u3002</p> Figure\u00a02: Port map of Str-HRTDC <p>\u56f3\u306fTDC\u5165\u529b\u30c1\u30e3\u30f3\u30cd\u30eb\u756a\u53f7\u3068MIKUMARI\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 MIKUMARI\u306e\u30dd\u30fc\u30c8\u306f\u30010\u756a\u304cupper mezzanine\u30011\u756a\u304clower mezzanine\u30012\u756a\u304c\u53d7\u4fe1\u7528\u306e\u30dd\u30fc\u30c8\u306b\u30a2\u30b5\u30a4\u30f3\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#led-and-dip-switch-20250106","title":"LED and DIP switch (2025.01.06)","text":"<p>MIKUMARI\u30b7\u30b9\u30c6\u30e0\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u30011-3\u756a\u304c\u3059\u3079\u3066\u70b9\u706f\u3057\u3066\u3044\u308c\u3070\u6b63\u5e38\u3067\u3059\u3002 \u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u306e\u5834\u5408\u30011\u756a\u30683\u756a\u304c\u70b9\u706f\u3057\u3066\u3044\u308c\u3070\u6b63\u5e38\u3067\u3059\u3002</p> LED # Comment 1 DAQ is running \u30c7\u30fc\u30bf\u8aad\u307f\u51fa\u3057\u4e2d\u3067\u3042\u308b\u4e8b\u3092\u793a\u3057\u307e\u3059\u3002 2 Ready for DAQ \u6642\u523b\u540c\u671f\u304c\u5b8c\u4e86\u3057\u3001DAQ\u3092\u8d70\u3089\u305b\u3089\u308c\u308b\u72b6\u614b\u3067\u3042\u308b\u4e8b\u3092\u793a\u3057\u307e\u3059\u3002 3 MIKUMARI (2) link up MIKUMARI\u30dd\u30fc\u30c8\u306e2\u756a\u304c\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002 4 PLL locked \u5168\u3066\u306e\u5185\u90e8\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304c\u6b63\u5e38\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002 <p>Str-HRTDC Base\u306f2\u679a\u3068\u3082\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3092\u642d\u8f09\u3057\u3066\u3044\u308b\u30b1\u30fc\u30b9\u3068\u3001upper slot\u306b\u3060\u3051\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3092\u642d\u8f09\u3057\u3066\u3044\u308b\u30b1\u30fc\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 Lower slot\u306b\u3060\u3051\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3092\u642d\u8f09\u3059\u308b\u3068\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002 \u642d\u8f09\u30e1\u30b6\u30cb\u30f3\u6570\u306b\u5fdc\u3058\u3066DIP 3\u756a\u3092\u9069\u5207\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> DIP # Comment AMANEQ 1 SiTCP IP setting 0: \u30c7\u30d5\u30a9\u30eb\u30c8IP\u3092\u4f7f\u7528\u3057\u307e\u3059  1: \u30e6\u30fc\u30b6\u30fc\u8a2d\u5b9a\u306eIP\u3092\u4f7f\u7528\u3057\u307e\u3059 (\u8981\u30e9\u30a4\u30bb\u30f3\u30b9)\u3002 2 Standalone mode 0: MIKUMARI\u30b7\u30b9\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u307e\u30591: \u30ed\u30fc\u30ab\u30eb\u767a\u632f\u5668\u3092\u4f7f\u7528\u3057\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30e2\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059 3 Lower Mzn absent 0: 2\u679a\u3068\u3082\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3092\u642d\u8f09\u3057\u3066\u3044\u308b\u5834\u5408  1: Upper mezzanine slow\u306e\u307f\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408 4 Not in use Mezzanine 1 Not in use 2 Not in use 3 Not in use 4 Not in use"},{"location":"firmware/strhrtdc/strhrtdc/#local-bus-modules","title":"Local bus modules","text":"<p>Str-HRTDC\u3067\u306f2\u3064\u306eFPGA\u304c\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30e1\u30b6\u30cb\u30f3\u5074\u306eFPGA\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306blocal bus\u306e\u62e1\u5f35\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 2\u3064\u306eFPGA\u306f\u56f3\u306b\u793a\u3059\u3088\u3046\u306bbus bridge primary/secondary\u3092\u901a\u3058\u3066\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 AMANEQ\u5074\u306ebus bridge primary (BBP) \u306flocal bus module\u3067\u3059\u3002 AMANEQ\u5074\u304b\u3089\u898b\u308b\u3068\u30e1\u30b6\u30cb\u30f3FPGA\u3078\u306e\u901a\u4fe1\u306fBBP\u3078\u306e\u8aad\u307f\u66f8\u304d\u306b\u898b\u3048\u307e\u3059\u3002 \u4e00\u65b9\u3001\u30e1\u30b6\u30cb\u30f3\u5074\u306ebus bridge secondary\u306flocal bus controller\u304b\u3089\u898b\u308b\u3068\u5916\u90e8\u30ea\u30f3\u30af\u306b\u898b\u3048\u307e\u3059\u3002</p> <p>BBP\u3092\u4ecb\u3057\u3066\u306e\u30a2\u30af\u30bb\u30b9\u306b\u306f\u901a\u5e38\u306e\u901a\u4fe1\u3088\u308a\u3082\u4f59\u8a08\u306b\u624b\u9806\u304c\u304b\u304b\u308a\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001hul-common-lib\u3067\u7528\u610f\u3057\u3066\u3044\u308b\u8aad\u307f\u66f8\u304d\u7528\u306e\u5b9f\u884c\u4f53\u3067\u306f\u7169\u96d1\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001amaneq-soft\u3067\u4e00\u9023\u306e\u901a\u4fe1\u3092\u307e\u3068\u3081\u305fwrite/read_mzn_register\u3068\u3044\u3046\u5b9f\u884c\u4f53\u3092\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002 \u30e1\u30b6\u30cb\u30f3FPGA\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u304d\u306f\u3053\u306e\u5b9f\u884c\u4f53\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30e1\u30b6\u30cb\u30f3\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30bf\u3092\u4ecb\u3057\u30662\u3064\u306eFPGA\u3064\u306a\u304c\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u3057\u3063\u304b\u308a\u3064\u306a\u304c\u3063\u3066\u3044\u306a\u3044\u3068\u901a\u4fe1\u30a8\u30e9\u30fc\u3092\u8d77\u3053\u3057\u307e\u3059\u3002 \u4e00\u5ea6\u30a8\u30e9\u30fc\u3092\u8d77\u3053\u3059\u3068local bus\u304c\u5fdc\u7b54\u3057\u306a\u304f\u306a\u308b\u305f\u3081\u3001\u30ea\u30bb\u30c3\u30c8\u30dc\u30bf\u30f3\u306b\u3088\u308b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30ea\u30bb\u30c3\u30c8\u304b\u3001MIKUMARI\u306b\u3088\u308b\u9060\u9694\u30ea\u30bb\u30c3\u30c8\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002</p> Figure\u00a03: Local bus bridge <p>Str-LRTDC Base\u306b\u306f8\u500b\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u304c\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30a2\u30c9\u30ec\u30b9\u306e\u30de\u30c3\u30d7\u3067\u3059\u3002</p> Local Module Address range Mikumari Utility 0x0000'0000 - 0x0FFF'0000 DAQ Controller 0x2000'0000 - 0x2FFF'0000 BusBridgePrimary upper 0x3000'0000 - 0x3FFF'0000 BusBridgePrimary lower 0x4000'0000 - 0x4FFF'0000 IO Manager 0x5000'0000 - 0x5FFF'0000 Scaler 0x8000'0000 - 0x8FFF'0000 CDCE62002 Controller 0xB000'0000 - 0xBFFF'0000 Self Diagnosis System 0xC000'0000 - 0xCFFF'0000 Flash Memory Programmer 0xD000'0000 - 0xDFFF'0000 Bus Controller 0xE000'0000 - 0xEFFF'0000 <p>Mezzanine Str-LRTDC\u306b\u306f5\u500b\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 \u30e1\u30b6\u30cb\u30f3\u5074\u306f\u4f7f\u7528\u3059\u308b\u30a2\u30c9\u30ec\u30b9\u306e\u30ec\u30f3\u30b8\u304c\u7570\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> Local Module Address range Mikumari Utility 0x0000 - 0x0FFF DAQ Controller 0x1000 - 0x1FFF Streaming TDC 0x2000 - 0x2FFF Scaler 0x8000 - 0x8FFF Self Diagnosis System 0xC000 - 0xCFFF Bus Controller 0xE000 - 0xEFFF"},{"location":"firmware/strhrtdc/strhrtdc/#module-reset","title":"Module reset","text":"Figure\u00a04: Local bus bridge <p>\u56f3\u306bStr-HRTDC\u306e\u30ea\u30bb\u30c3\u30c8\u7cfb\u7d71\u3092\u793a\u3057\u307e\u3059\u3002 \u30ea\u30bb\u30c3\u30c8\u30dc\u30bf\u30f3\u306fAMANEQ\u3068\u30e1\u30b6\u30cb\u30f3\u4e0a\u306eFPGA\u4e21\u65b9\u306b\u30ea\u30bb\u30c3\u30c8\u3092\u767a\u884c\u3059\u308b\u6700\u3082\u5f37\u529b\u306a\u65b9\u6cd5\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001MIKUMARI\u3092\u542b\u3081\u3066\u3059\u3079\u3066\u306e\u30d6\u30ed\u30c3\u30af\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u5b9f\u9a13\u4e2d\u306b\u6c17\u8efd\u306b\u62bc\u3059\u3053\u3068\u306f\u304a\u52e7\u3081\u3057\u306a\u3044\u3067\u3059\u3002 \u6700\u7d42\u624b\u6bb5\u3068\u3057\u3066\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3002 \u9060\u9694\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3046\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>Local bus\u304c\u6b63\u5e38\u306b\u5fdc\u7b54\u3059\u308b\u5834\u5408<ol> <li>Mezzanine\u306elocal bus controller (BCT) \u304b\u3089\u30e6\u30fc\u30b6\u30fc\u30ea\u30bb\u30c3\u30c8\u3092\u767a\u52b9\u3059\u308b</li> <li>AMANEQ\u306eBCT\u304b\u3089\u30e6\u30fc\u30b6\u30fc\u30ea\u30bb\u30c3\u30c8\u3092\u767a\u884c\u3059\u308b</li> </ol> </li> <li>Mezzanine\u5074\u306elocal bus\u304c\u6b63\u5e38\u306b\u5fdc\u7b54\u3057\u306a\u3044\u5834\u5408<ol> <li>DAQ controller \u304b\u3089force reset\u3092\u767a\u884c\u3057\u30e1\u30b6\u30cb\u30f3\u3092\u521d\u671f\u5316\u3059\u308b</li> <li>AMANEQ\u5074\u306eBCT\u304b\u3089\u30e6\u30fc\u30b6\u30fc\u30ea\u30bb\u30c3\u30c8\u3092\u767a\u884c\u3059\u308b</li> </ol> </li> <li>AMANEQ\u5074\u306elocal bus\u304c\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u306a\u3044\u5834\u5408<ol> <li>MIKUMARI\u7d4c\u7531\u3067AMANEQ\u3078\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3046</li> <li>DAQ controller \u304b\u3089force reset\u3092\u767a\u884c\u3057\u30e1\u30b6\u30cb\u30f3\u3092\u521d\u671f\u5316\u3059\u308b</li> </ol> </li> </ul> <p>\u3044\u305a\u308c\u306e\u5834\u5408\u306b\u304a\u3044\u3066\u3082\u3001\u30ea\u30bb\u30c3\u30c8\u5f8c\u306bamaneq-soft\u306einitialize\u3092\u5b9f\u884c\u3057\u3066daq data receiver\u3068tapped-delay line\u306eLUT\u306e\u6821\u6b63\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#streaming-tdc-block","title":"Streaming-TDC block","text":"<p>Streaming TDC\u306e\u57fa\u672c\u69cb\u9020\u306fStr-LRTDC\u3068\u540c\u69d8\u3067\u3059\u3002\u307e\u305a\u306f\u3001Str-LRTDC\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u3053\u3067\u306fHR-TDC\u306b\u7279\u6709\u306e\u4e8b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 \u307e\u305f\u3001tapped-delay line\u306b\u3088\u308b\u9ad8\u5206\u89e3\u80fd\u6642\u9593\u6e2c\u5b9a\u306b\u3064\u3044\u3066\u306fHUL\u306e\u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\u3082\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#data-receiver","title":"Data Receiver","text":"<p>\u30e1\u30b6\u30cb\u30f3\u5074\u306fDAQ\u30c7\u30fc\u30bf\u3092DDR transmitter\u3092\u901a\u3057\u30668 Gbps\u3067AMANEQ\u5074\u3078\u8ee2\u9001\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u3092AMANEQ\u5074\u3067\u53d7\u3051\u53d6\u308b\u305f\u3081\u306b\u306fDDR receiver\u3092\u521d\u671f\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u96fb\u6e90\u6295\u5165\u5f8c\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u30ea\u30bb\u30c3\u30c8\u5f8c\u306b\u306famaneq-soft\u306einitialize\u5b9f\u884c\u4f53\u3092\u4f7f\u3063\u3066\u521d\u671f\u5316\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#data-merging-block","title":"Data merging block","text":"<p>Str-HRTDC\u3067\u306ffront-merger\u3068back-merger\u304c\u7269\u7406\u7684\u306b2\u3064\u306eFPGA\u306b\u5206\u304b\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u9650\u3089\u308c\u305f\u4fe1\u53f7\u7dda\u3067streaming TDC\u5168\u4f53\u3092\u5236\u5fa1\u3057\u3066\u3044\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001\u9ad8\u8ca0\u8377\u306b\u306a\u3063\u305f\u6642\u306e\u5236\u5fa1\u304c\u3046\u307e\u304f\u3044\u304b\u305a\u30c7\u30fc\u30bf\u7834\u640d\u304cStr-LRTDC\u306b\u6bd4\u3079\u308b\u3068\u8d77\u3053\u308a\u3084\u3059\u3044\u3067\u3059\u3002 \u307e\u305f\u3001\u7834\u640d\u304c\u767a\u751f\u3057\u305f\u6642\u306b\u5fa9\u5e30\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u4e8b\u3082\u3042\u308a\u307e\u3059\u3002 \u591a\u304f\u306e\u5834\u5408\u3067\u3001\u30c7\u30fc\u30bf\u7834\u640d\u306fback-merger\u4e0a\u306elocal heartbeat frame number mismatch\u3068\u3057\u3066\u691c\u51fa\u3055\u308c\u307e\u3059\u3002 Self recovery mode\u3092ON\u306b\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u3053\u306e\u6642\u81ea\u52d5\u5fa9\u5e30\u3092\u8a66\u307f\u307e\u3059\u304c\u3001\u524d\u8ff0\u306e\u3088\u3046\u306b\u81ea\u52d5\u5fa9\u5e30\u3067\u304d\u306a\u3044\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002 Delimiter flags\u3092\u76e3\u8996\u3057\u3001\u3053\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u7d9a\u3051\u308b\u3088\u3046\u3067\u3042\u308c\u3070DAQ\u3092\u6b62\u3081\u3066\u30e2\u30b8\u30e5\u30fc\u30eb\u30ea\u30bb\u30c3\u30c8\u3092\u8a66\u307f\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#clock-synchronization","title":"Clock synchronization","text":"<p>2\u3064\u306e\u30e1\u30b6\u30cb\u30f3\u4e0a\u306eFPGA\u306e\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u306f\u3001AMANEQ\u4e0a\u306e\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u306b\u5bfe\u3057\u3066\u305d\u308c\u305e\u308c\u7570\u306a\u3063\u305f\u4f4d\u76f8\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002 Back-merger\u4e0a\u3067\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u3092\u7d50\u5408\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u3042\u3089\u304b\u3058\u3081LACCP fine offset\u306b\u3088\u3063\u3066\u6642\u523b\u88dc\u6b63\u3092\u884c\u3063\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u305d\u3046\u3057\u306a\u3044\u3068\u3001\u4f4d\u76f8\u95a2\u4fc2\u306e\u9055\u3046\u30d5\u30ec\u30fc\u30e0\u3092\u675f\u306d\u308b\u4e8b\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3067\u3059\u3002 LACCP fine offset\u306f2\u3064\u306eFPGA\u3067\u7570\u306a\u3063\u3066\u304a\u308a\u3001\u30c7\u30ea\u30df\u30bf\u30fc\u30ef\u30fc\u30c9\u4e0a\u306eLACCP fine offset\u306e\u9818\u57df\u306f1\u3064\u3057\u304b\u306a\u3044\u305f\u3081\u3001\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u4f4d\u76f8\u95a2\u4fc2\u3092\u305f\u3060\u3059\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u305d\u306e\u305f\u3081\u3001Str-HRTDC\u3067\u306fFPGA\u5185\u3067\u306eLACCP fine offset\u306b\u3088\u308b\u6642\u523b\u88dc\u6b63\u3092\u30aa\u30d5\u306b\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u306a\u3044\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#throttling","title":"Throttling","text":"<p>Str-HRTDC\u3067\u306fthrottling \u6a5f\u80fd\u306f\u3059\u3079\u3066\u30e1\u30b6\u30cb\u30f3\u5074\u306eFPGA\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Str-LRTDC\u3067\u306foutput throttling\u306fvital block\u306e\u6700\u5f8c\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001Str-HRTDC\u3067\u306ffront-merger\u306e\u5f8c\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u7406\u7531\u306f\u3001\u30e1\u30b6\u30cb\u30f3\u4e0a\u3067\u52d5\u3044\u3066\u3044\u308bstreaming TDC\u306f\u304a\u4e92\u3044\u72ec\u7acb\u3057\u305fDAQ\u6a5f\u80fd\u3067\u3042\u308b\u305f\u3081\u3067\u3059\u3002 AMANEQ\u4e0a\u306eFPGA\u306f2\u3064\u306e\u72ec\u7acb\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30c7\u30fc\u30bf\u3092\u307e\u3068\u3081\u3066\u30011\u3064\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u3088\u3046\u306b\u898b\u305b\u304b\u3051\u3066\u3044\u307e\u3059\u3002 \u30e1\u30b6\u30cb\u30f3\u30922\u3064\u642d\u8f09\u3057\u3066\u308b\u969b\u306b\u306f\u3001heartbeat frame throttling\u306e\u8a2d\u5b9a\u304c2\u3064\u306eFPGA\u3067\u540c\u3058\u306b\u306a\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 AMANEQ\u5074\u306eFPGA\u306b\u306f\u8a2d\u5b9a\u3067\u304d\u308bstreaming TDC\u306e\u6a5f\u80fd\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#data-structure","title":"Data structure","text":""},{"location":"firmware/strhrtdc/strhrtdc/#tdc-data-category","title":"TDC data category","text":"<pre><code>Str-HRTDC Leading/trailing data word\nMSB                                                                                                     LSB\n[    6-bit    ][    7-bit    ][           22-bit           ][                   29-bit                   ]\n   Data type       Channel                 TOT                                TDC timing\n\nThrottling data word\n[    6-bit    ][    7-bit    ][        16-bit        ][        16-bit        ][          18-bit          ]\n   Data type       Channel            Reserve            Throttling timing            Zero padding\n</code></pre> <p>\u4ee5\u4e0b\u306f\u5148\u982d\u306e6-bit data type\u306e\u30ea\u30b9\u30c8\u3067\u3059\u3002 Input throttling type-1\u306e\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u306f\u4e88\u7d04\u3060\u3051\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> 6-bit data-type pattern Type b001011 Leading edge timing b001101 Trailing edge timing b011001 Input throttling type-1 start b010001 Input throttling type-1 end b011010 Input throttling type-2 start b010010 Input throttling type-2 end <p>Leading/trailing data word\u3067\u306fLSB\u7cbe\u5ea6\u306fTOT\u3001TDC\u30bf\u30a4\u30df\u30f3\u30b0\u3068\u3082\u306b1/1024 ns (~0.98 ps)\u3067\u3059\u3002 \u7d041ps\u307e\u3067\u30c7\u30fc\u30bf\u30d3\u30c3\u30c8\u306f\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u30011ps\u306e\u6642\u9593\u5206\u89e3\u80fd\u3092\u6301\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u3002 \u3053\u308c\u306fFPGA\u304c\u6301\u3063\u3066\u3044\u308btapped-delay line\u306ecalibration LUT\u306e\u51fa\u529b\u3092\u8868\u73fe\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u30d3\u30c3\u30c8\u9577\u304c\u3053\u306e\u6841\u307e\u3067\u3042\u3063\u305f\u305f\u3081\u3067\u3059\u3002 TOT\u9818\u57df\u306f22-bit\u78ba\u4fdd\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u6700\u5927TOT\u5024\u306f4000ns\u3067\u3059\u3002\u305d\u308c\u4ee5\u4e0a\u306eTOT\u5024\u304c\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002 TDC\u30bf\u30a4\u30df\u30f3\u30b0\u9818\u57df\u306f\u5185\u90e8\u7684\u306b\u306f16-bit fine-scale timestamp + 13-bit fine timing\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <p>Throttling data word\u306fStr-LRTDC\u3068\u540c\u69d8\u3067\u3059\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#heartbeat-delimiter-category","title":"Heartbeat delimiter category","text":"<p>Str-LRTDC\u3068\u540c\u69d8\u3067\u3059\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#register-address-map","title":"Register address map","text":"<p>2025.01.06\u3000\u8ffd\u8a18</p> <p>kHbdUserReg\u306f\u30e1\u30b6\u30cb\u30f3\u5074\u3067\u306f\u306a\u304f\u3001AMANEQ\u5074\u3067\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002</p> Register name Address Read/Write Bit width Comment AMANEQ - - - - - Mezzanine kAddrControl 0x2010 W/R 2 Tdc unit control bits (default: 0x0)  1st-bit: Enable to  bypass the calibration LUT.  2nd-bit: Enable automatic page switch for the calibration LUT. kAddrReqSwitch 0x2020 W 1 Manually switch the calibration LUT page kAddrStatus 0x2030 R 1 Status register of the tdc unit kTdcMaskMain 0x2040 W/R 32 Channel mask for 0-31ch    (default: 0x0) kEnBypass 0x2050 W/R 2 Enable bypass for 2-us delay buffer and paring unit. (default: 0x0)  1st-bit: Enable bypass for 2-us delay buffer  2nd-bit: Enable bypass for paring unit. kTotFilterCtrl 0x2060 W/R 2 Enable TOT filter. (default: 0x0)  1st-bit: Enable TOT filter unit  2nd-bit: Enable zero-TOT through mode kTotMinTh 0x2070 W/R 22 TOT filter low threshold kTotMaxTh 0x2080 W/R 22 TOT filter high threshold kTrgAssistCtrl 0x2090 W/R 2 Set trigger assisted mode. (default: 0x0)  1st-bit: Enable trigger gate mode  2nd-bit: Enable Veto gate mode kTrgAssistDelay 0x20A0 W/R 8 Set the delay from the trigger (veto) input to opening the trigger (veto) gate. LSB precision is 8ns. kTrgAssistWidth 0x20B0 W/R 16 Set the trigger (veto) gate width. LSB precision is 8ns. kHbfThrottCtrl 0x20C0 W/R 4 Set the heartbeat frame throttling condition.  0x0: Disable (default)  0x1: Only data for frame numbers that are multiples of 2 is acquired.  0x2: Only data for frame numbers that are multiples of 4 is acquired.  0x4: Only data for frame numbers that are multiples of 8 is acquired.  0x8: Only data for frame numbers that are multiples of 16 is acquired. kHbdUserReg 0x20D0 W 16 The register value to be embedded to the 2nd delimiter word. kSelfRecoveryMode 0x20E0 W/R 1 Enable the automatic recovery process for the local heartbeat frame mismatch (default: 0x0). <p>\u88dc\u8db3\u8aac\u660e</p> <ul> <li>ControlBits<ul> <li>Calibration LUT\u3092\u30d0\u30a4\u30d1\u30b9\u3059\u308b\u3068raw tap number (0-63)\u304cTDC\u30c7\u30fc\u30bf\u306e\u4e0b\u4f4d\u30d3\u30c3\u30c8\u9818\u57df\u306b\u73fe\u308c\u307e\u3059\u304c\u3001\u30c7\u30d0\u30c3\u30b0\u7528\u306e\u6a5f\u80fd\u306e\u305f\u3081\u958b\u767a\u8005\u4ee5\u5916\u3067\u306f\u4f7f\u7528\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</li> <li>\u5165\u529b\u304c\u84c4\u7a4d\u3057\u3066\u6b21\u306eLUT\u30da\u30fc\u30b8\u304c\u6e96\u5099\u3067\u304d\u305f\u6bb5\u968e\u3067\u81ea\u52d5\u7684\u306b\u65b0\u3057\u3044\u30da\u30fc\u30b8\u3078\u30b9\u30a4\u30c3\u30c1\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002ON\u306b\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002</li> </ul> </li> <li>ReqSwitch<ul> <li>Calibration LUT\u30da\u30fc\u30b8\u3092\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u30b9\u30a4\u30c3\u30c1\u3057\u307e\u3059\u3002\u81ea\u52d5\u30b9\u30a4\u30c3\u30c1\u6a5f\u80fd\u306fOFF\u306b\u3057\u3066\u304b\u3089\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> </ul> </li> <li>Status<ul> <li>1st-bit: Readiness of the next calibration LUT page</li> </ul> </li> <li>TdcMask<ul> <li>TdcMask\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3068\u8a72\u5f53\u30c1\u30e3\u30f3\u30cd\u30eb\u304b\u3089TDC\u30c7\u30fc\u30bf\u304c\u51fa\u529b\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002</li> <li>LSB\u5074\u304c\u82e5\u3044\u30c1\u30e3\u30f3\u30cd\u30eb\u756a\u53f7\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</li> <li>Scaler\u3078\u306f\u5f71\u97ff\u3092\u4e0e\u3048\u307e\u305b\u3093\u3002</li> </ul> </li> <li>EnBypass<ul> <li>2-us delay buffer\u3092\u30d0\u30a4\u30d1\u30b9\u3059\u308b\u6a5f\u80fd\u306f\u73fe\u72b6DAQ\u6a5f\u80fd\u306b\u4f55\u3082\u5909\u5316\u3092\u4e0e\u3048\u307e\u305b\u3093\u3002</li> <li>\u30da\u30a2\u30ea\u30f3\u30b0\u30e6\u30cb\u30c3\u30c8\u3092\u30d0\u30a4\u30d1\u30b9\u3059\u308b\u3068\u7acb\u4e0b\u308a\u30c7\u30fc\u30bf\u304c\u5225\u306b\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002</li> </ul> </li> <li>TotFilter<ul> <li>Zero-TOT through mode\u3067\u306f\u305f\u3068\u3048\u4e0b\u9650\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u305f\u3068\u3057\u3066\u3082TOT\u304c0\u306e\u30c7\u30fc\u30bf\u3092\u4f8b\u5916\u7684\u306b\u901a\u904e\u3055\u305b\u307e\u3059\u3002</li> <li>\u95be\u5024\u8a2d\u5b9a\u306eLSB\u7cbe\u5ea6\u306fTDC\u3068\u540c\u3058~0.98ps\u3067\u3059\u3002</li> </ul> </li> <li>TrgAssist<ul> <li>Trigger mode\u3067\u306f\u30c8\u30ea\u30ac\u30fc\u5165\u529b\u306b\u3088\u308a\u30c7\u30fc\u30bf\u3092\u901a\u904e\u3055\u305b\u308b\u305f\u3081\u306e\u30b2\u30fc\u30c8\u3092\u958b\u304d\u307e\u3059\u3002Veto mode\u3067\u306f\u30d9\u30c8\u5165\u529b\u306b\u3088\u308a\u30c7\u30fc\u30bf\u3092\u30d6\u30ed\u30c3\u30af\u3059\u308b\u30b2\u30fc\u30c8\u3092\u958b\u304d\u307e\u3059\u3002</li> <li>kTrgAssistCtrl\u306b\u306f0x3\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002</li> </ul> </li> <li>SelfRecoveryMode<ul> <li>Local heartbeat frame number mismatch (delimiter flag 10th bit)\u304c\u767a\u751f\u3057\u305f\u6642\u306b\u81ea\u52d5\u5fa9\u5e30\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002</li> <li>\u3053\u306e\u30e2\u30fc\u30c9\u304c\u6709\u52b9\u306e\u6642local heartbeat frame mismatch\u304c\u8d77\u304d\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bDAQ\u72b6\u614b\u3092OFF\u3057\u3066\u30c7\u30fc\u30bf\u9001\u4fe1\u3092\u6b62\u3081\u3001\u30c7\u30fc\u30bf\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3066\u304b\u3089DAQ\u72b6\u614b\u3092ON\u3057\u30c7\u30fc\u30bf\u9001\u4fe1\u3092\u518d\u958b\u3057\u307e\u3059\u3002</li> <li>\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304b\u3089\u306f\u6570\u30d5\u30ec\u30fc\u30e0\u307b\u3069\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u304c\u629c\u3051\u305f\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002</li> </ul> </li> </ul>"},{"location":"firmware/strhrtdc/strhrtdc/#scaler","title":"Scaler","text":"<p>\u30b9\u30b1\u30fc\u30e9\u30fc\u6a5f\u80fd\u306e\u6982\u8981\u3068\u30c7\u30fc\u30bf\u69cb\u9020\u306fStr-LRTDC\u3068\u540c\u69d8\u3067\u3059\u304c\u3001Str-HRTDC\u3067\u306f3\u3064\u306e\u30b9\u30b1\u30fc\u30e9\u30fc\u304c\u72ec\u7acb\u306b\u52d5\u3044\u3066\u3044\u307e\u3059\u3002</p> <ul> <li>AMANEQ\u306e\u30b9\u30b1\u30fc\u30e9\u30fc<ul> <li>Real time, Mikumari error number, Trigger request, Trigger rejected \u306e\u307f\u3092\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</li> </ul> </li> <li>Mezzanine card\u306e\u30b9\u30b1\u30fc\u30e9\u30fc<ul> <li>Trigger request\u3068Trigger rejected\u4ee5\u5916\u306e\u5168\u3066\u30922\u53f0\u306eFPGA\u3067\u72ec\u7acb\u306b\u8a18\u9332\u3057\u3066\u3044\u307e\u3059\u3002</li> </ul> </li> </ul>"},{"location":"firmware/strhrtdc/strhrtdc/#register-address-map_1","title":"Register address map","text":"Register name Address Read/Write Bit width Comment AMANEQ Same as for Str-LRTDC Mezzanine kAddrScrReset 0x8000 W 1 Reset signals  0x1: Local reset  0x2: Global reset  0x4: FIFO reset kAddrLatchCnt0 0x8010 R 1 Send latch request to the free-run scaler unit kAddrLatchCnt1 0x8011 R 1 Send latch request to the gated scaler 1 kAddrLatchCnt2 0x8012 R 1 Send latch request to the gated scaler 2 kAddrNumCh 0x8020 R 8 Number of words of scaler data block including system information (unit: words) kAddrStatus 0x8030 R 8 Scaler unit status kAddrReadFIFO 0x8100 R - Address to read data from FIFO <p>\u88dc\u8db3\u8aac\u660e</p> <ul> <li>AddrScrReset<ul> <li>Local reset\u306f\u30a2\u30af\u30bb\u30b9\u5148\u306e\u30b9\u30b1\u30fc\u30e9\u30fc\u30ab\u30a6\u30f3\u30c8\u306e\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3044\u307e\u3059\u3002</li> <li>Global reset\u306f\u30a2\u30af\u30bb\u30b9\u5148\u306e\u30b9\u30b1\u30fc\u30e9\u30fc\u30ab\u30a6\u30f3\u30c8\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3001\u3055\u3089\u306bMIKUMARI\u30ea\u30f3\u30af\u7d4c\u7531\u3067\u30b9\u30b1\u30fc\u30e9\u30fc\u30ea\u30bb\u30c3\u30c8\u4fe1\u53f7\u3092\u4e0b\u6d41\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u9001\u4fe1\u3057\u307e\u3059\u3002MikuClockRoot\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306e\u307f\u6709\u52b9\u306a\u6a5f\u80fd\u3067\u3059\u3002</li> <li>FIFO reset\u306f\u30a2\u30af\u30bb\u30b9\u5148\u306eFIFO\u306e\u4e2d\u8eab\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002</li> </ul> </li> <li>LatchCnt<ul> <li>\u3053\u306e\u30a2\u30c9\u30ec\u30b9\u3078\u8aad\u307f\u51fa\u3057\u30a2\u30af\u30bb\u30b9\u3092\u3059\u308b\u3068\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u306a\u308a\u307e\u3059\u3002</li> <li>\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u3063\u3066\u3069\u306e\u30b9\u30b1\u30fc\u30e9\u30e6\u30cb\u30c3\u30c8\u3078\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3059\u308b\u304b\u6c7a\u307e\u308a\u307e\u3059\u3002</li> </ul> </li> <li>NumCh<ul> <li>\u30b9\u30b1\u30fc\u30e9\u30fc\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306e\u30ef\u30fc\u30c9\u6570\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u306e\u3067\u3001\u4f55\u30ef\u30fc\u30c9\u8aad\u307f\u51fa\u3057\u305f\u3089\u3088\u3044\u304b\u77e5\u308b\u305f\u3081\u306e\u30ec\u30b8\u30b9\u30bf\u3067\u3059\u3002\u8aad\u3080\u3079\u304d\u30ef\u30fc\u30c9\u6570\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</li> </ul> </li> <li>Status<ul> <li>1st-bit: FIFO empty</li> <li>others: Reserved</li> </ul> </li> <li>ReadFIFO<ul> <li>1-byte\u305a\u3064\u30c7\u30fc\u30bf\u3092FIFO\u304b\u3089\u8aad\u307f\u51fa\u3059\u305f\u3081\u306e\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002<ul> <li> <ul> <li>3\u7a2e\u985e\u306e\u30b9\u30b1\u30fc\u30e9\u30e6\u30cb\u30c3\u30c8\u3067ReadFIFO\u3092\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3057\u305f\u30e6\u30cb\u30c3\u30c8\u306e\u30c7\u30fc\u30bf\u304cFIFO\u306b\u306f\u5165\u3063\u3066\u3044\u307e\u3059\u3002</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"firmware/strhrtdc/strhrtdc/#mikumari-utility","title":"Mikumari Utility","text":""},{"location":"firmware/strhrtdc/strhrtdc/#register-address-map_2","title":"Register address map","text":"<p>AMANEQ\u5074\u306e\u30a2\u30c9\u30ec\u30b9\u30de\u30c3\u30d7\u306fStr-LRTDC\u3068\u540c\u69d8\u3067\u3059\u3002 Overview\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4ee5\u4e0b\u306b\u3001\u30e1\u30b6\u30cb\u30f3\u5074\u306e\u30a2\u30c9\u30ec\u30b9\u30de\u30c3\u30d7\u3092\u793a\u3057\u307e\u3059\u3002</p> Register name Address Read/Write Bit width Comment kAddrCbtLaneUp 0x0000 R 32 \u5404\u30d3\u30c3\u30c8\u304cMIKUMARI\u306e\u7269\u7406\u5c64(CBT)\u306e\u72b6\u614b\u3092\u793a\u3057\u307e\u3059\u30021\u3067\u7269\u7406\u5c64\u304c\u30ec\u30c7\u30a3\u306e\u72b6\u614b\u3067\u3059\u3002\u3069\u306e\u30d3\u30c3\u30c8\u304c\u3069\u306e\u30dd\u30fc\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u306e\u304b\u3001\u4f55\u30d3\u30c3\u30c8\u76ee\u307e\u3067\u6709\u52b9\u3067\u3042\u308b\u304b\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 kAddrCbtTapValueIn 0x0010 R 5 CBT\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308bIDELAY\u306e\u30bf\u30c3\u30d7\u5024\u3092\u8aad\u307f\u53d6\u308a\u307e\u3059 (RegIndex\u306b\u3088\u308b\u6307\u5b9a\u304c\u6709\u52b9) kAddrCbtTapValueOut 0x0020 W 5 CBT\u306b\u8a2d\u5b9a\u3059\u308b\u3079\u304dIDELAY\u306e\u30bf\u30c3\u30d7\u5024\u3092\u4e0e\u3048\u307e\u3059 (RegIndex\u306b\u3088\u308b\u6307\u5b9a\u304c\u6709\u52b9) kAddrCbtBitSlipIn 0x0030 R 4 CBT\u304c\u884c\u3063\u305f\u30d3\u30c3\u30c8\u30b9\u30ea\u30c3\u30d7\u306e\u56de\u6570\u3092\u8aad\u307f\u53d6\u308a\u307e\u3059 (RegIndex\u306b\u3088\u308b\u6307\u5b9a\u304c\u6709\u52b9) kAddrCbtInit 0x0040 W 32 CBT\u3078\u521d\u671f\u5316\u547d\u4ee4\u3092\u9001\u308a\u307e\u3059\u3002\u5404\u30d3\u30c3\u30c8\u304c\u5404\u30dd\u30fc\u30c8\u3078\u306e\u521d\u671f\u5316\u4fe1\u53f7\u306b\u306a\u3063\u3066\u304a\u308a\u30011\u3067\u521d\u671f\u5316\u306e\u5b9f\u884c\u3067\u3059\u3002\u3069\u306e\u30d3\u30c3\u30c8\u304c\u3069\u306e\u30dd\u30fc\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u306e\u304b\u3001\u4f55\u30d3\u30c3\u30c8\u76ee\u307e\u3067\u6709\u52b9\u3067\u3042\u308b\u304b\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 kAddrMikumariUp 0x0050 R 32 \u5404\u30d3\u30c3\u30c8\u304cMIKUMARI\u30ea\u30f3\u30af\u306e\u72b6\u614b\u3092\u793a\u3057\u307e\u3059\u30021\u3067\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u306e\u72b6\u614b\u3067\u3059\u3002\u3069\u306e\u30d3\u30c3\u30c8\u304c\u3069\u306e\u30dd\u30fc\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u306e\u304b\u3001\u4f55\u30d3\u30c3\u30c8\u76ee\u307e\u3067\u6709\u52b9\u3067\u3042\u308b\u304b\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 kAddrLaccpUp 0x0060 R 32 \u5404\u30d3\u30c3\u30c8\u304cLACCP\u306e\u72b6\u614b\u3092\u793a\u3057\u307e\u3059\u30021\u3067\u6642\u523b\u540c\u671f\u304c\u5b8c\u4e86\u3057\u305f\u72b6\u614b\u3067\u3059\u3002\u3069\u306e\u30d3\u30c3\u30c8\u304c\u3069\u306e\u30dd\u30fc\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u306e\u304b\u3001\u4f55\u30d3\u30c3\u30c8\u76ee\u307e\u3067\u6709\u52b9\u3067\u3042\u308b\u304b\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 kAddrPartnerIpAddr 0x0070 R 32 \u63a5\u7d9a\u5148\u306eSiTCP\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u5f97\u3057\u307e\u3059\uff08RegIndex\u306b\u3088\u308b\u6307\u5b9a\u304c\u6709\u52b9) kAddrHbcOffset 0x0080 R 16 Heartbeat counter\u3078\u4e0e\u3048\u3089\u3089\u308c\u305f\u30aa\u30d5\u30bb\u30c3\u30c8\u5024\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002(LACCP\u306e\u30bb\u30ab\u30f3\u30c0\u30ea\u5074\u306e\u307f\u6709\u52b9) kAddrLocalFineOffset 0x0090 R 16 LACCP\u304c\u7b97\u51fa\u3057\u305flocal fine offset\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002(LACCP\u30bb\u30ab\u30f3\u30c0\u30ea\u5074\u306e\u307f\u6709\u52b9) kAddrLaccpFineOffset 0x00A0 R 16 LACCP\u304c\u7b97\u51fa\u3057\u305fLACCP fine offset\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\uff08LACCP\u30bb\u30ab\u30f3\u30c0\u30ea\u5074\u306e\u307f\u6709\u52b9) kAddrHbfState 0x00B0 W/R 1 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u30021\u3067DAQ running\u30010\u3067DAQ idle\u3067\u3059\u3002\u305d\u306e\u30af\u30ed\u30c3\u30af\u5206\u914d\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306eroot\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u306e\u307f\u6709\u52b9\u3002 kAddrRegIndex 0x0100 W/R 6 \u3044\u304f\u3064\u304b\u306e\u30ec\u30b8\u30b9\u30bf\u306b\u304a\u3044\u3066\u8aad\u307f\u66f8\u304d\u3092\u884c\u3046\u5bfe\u8c61\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 kAddrNumLinks 0x0200 R 6 \u305d\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u304c\u5099\u3048\u3066\u3044\u308bMIKUMARI\u30ea\u30f3\u30af\u306e\u6570\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002"},{"location":"firmware/strhrtdc/strhrtdc/#daq-controller","title":"DAQ Controller","text":"<p>DAQ Controller\u306fmezzanine card\u5074\u306eDDR transmitter\u3068AMANEQ\u5074\u306eDDR receiver\u306e\u521d\u671f\u5316\u3092\u884c\u3046\u4e8b\u304c\u5f79\u5272\u3067\u3059\u3002 \u96fb\u6e90\u6295\u5165\u5f8c\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u30ea\u30bb\u30c3\u30c8\u5f8c\u306bamaneq-soft\u306einitialize\u5b9f\u884c\u4f53\u3092\u4f7f\u3063\u3066\u521d\u671f\u5316\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u307e\u305f\u3001\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u5074\u3067\u306f\u6700\u521d\u306ecalibration LUT\u30da\u30fc\u30b8\u3092\u4f5c\u308b\u305f\u3081\u306e\u88dc\u52a9\u3082\u884c\u3044\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u30fc\u304c\u5404\u30ec\u30b8\u30b9\u30bf\u306b\u500b\u5225\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u4e8b\u306f\u306a\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u3002</p>"},{"location":"firmware/strhrtdc/strhrtdc/#register-address-map_3","title":"Register address map","text":"<p>2025.01.06 \u8ffd\u8a18</p> <p>Heartbeat delimiter\u3078\u306euser register\u8a2d\u5b9a\u306fAMANEQ\u5074\u306eDAQ Controller\u3067\u8a2d\u5b9a\u3059\u308b\u4e8b\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> Register name Address Read/Write Bit width Comment AMANEQ AMANEQ kAddrInitDDR 0x2020'0000 W 1 Assert DDR receiver initialize signal kAddrCtrlReg 0x2030'0000 W/R 6 DDR receiver control register  1st-bit: Enable test mode upper  2nd-bit: Enable test mode lower  3rd-bit: Enable upper slot  4th-bit: Enable lower slot  5th-bit: Force reset upper  6th-bit: Force reset lower kAddrRcvStatus 0x2040'0000 R 4 Receiver status  1st-bit: Bit aligned upper  2nd-bit: Bit aligned lower  3rd-bit: BitError upper  4th-bit: Bit error lower kHbdUserReg 0x2050'0000 W 16 The register value to be embedded to the 2nd delimiter word Mezzanine Mezzanine kAddrCtrlReg 0x1000 W/R 1 Enable transmitter test mode kAddrExtraPath 0x1010 W/R 1 Calibrate the LUT for tapped-delay line with the clock signal"},{"location":"firmware/strhrtdc/strhrtdc/#io-manager","title":"IO Manager","text":"<p>IO Manager\u306fAMANEQ\u306eNIM IO\u3068FPGA\u5185\u90e8\u306e\u4fe1\u53f7\u7b49\u306e\u63a5\u7d9a\u95a2\u4fc2\u3092\u7ba1\u7406\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 NIM\u30dd\u30fc\u30c8\u304b\u3089\u5165\u529b\u3055\u308c\u305f\u4fe1\u53f7\u3092\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3001\u307e\u305f\u5185\u90e8\u4fe1\u53f7\u3092\u3069\u306eNIM\u30dd\u30fc\u30c8\u304b\u3089\u51fa\u529b\u3059\u308b\u304b\u3092SiTCP\u3092\u901a\u3058\u3066\u5909\u66f4\u3057\u307e\u3059\u3002</p> Register name Address Read/Write Bit width Comment kFrameFlag1In 0x50000000 W/R 2 Setting the NIM-IN port to the internal frame flag-1 signal. It is valid when the module is the standalone mode. (default 0x0) kFrameFlag2In 0x50100000 W/R 2 Setting the NIM-IN port to the internal frame flag-2 signal. It is valid when the module is the standalone mode. (default (0x1)) kTriggerIn 0x50200000 W/R 2 Setting the NIM-IN port to the internal trigger in signal. (default (0x3)) kScrResetIn 0x50300000 W/R 2 Setting the NIM-IN port to the internal scaler reset signal. This signal will be distributed to the mezzanine cards through MIKUMARI. (default (0x3)) kSelOutSig1 0x51000000 W/R 3 Selecting the internal signal to output from the NIM-OUT port 1. kSelOutSig2 0x51100000 W/R 3 Selecting the internal signal to output from the NIM-OUT port 2. <p>\u30a2\u30c9\u30ec\u30b9\u5024\u304c<code>0x50X0'0000</code>\u306e\u30ec\u30b8\u30b9\u30bf\u306fNIM-IN\u30dd\u30fc\u30c8\u3092\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002 \u5404\u30ec\u30b8\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> Register value Comment 0x0 Connecting the NIM-IN port 1 to the corresponding internal signal. 0x1 Connecting the NIM-IN port 2 to the corresponding internal signal. 0x2 Not in use 0x3 Connecting GND to the corresponding internal signal. <p>\u30a2\u30c9\u30ec\u30b9\u5024\u304c<code>0x51X0'0000</code>\u306e\u30ec\u30b8\u30b9\u30bf\u306f\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3092NIM-OUT\u30dd\u30fc\u30c8\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002 \u5404\u30ec\u30b8\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> Register value Comment 0x0 Connecting the heartbeat signal. 0x1 Connecting the TCP connection establish. 0x2 Connecting the trigger signal from LACCP. 0x3 Connecting the frame flag-1. 0x4 Connecting the frame flag-2. 0x5 Connecting the div16 clock (7.8125 MHz) 0x6 Connecting the system clock signal (125 MHz). 0x7 Connecting the logic of 1"},{"location":"firmware/strlrtdc/strlrtdc/","title":"Streaming low-resolution TDC","text":""},{"location":"firmware/strlrtdc/strlrtdc/#overview","title":"Overview","text":"<p>Streaming low-resolution TDC (Str-LRTDC)\u306f128ch\u5165\u529b\u306e1ns\u7cbe\u5ea6\u9023\u7d9a\u8aad\u307f\u51fa\u3057TDC\u3067\u3059\u3002</p> <p>Github repository</p> <pre><code>- Unique ID:                  0x60c4\n\n- Number of inputs:           128\n- Timing measurements:        Both edges\n- TDC precision:              1ns\n- Double hit resolution:      ~8ns\n- Max TOT length:             4000ns\n\n- Link protocol:              SiTCP\n- Default IP:                 192.168.10.16\n- Data link speed:            1Gbps\n\n- Data word width:            64bit\n- Acceptable max input rate:  ~14MHz/board\n- System clock freq.:         125MHz\n</code></pre>"},{"location":"firmware/strlrtdc/strlrtdc/#history","title":"History","text":"Version Date Changes v2.A 2025.10.14 - Fixed the bit position of the frameFlag1/2 swapped in the heartbeat delimiter flags.  - 125 MHz system clock signal can be output from NIM-OUT ports by selecting it via IOM. v2.9 2025.5.28 - Bugfix version of v2.8.  - Fixed the bug that the delay function for the trigger assisted mode does not work.  - A clock signal of 7.8125 MHz, divided by 16 from the system clock, can now be output from the NIM output port. v2.8 2025.3.5 - Bugfix version of v2.6.  - Enabling the function to generate data words with input throttling type-2 start/end data types. v2.7 Missing version v2.6 2025.1.6 - Updating LACCP (v2.1) supporting the frame flag distribution.  - Introducing gated scaler.  - Introducing IO manager block arranging input/output paths to the NIM IO.  - Deprecating the extra 129th TDC input from NIM.  - Deprecating DIP2 function. v2.5 2024.6.4 \u4e8b\u5b9f\u4e0a\u306e\u521d\u671f\u7248"},{"location":"firmware/strlrtdc/strlrtdc/#functions","title":"Functions","text":"Figure\u00a01: Simplified block diagram of Str-LRTDC. <p>\u56f3\u306fStr-LRTDC\u306e\u7c21\u6613\u30d6\u30ed\u30c3\u30af\u30c0\u30a4\u30a2\u30b0\u30e9\u30e0\u3067\u3059\u3002 Main input\u3068\u30e1\u30b6\u30cb\u30f3\u30b9\u30ed\u30c3\u30c8\u3092\u5165\u529b\u3068\u3057\u3066\u5229\u7528\u3057\u3001\u6700\u5927128ch\u5165\u529b\u3092\u53d7\u3051\u4ed8\u3051\u307e\u3059\u3002 AMANEQ\u672c\u4f53\u306e\u307f\u306764ch\u5165\u529b\u304c\u53ef\u80fd\u3067\u3042\u308a\u3001128ch\u307e\u3067\u62e1\u5f35\u3059\u308b\u5834\u5408\u306fDCRv2\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u304c\u5fc5\u8981\u3067\u3059\u3002 \u3053\u308c\u3089\u306e\u5165\u529b\u4fe1\u53f7\u306f\u9023\u7d9a\u8aad\u307f\u51fa\u3057TDC (Str-TDC)\u30d6\u30ed\u30c3\u30af\u3068\u30b9\u30b1\u30fc\u30e9\u30fc\u30d6\u30ed\u30c3\u30af\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Str-TDC\u30d6\u30ed\u30c3\u30af\u3067\u306f1ns\u7cbe\u5ea6\u3067\u4fe1\u53f7\u306e\u30ea\u30fc\u30c7\u30a3\u30f3\u30b0\u3068\u30c8\u30ec\u30fc\u30ea\u30f3\u30b0\u30a8\u30c3\u30b8\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u6e2c\u5b9a\u3057\u3001\u5185\u90e8\u30672\u3064\u306e\u30a8\u30c3\u30b8\u306e\u30da\u30a2\u30ea\u30f3\u30b0\u3092\u884c\u3044TOT\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u9001\u4fe1\u306fSiTCP\u306eTCP\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u884c\u3044\u307e\u3059\u3002 Str-TDC\u306f\u30c8\u30ea\u30ac\u30fc\u30ec\u30b9\u306e\u9023\u7d9a\u8aad\u307f\u51fa\u3057TDC\u3067\u3059\u304c\u3001\u30c8\u30ea\u30ac\u30fc\u4fe1\u53f7\u306b\u3088\u3063\u3066\u5185\u90e8\u30b2\u30fc\u30c8\u3092\u751f\u6210\u3057\u3001\u9078\u629e\u7684\u306b\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u6a5f\u80fd\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 TDC\u30d6\u30ed\u30c3\u30af\u306e\u8a73\u7d30\u306fDAQ\u6a5f\u80fd\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8a73\u3057\u304f\u8ff0\u3079\u307e\u3059\u3002</p> <p>\u30b9\u30b1\u30fc\u30e9\u30fc\u30d6\u30ed\u30c3\u30af\u306f\u5185\u90e8\u306b32-bit\u30ab\u30a6\u30f3\u30bf\u3092\u6709\u3057\u3066\u304a\u308a\u3001TDC\u30d6\u30ed\u30c3\u30af\u306e\u52d5\u4f5c\u3068\u306f\u72ec\u7acb\u306b\u5165\u529b\u4fe1\u53f7\u306e\u6570\u3092\u6570\u3048\u307e\u3059\u3002 DAQ\u6a5f\u80fd\u304c\u52d5\u3044\u3066\u3044\u306a\u3044\u6642\u3067\u3082\u3001\u5e38\u306b\u5165\u529b\u6570\u3092\u6570\u3048\u7d9a\u3051\u308b\u30d5\u30ea\u30fc\u30e9\u30f3\u306e\u30b9\u30b1\u30fc\u30e9\u30fc\u3067\u3059\u3002 \u30b9\u30b1\u30fc\u30e9\u30fc\u30c7\u30fc\u30bf\u306fRBCP\u3092\u4f7f\u3063\u3066UDP\u3067\u8aad\u307f\u51fa\u3057\u307e\u3059\u3002 RBCP\u304b\u3089\u8aad\u307f\u51fa\u3057\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u3042\u308b\u3068\u30ab\u30a6\u30f3\u30bf\u5024\u3092\u30e9\u30c3\u30c1\u3057\u3066\u3001\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u4ed8\u4e0e\u3057\u3066PC\u3078\u9001\u4fe1\u3057\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u30fc\u306f\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u898b\u308b\u4e8b\u3067\u5165\u529b\u30ec\u30fc\u30c8\u306e\u8a08\u7b97\u3092\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002</p> <p>MIKUMARI\u30dd\u30fc\u30c8\u306fmini-mezzanine CRV (GN-2006-1\u306e\u5834\u5408)\u304b\u30d5\u30ed\u30f3\u30c8\u30d1\u30cd\u30eb\u306eSFP\u30dd\u30fc\u30c8 (GN-2006-4)\u306b\u3064\u306a\u304c\u3063\u3066\u3044\u307e\u3059\u3002 Str-LRTDC\u306f\u30af\u30ed\u30c3\u30af\u540c\u671f\u7d4c\u8def\u4e0a\u306e\u30ea\u30fc\u30d5\u30ce\u30fc\u30c9\u3067\u3042\u308a\u3001\u3053\u308c\u3088\u308a\u4e0b\u6d41\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u518d\u540c\u671f\u3059\u308b\u80fd\u529b\u306f\u3042\u308a\u307e\u305b\u3093\u3002 MIKUMARI\u30b7\u30b9\u30c6\u30e0\u3092\u7528\u3044\u305a\u306b\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3068\u304d\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u30bd\u30fc\u30b9\u306b\u30ed\u30fc\u30ab\u30eb\u767a\u632f\u5668\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> Figure\u00a02: Port map of Str-LRTDC <p>\u56f3\u306fTDC\u5165\u529b\u30c1\u30e3\u30f3\u30cd\u30eb\u756a\u53f7\u3068MIKUMARI\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 MIKUMARI\u306e\u30dd\u30fc\u30c8\u306f\u30bb\u30ab\u30f3\u30c0\u30ea\u304c0\u756a\u306b\u30a2\u30b5\u30a4\u30f3\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#led-and-dip-switch-20250106","title":"LED and DIP switch (2025.01.06)","text":"<p>MIKUMARI\u30b7\u30b9\u30c6\u30e0\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u30011-3\u756a\u304c\u3059\u3079\u3066\u70b9\u706f\u3057\u3066\u3044\u308c\u3070\u6b63\u5e38\u3067\u3059\u3002 \u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u306e\u5834\u5408\u30011\u756a\u30683\u756a\u304c\u70b9\u706f\u3057\u3066\u3044\u308c\u3070\u6b63\u5e38\u3067\u3059\u3002</p> LED # Comment 1 DAQ is running \u30c7\u30fc\u30bf\u8aad\u307f\u51fa\u3057\u4e2d\u3067\u3042\u308b\u4e8b\u3092\u793a\u3057\u307e\u3059\u3002 2 Ready for DAQ \u6642\u523b\u540c\u671f\u304c\u5b8c\u4e86\u3057\u3001DAQ\u3092\u8d70\u3089\u305b\u3089\u308c\u308b\u72b6\u614b\u3067\u3042\u308b\u4e8b\u3092\u793a\u3057\u307e\u3059\u3002 3 MIKUMARI (0) link up MIKUMARI\u30dd\u30fc\u30c8\u306e0\u756a\u304c\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002 4 PLL locked \u5168\u3066\u306e\u5185\u90e8\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304c\u6b63\u5e38\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067\u3059\u3002 DIP # Comment 1 SiTCP IP setting 0: \u30c7\u30d5\u30a9\u30eb\u30c8IP\u3092\u4f7f\u7528\u3057\u307e\u3059  1: \u30e6\u30fc\u30b6\u30fc\u8a2d\u5b9a\u306eIP\u3092\u4f7f\u7528\u3057\u307e\u3059 (\u8981\u30e9\u30a4\u30bb\u30f3\u30b9)\u3002 2 Not in use 3 Standalone mode 0: MIKUMARI\u30b7\u30b9\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u307e\u30591: \u30ed\u30fc\u30ab\u30eb\u767a\u632f\u5668\u3092\u4f7f\u7528\u3057\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30e2\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059 4 Not in use"},{"location":"firmware/strlrtdc/strlrtdc/#local-bus-modules","title":"Local bus modules","text":"<p>Str-LRTDC\u306b\u306f7\u500b\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u304c\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30a2\u30c9\u30ec\u30b9\u306e\u30de\u30c3\u30d7\u3067\u3059\u3002</p> Local Module Address range Mikumari Utility 0x0000'0000 - 0x0FFF'0000 Streaming TDC 0x1000'0000 - 0x1FFF'0000 IO Manager 0x2000'0000 - 0x2FFF'0000 Scaler 0x8000'0000 - 0x8FFF'0000 CDCE62002 Controller 0xB000'0000 - 0xBFFF'0000 Self Diagnosis System 0xC000'0000 - 0xCFFF'0000 Flash Memory Programmer 0xD000'0000 - 0xDFFF'0000 Bus Controller 0xE000'0000 - 0xEFFF'0000"},{"location":"firmware/strlrtdc/strlrtdc/#streaming-tdc-block","title":"Streaming-TDC block","text":""},{"location":"firmware/strlrtdc/strlrtdc/#basic-structure-of-streaming-tdc","title":"Basic structure of streaming TDC","text":"<p>Str-HRTDC\u3084\u4ed6\u306e\u9023\u7d9a\u8aad\u307f\u51fa\u3057\u7528\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306fStr-LRTDC\u306e\u69cb\u9020\u304c\u57fa\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u9023\u7d9a\u8aad\u307f\u51fa\u3057TDC\u306e\u57fa\u672c\u69cb\u9020\u306b\u3064\u3044\u3066\u307e\u305a\u8a18\u8ff0\u3057\u307e\u3059\u3002 \u4f1d\u7d71\u7684\u306atriggered-type DAQ\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u30c8\u30ea\u30ac\u30fc\u4fe1\u53f7\u304c\u57fa\u6e96\u30bf\u30a4\u30df\u30f3\u30b0\u3068\u306a\u308a\u3001\u305d\u306e\u5468\u8fba\u306e\u30c7\u30fc\u30bf\u3092\u307e\u3068\u3081\u308b\u4e8b\u3067\u30a4\u30d9\u30f3\u30c8\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u5f62\u6210\u3057\u307e\u3059\u3002 \u3053\u308c\u304c\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u56de\u8def\u306e\u6700\u5c0f\u30c7\u30fc\u30bf\u69cb\u9020\u306b\u306a\u308b\u4e8b\u304c\u591a\u3044\u3067\u3059\u3002 \u30c8\u30ea\u30ac\u30fc\u30ec\u30b9DAQ\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30c8\u30ea\u30ac\u30fc\u304c\u5b58\u5728\u3057\u306a\u3044\u305f\u3081\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306e\u5358\u4f4d\u306b\u53d6\u308b\u4e8b\u304c\u51fa\u6765\u307e\u305b\u3093\u3002 \u305d\u3053\u3067\u3001Synchronization\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8ff0\u3079\u305f\u6642\u523b\u306e\u69cb\u9020\u3092\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306b\u3082\u5f53\u3066\u306f\u3081\u307e\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306e1\u5468\u671f\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306e\u306f16-bit\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30ab\u30a6\u30f3\u30bf\u30fc\u3067\u3059\u3002 \u3053\u306e16-bit\u30ab\u30a6\u30f3\u30bf\u5024\u3092fine-scale\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7 (8ns\u7cbe\u5ea6, 524us\u9577)\u3068\u3057\u3066\u5404DAQ\u30c7\u30fc\u30bf\u30ef\u30fc\u30c9\u306b\u4e0e\u3048\u307e\u3059\u3002 \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3068\u3057\u30668ns\u7cbe\u5ea6\u304c\u4e0d\u5341\u5206\u306a\u5834\u5408\u3001\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u5468\u671f\u4ee5\u4e0b\u306e\u6642\u9593\u6e2c\u5b9a\u3092\u88dc\u511f\u3059\u308b\u305f\u3081\u306eTDC\u30e6\u30cb\u30c3\u30c8\u3092\u5b9f\u88c5\u3057\u3066\u66f4\u306bfine-scale\u306e\u6642\u9593\u60c5\u5831\u3092\u4e0e\u3048\u307e\u3059\u3002</p> <p>\u6b21\u306b\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3001\u3064\u307e\u308a\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306e\u5883\u76ee\u3092\u793a\u3059\u305f\u3081\u306b\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30c7\u30ea\u30df\u30bf\u3068\u547c\u3070\u308c\u308b\u533a\u5207\u308a\u30c7\u30fc\u30bf\u30ef\u30fc\u30c9\u3092\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u4fe1\u53f7\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u633f\u5165\u3057\u307e\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30c7\u30ea\u30df\u30bf\u306fcoarse-scale\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7 (524us\u7cbe\u5ea6, 2.4h\u9577)\u3067\u3042\u308b24-bit\u9577\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\u3092\u6301\u3061\u307e\u3059\u3002 \u307e\u305f\u3001\u30c7\u30ea\u30df\u30bf\u30c7\u30fc\u30bf\u306f\u305d\u306e\u30d5\u30ec\u30fc\u30e0\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u30b5\u30de\u30ea\u30fc\u306a\u3069\u3082\u6301\u3063\u3066\u3044\u307e\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30c7\u30ea\u30df\u30bf\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306e\u6700\u5f8c\u306b\u3064\u304d\u307e\u3059\u3002</p> Figure\u00a03: Heartbeat frame structure as a data block <p>\u4ee5\u4e0a\u306e\u4e8b\u3092\u307e\u3068\u3081\u308b\u3068\u56f3\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 Streaming TDC\u306fTDC\u30c7\u30fc\u30bf\u3068\u30d5\u30ec\u30fc\u30e0\u306e\u533a\u5207\u308a\u3092\u793a\u3059\u30c7\u30ea\u30df\u30bf\u30c7\u30fc\u30bf\u3092\u9023\u7d9a\u7684\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002</p> Figure\u00a04: Block diagram of streaming TDC. Str-LRTDC case is shown as an example. <p>\u6642\u523b\u60c5\u5831\u306fLACCP\u306b\u3088\u3063\u3066\u540c\u671f\u3055\u308c\u305fheartbeat unit\u304c\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002 Streaming TDC\u306f\u3053\u308c\u3092\u53c2\u7167\u3059\u308b\u3060\u3051\u3067\u3001heartbeat unit\u3092\u5236\u5fa1\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u3059\u306a\u308f\u3061\u3001\u6642\u523b\u60c5\u5831\u306fDAQ\u6a5f\u80fd\u3068\u306f\u72ec\u7acb\u3067\u3042\u308a\u30d5\u30ea\u30fc\u30e9\u30f3\u3067\u9032\u307f\u7d9a\u3051\u308b\u306e\u3067\u3001DAQ\u306b\u3068\u3063\u3066\u7279\u5b9a\u306e\u6642\u523b\u57fa\u6e96\u3001\u4f8b\u3048\u30700\u70b9\u3001\u306a\u3069\u306f\u7279\u306b\u610f\u5473\u304c\u3042\u308a\u307e\u305b\u3093\u3002 Streaming TDC\u306fonline data processing (ODP) \u30d6\u30ed\u30c3\u30af\u3068\u30c7\u30fc\u30bf\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002 \u6b74\u53f2\u7684\u306a\u7406\u7531\u304b\u3089\u3001\u30c7\u30fc\u30bf\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u3092vital block\u3092\u547c\u3076\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>ODP\u30d6\u30ed\u30c3\u30af\u306fTDC\u30e6\u30cb\u30c3\u30c8\u3092\u542b\u307f\u3001\u6642\u9593\u6e2c\u5b9a\u3084TOT\u306e\u8a08\u7b97\u306a\u3069\u30c1\u30e3\u30f3\u30cd\u30eb\u6bce\u306e\u51e6\u7406\u3092\u56fa\u5b9a\u9045\u5ef6\u6642\u9593\u3067\u884c\u3044\u307e\u3059\u3002 Delimiter generator\u306f\u30c7\u30ea\u30df\u30bf\u30ef\u30fc\u30c9\u3092\u751f\u6210\u3057\u5404ODP\u30c1\u30e3\u30f3\u30cd\u30eb\u3078\u5206\u914d\u3057\u307e\u3059\u3002 \u3064\u307e\u308a\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306f\u5404\u30c1\u30e3\u30f3\u30cd\u30eb\u6bce\u306b\u5b9a\u7fa9\u3055\u308c\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u306f\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u306b\u30c7\u30fc\u30bf\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u6e21\u3059\u305f\u3081\u3001\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30d1\u30b9\u3092\u307e\u3068\u3081\u3042\u3052\u5358\u4e00\u306e\u30c7\u30fc\u30bf\u30d1\u30b9\u306b\u3057\u307e\u3059\u3002 \u3053\u306e\u904e\u7a0b\u3067\u3001\u5404\u30c1\u30e3\u30f3\u30cd\u30eb\u6bce\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306f\u7d50\u5408\u3055\u308c\u3001\u56f3\u306b\u793a\u3059\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u5168\u4f53\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u3078\u3068\u307e\u3068\u3081\u4e0a\u3052\u3089\u308c\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u3067\u306f\u30d5\u30ec\u30fc\u30e0\u7d50\u5408\u6642\u306b\u5404\u30c1\u30e3\u30cd\u30eb\u304b\u3089\u3084\u3063\u3066\u304d\u305fTDC\u30c7\u30fc\u30bf\u3092\u7740\u305f\u9806\u756a\u306b\u65b0\u3057\u3044\u30d5\u30ec\u30fc\u30e0\u5185\u306b\u4e26\u3079\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u5185\u306e\u30c7\u30fc\u30bf\u306f\u6642\u523b\u3067\u305d\u308c\u306a\u308a\u306b\u30bd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u9806\u756a\u304c\u3072\u3063\u304f\u308a\u8fd4\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u306ffront-merger\u3068back-merger\u306e2\u6bb5\u69cb\u6210\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u5404\u30de\u30fc\u30b8\u30e3\u2015\u5185\u306b\u306f\u51fa\u529bFIFO\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Front-\u3068back-merger\u306e\u6a5f\u80fd\u306fserialization factor\u3092\u9664\u3051\u3070\u540c\u4e00\u3067\u3059\u3002 2\u6bb5\u69cb\u3048\u306b\u306a\u3063\u3066\u3044\u308b\u7406\u7531\u306f\u540c\u671f\u7684\u306b\u77ac\u9593\u30ec\u30fc\u30c8\u304c\u5897\u52a0\u3057\u305f\u6642\u306bfront-merger\u3067\u30d0\u30c3\u30d5\u30a1\u3059\u308b\u305f\u3081\u3067\u3059\u3002</p> <p>\u9023\u7d9a\u8aad\u307f\u51fa\u3057\u3088\u3046\u306eFEE\u306b\u306fPC\u3078\u30c7\u30fc\u30bf\u9001\u4fe1\u3092\u30c8\u30ea\u30ac\u30fc\u3059\u308b\u4fe1\u53f7\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002 SiTCP\u306f\u76f4\u524d\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u30c7\u30fc\u30bf\u304c\u3042\u308b\u9650\u308a\u30c7\u30fc\u30bf\u9001\u4fe1\u3092\u7d9a\u3051\u307e\u3059\u3002 Streaming TDC\u3067\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u304c\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306e\u5358\u4f4d\u3067\u3042\u308b\u305f\u3081\u3001\u691c\u51fa\u5668\u30d2\u30c3\u30c8\u304c\u5168\u304f\u306a\u3044\u7a7a\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u3082\u5b9a\u7fa9\u53ef\u80fd\u3067\u3059\u3002 \u305d\u306e\u305f\u3081\u3001DAQ\u6a5f\u80fd\u304cON\u306e\u72b6\u614b\u3067\u306f\u691c\u51fa\u5668\u5165\u529b\u306e\u6709\u308a\u7121\u3057\u306b\u95a2\u308f\u3089\u305a\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30c7\u30ea\u30df\u30bf\u30ef\u30fc\u30c9\u306f\u5fc5\u305a\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u70b9\u304c\u3001\u30c8\u30ea\u30ac\u30fc\u5165\u529b\u304c\u7121\u3051\u308c\u3070\u4f55\u3082\u30c7\u30fc\u30bf\u3092\u8fd4\u3055\u306a\u3044\u5f93\u6765\u306eFEE\u3068\u306f\u7570\u306a\u308b\u70b9\u3067\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#daq-runningidle-state","title":"DAQ running/idle state","text":"<p>Streaming TDC\u30d6\u30ed\u30c3\u30af\u304c\u4f55\u3082\u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3057\u306a\u3044\u72b6\u614b\u3092DAQ idle\u72b6\u614b\u3001\u30c7\u30ea\u30df\u30bf\u30fc\u30c7\u30fc\u30bf\u30ef\u30fc\u30c9\u3092\u542b\u3080DAQ\u30c7\u30fc\u30bf\u306e\u751f\u6210\u3092\u3059\u308b\u72b6\u614b\u3092DAQ running\u72b6\u614b\u3068\u547c\u3073\u307e\u3059\u3002 DAQ\u72b6\u614b\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3068\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u72b6\u614b\u306e\u7a4d\u3067\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306f\u30a2\u30af\u30c6\u30a3\u30d6\u30d5\u30ec\u30fc\u30e0\u3068\u30a2\u30a4\u30c9\u30eb\u30d5\u30ec\u30fc\u30e0\u306e2\u72b6\u614b\u3092\u6301\u3063\u3066\u304a\u308a\u3001LACCP\u306b\u3088\u3063\u3066\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u30fc\u304c\u5909\u66f4\u3067\u304d\u308b\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u306f\u30af\u30ed\u30c3\u30af\u540c\u671f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306eroot module\u306e\u7269\u3060\u3051\u3067\u3059\u3002 \u30e6\u30fc\u30b6\u30fc\u304croot module\u3078\u30a2\u30af\u30bb\u30b9\u3057\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u306e\u66f4\u65b0\u3092\u884c\u3046\u3068\u3001LACCP\u3092\u901a\u3058\u3066\u4e0b\u6d41\u306e\u5168\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u66f4\u65b0\u304c\u4f1d\u9054\u3055\u308c\u307e\u3059\u3002 \u60c5\u5831\u306e\u4f1d\u642c\u9045\u5ef6\u306e\u9055\u3044\u306b\u3088\u3063\u3066\u5404FEE\u4e0a\u306e\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u306e\u5207\u308a\u66ff\u308f\u308a\u30bf\u30a4\u30df\u30f3\u30b0\u304c\u7570\u306a\u3063\u3066\u3057\u307e\u3046\u4e8b\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u306e\u5206\u914d\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u4fe1\u53f7\u306e\u88cf\u6253\u3061\u30bf\u30a4\u30df\u30f3\u30b0\uff08\u30d0\u30c3\u30af\u30d3\u30fc\u30c8\uff09\u3067\u884c\u308f\u308c\u3001\u53cd\u6620\u306f\u6b21\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u4fe1\u53f7\u3067\u306a\u3055\u308c\u307e\u3059\u3002 \u73fe\u72b6\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u5468\u671f\u306f524 us\u306e\u305f\u3081\u3001root module\u304b\u3089\u6700\u3082\u9060\u3044\u30e2\u30b8\u30e5\u30fc\u30eb\u307e\u3067\u306e\u4f1d\u642c\u9045\u5ef6\u304c262 us\u4ee5\u5185\u3067\u3042\u308c\u3070\u3001\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u306e\u5207\u308a\u66ff\u308f\u308a\u306f\u540c\u6642\u306b\u884c\u308f\u308c\u307e\u3059\u3002</p> <p>\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u5358\u4f4d\u3067\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u304c\u3001TCP\u63a5\u7d9a\u306f\u4efb\u610f\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u78ba\u7acb\u3059\u308b\u306e\u3067\u3001\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u72b6\u614b\u306e\u9077\u79fb\u30bf\u30a4\u30df\u30f3\u30b0\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306b\u540c\u671f\u3057\u3066\u3044\u307e\u305b\u3093\u3002 \u3053\u306e\u4e8b\u304cDAQ\u72b6\u614b\u306e\u9077\u79fb\u30bf\u30a4\u30df\u30f3\u30b0\u3078\u5f71\u97ff\u3092\u4e0e\u3048\u307e\u3059\u3002 DAQ\u72b6\u614b\u306fOFF\u304b\u3089ON\u3078\u5207\u308a\u66ff\u308f\u308b\u3068\u304d\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u3092\u5f85\u3063\u3066\u9077\u79fb\u3057\u307e\u3059\u304c\u3001ON\u304b\u3089OFF\u3078\u5207\u308a\u66ff\u308f\u308b\u6642\u306f\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u304f\u306a\u3063\u305f\u3089\u5373\u5ea7\u306b\u9077\u79fb\u3057\u307e\u3059\u3002 \u3053\u306e\u7406\u7531\u306f\u3001TCP\u63a5\u7d9a\u304c\u78ba\u7acb\u3057\u3066\u3044\u308c\u3070\u30c7\u30fc\u30bf\u9001\u4fe1\u958b\u59cb\u3092\u9045\u3089\u305b\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u3059\u304c\u3001\u63a5\u7d9a\u304c\u5207\u308c\u305f\u3089\u6700\u65e9\u30c7\u30fc\u30bf\u3092\u9001\u308a\u3088\u3046\u304c\u306a\u3044\u305f\u3081\u3067\u3059\u3002 \u3053\u306e\u3053\u3068\u304b\u3089\u3001DAQ RUN\u7d42\u4e86\u6642\u306b\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306e\u9014\u4e2d\u3067\u30c7\u30fc\u30bf\u304c\u9014\u5207\u308c\u308b\u4e8b\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u3092\u554f\u984c\u8996\u3059\u308b\u304b\u3069\u3046\u304b\u306f\u30e6\u30fc\u30b6\u30fc\u306b\u59d4\u306d\u3066\u3044\u307e\u3059\u3002 \u307e\u305f\u3001\u8907\u6570\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u308b\u5834\u5408\u3001TCP\u63a5\u7d9a\u304c\u78ba\u7acb\u3059\u308b\u307e\u3067\u306e\u6642\u9593\u306f\u901a\u5e38\u3070\u3089\u3064\u304d\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001DAQ RUN\u30b9\u30bf\u30fc\u30c8\u6642\u306b\u5404\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u30c7\u30fc\u30bf\u9001\u4fe1\u3092\u958b\u59cb\u3059\u308b\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\u306f\u4e00\u81f4\u3059\u308b\u3068\u306f\u9650\u308a\u307e\u305b\u3093\u3002 \u3053\u308c\u3092\u554f\u984c\u8996\u3059\u308b\u304b\u3069\u3046\u304b\u3082\u3001\u3084\u306f\u308a\u30e6\u30fc\u30b6\u30fc\u306b\u59d4\u306d\u3066\u3044\u307e\u3059\u3002 \u56f3\u306fTCP\u63a5\u7d9a\u72b6\u614b\u3067DAQ\u72b6\u614b\u304c\u6c7a\u307e\u308b\u3088\u3046\u306a\u904b\u7528\u3092\u3057\u305f\u5834\u5408\u306b\u9001\u4fe1\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u7bc4\u56f2\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> Figure\u00a05: Data to be transferred to a PC when the DAQ state is determined by the TCP connection status. <p>\u4e0a\u8a18\u306e\u4e8b\u3092\u554f\u984c\u8996\u3057\u3001DAQ\u72b6\u614b\u306e\u5207\u308a\u66ff\u308f\u308a\u3092\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u3078\u540c\u671f\u3057\u305f\u3044\u5834\u5408\u3001\u5148\u306bTCP\u63a5\u7d9a\u3092\u78ba\u7acb\u3055\u305b\u3066\u304a\u3044\u3066\u5f8c\u304b\u3089\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002DAQ\u3092\u6b62\u3081\u308b\u5834\u5408\u306f\u5148\u306b\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3092\u30a2\u30a4\u30c9\u30eb\u3078\u5909\u66f4\u3057\u3066\u304b\u3089TCP\u63a5\u7d9a\u3092\u5207\u308a\u307e\u3059\u3002 \u3053\u306e\u5834\u5408\u3001\u5404FEE\u306eTCP\u63a5\u7d9a\u72b6\u614b\u3092\u4f55\u3089\u304b\u306e\u65b9\u6cd5\u3067\u76e3\u8996\u3057\u3066\u3001\u3059\u3079\u3066\u306eTCP\u63a5\u7d9a\u304c\u78ba\u7acb\u3057\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u306a\u3044\u3068\u3044\u3051\u307e\u305b\u3093\u3002</p> <p>\u4e00\u65b9\u3001\u5404FEE\u306eDAQ\u72b6\u614b\u306e\u5207\u308a\u66ff\u308f\u308a\u30bf\u30a4\u30df\u30f3\u30b0\u306b\u9813\u7740\u3057\u306a\u3044\u5834\u5408\u3001\u5148\u306b\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3092\u66f4\u65b0\u3057\u3066\u304a\u3044\u3066\u3001\u5f8c\u304b\u3089TCP\u63a5\u7d9a\u3092\u78ba\u7acb\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u306e\u5834\u5408\u3001\u4e2d\u592e\u96c6\u6a29\u7684\u306bTCP\u63a5\u7d9a\u72b6\u614b\u306e\u76e3\u8996\u3092\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u306f\u5e38\u306b\u30a2\u30af\u30c6\u30a3\u30d6\u3067\u3001TCP\u63a5\u7d9a\u72b6\u614b\u3060\u3051\u3067DAQ\u72b6\u614b\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u3044\u3046\u8003\u3048\u65b9\u3082\u3067\u304d\u307e\u3059\u3002 SPADI-A\u3067\u958b\u767a\u3057\u3066\u3044\u308bNestDAQ\u306e\u5b9f\u88c5\u3067\u306f\u3001FEE\u304b\u3089\u30c7\u30fc\u30bf\u304c\u306a\u3044\u5834\u5408\u30bf\u30a4\u30e0\u30d5\u30ec\u30fc\u30e0\u30d3\u30eb\u30c9\u3092\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3059\u308b\u4ed5\u69d8\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3061\u3089\u306e\u904b\u7528\u65b9\u5f0f\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u30b1\u30fc\u30b9\u304c\u591a\u3044\u3067\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#standalone-mode","title":"Standalone mode","text":"<p>DIP\u30b9\u30a4\u30c3\u30c1\u306e\u8a2d\u5b9a\u306b\u3088\u308a\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30e2\u30fc\u30c9\u3067\u52d5\u3044\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30d5\u30ec\u30fc\u30e0\u30b9\u30c6\u30fc\u30c8\u306f\u5e38\u306bON\u3067\u3059\u3002 TCP\u63a5\u7d9a\u72b6\u614b\u3060\u3051\u3067DAQ\u72b6\u614b\u304c\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#frame-flags-20250106","title":"Frame flags (2025.01.06)","text":"<p>LACCP\u304c\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u5358\u4f4d\u3067\u5916\u90e8\u4fe1\u53f7\uff08\u30ec\u30d9\u30eb\u5165\u529b\uff09\u3092\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3057\u3066\u3001\u305d\u306e\u7d50\u679c\u3092heartbeat frame delimiter\u306e\u30d5\u30e9\u30b0\u9818\u57df\u306b\u683c\u7d0d\u3057\u307e\u3059\u3002 Frame flags\u306b\u3088\u3063\u3066TDC\u304c\u52d5\u4f5c\u3092\u5909\u3048\u308b\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3042\u304f\u307e\u3067\u72b6\u614b\u306e\u8a18\u9332\u3068\u3057\u3066\u30c7\u30ea\u30df\u30bf\u30fc\u30ef\u30fc\u30c9\u4e2d\u306b\u30d5\u30e9\u30b0\u30d3\u30c3\u30c8\u3068\u3057\u3066\u6b8b\u308a\u307e\u3059\u3002 \u60f3\u5b9a\u4e0a\u306e\u4f7f\u7528\u65b9\u6cd5\u306f\u30b2\u30fc\u30c8\u4fe1\u53f7\u306e\u8a18\u9332\u3067\u3059\u3002 \u307e\u305f\u3001frame flags\u306f\u5f8c\u8ff0\u306egated scaler\u99c6\u52d5\u306e\u305f\u3081\u306b\u3082\u4f7f\u7528\u3057\u307e\u3059\u3002 MIKUMARI\u3067\u540c\u671f\u3092\u53d7\u3051\u3066\u3044\u308b\u5834\u5408\u306f\u4e0a\u6d41\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u9001\u3089\u308c\u3066\u304d\u305f\u30d5\u30e9\u30b0\u60c5\u5831\u304c\u3001standalone mode\u306e\u5834\u5408\u306fNIM\u5165\u529b\u304b\u3089\u306e\u4fe1\u53f7\u5165\u529b\u306e\u7d50\u679c\u304cframe flags\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 Synchronization\u306e\u7ae0\u3082\u5408\u308f\u305b\u3066\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#buffer-overflow","title":"Buffer overflow","text":"<p>DAQ\u72b6\u614b\u304crunning\u306b\u306a\u308b\u3068Streaming TDC\u306f\u5373\u5ea7\u306b\u30c7\u30fc\u30bf\u9001\u4fe1\u3092\u3057\u59cb\u3081\u308b\u306e\u3067\u3001\u30bd\u30d5\u30c8\u5074\u3067\u306fTCP\u63a5\u7d9a\u306e\u78ba\u7acb\u5f8c\u306f\u5e38\u306b\u8aad\u307f\u51fa\u3057\u3092\u884c\u3063\u3066\u3044\u308b\u4e8b\u304c\u5fc5\u8981\u3067\u3059\u3002 \u3082\u3057\u3001\u30bd\u30d5\u30c8\u304c\u4f55\u3089\u304b\u306e\u7406\u7531\u306b\u3088\u308a\u30c7\u30fc\u30bf\u8aad\u307f\u51fa\u3057\u3092\u884c\u308f\u306a\u3044\u671f\u9593\u304c\u3042\u3063\u305f\u308a\u3001\u305d\u3082\u3068\u3082\u9001\u4fe1\u3057\u3088\u3046\u3068\u3059\u308b\u30c7\u30fc\u30bf\u91cf\u304c\u30ea\u30f3\u30af\u30b9\u30d4\u30fc\u30c9\u306b\u5bfe\u3057\u3066\u591a\u3059\u304e\u308b\u5834\u5408\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306f\u30d0\u30c3\u30af\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u3092\u611f\u3058FPGA\u5185\u306eFIFO\u3078\u30c7\u30fc\u30bf\u304c\u305f\u307e\u3063\u3066\u3044\u304d\u307e\u3059\u3002 \u3053\u306e\u72b6\u614b\u304c\u9577\u304f\u7d9a\u304f\u3068\u6700\u4e0a\u6d41\u306eFIFO\u307e\u3067\u30c7\u30fc\u30bf\u304c\u4e00\u676f\u306b\u306a\u308a\u3001\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u3092\u767a\u751f\u3057\u307e\u3059\u3002 \u3053\u306e\u3088\u3046\u306b\u9023\u7d9a\u8aad\u307f\u51fa\u3057\u7528\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306f\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u306f\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u4ee5\u964d\u304b\u3089\u306e\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u306b\u3088\u3063\u3066\u767a\u751f\u3057\u307e\u3059\u3002 \u30c8\u30ea\u30ac\u30fc\u304cBUSY\u306b\u3088\u3063\u3066\u30de\u30b9\u30af\u3055\u308c\u308b\u3053\u3068\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u53d6\u5f97\u3067\u304d\u306a\u304f\u306a\u308b\u30b0\u30ed\u30fc\u30d0\u30eb\u30c8\u30ea\u30ac\u30fc\u578b\u306eDAQ\u3068\u306f\u3053\u306e\u70b9\u304c\u5927\u304d\u304f\u7570\u306a\u308a\u307e\u3059\u3002 \u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u304c\u767a\u751f\u3059\u308b\u7406\u7531\u306f\u591a\u5c90\u306b\u308f\u305f\u308a\u3001\u5168FEE\u304c\u540c\u671f\u7684\u306b\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3068\u306f\u9650\u308a\u307e\u305b\u3093\u3002 \u30bd\u30d5\u30c8\u4e0a\u306e\u9ad8\u3044\u30a4\u30d9\u30f3\u30c8\u518d\u69cb\u6210\u52b9\u7387\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306b\u306f\u3001FEE\u306e\u30c7\u30fc\u30bf\u53ce\u96c6\uff08\u9001\u4fe1\uff09\u52b9\u7387\u306f\u53ef\u80fd\u306a\u9650\u308a100%\u3092\u7dad\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30ea\u30fc\u30c0\u30fc\u3001\u30c7\u30fc\u30bf\u51e6\u7406\u3001\u30c7\u30fc\u30bf\u66f8\u304d\u8fbc\u307f\u3092\u884c\u3046\u30d7\u30ed\u30bb\u30b9\u306f\u5206\u304b\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u671b\u307e\u3057\u3044\u3067\u3059\u3002 hul-common-lib\u3067\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30b5\u30f3\u30d7\u30ebDAQ\u30b3\u30fc\u30c9\u3067\u306f\u30c7\u30fc\u30bf\u30ea\u30fc\u30c9\u3068\u30c7\u30a3\u30b9\u30af\u66f8\u304d\u8fbc\u307f\u3092\u540c\u4e00\u30d7\u30ed\u30bb\u30b9\u5185\u3067\u884c\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3042\u304f\u307e\u3067\u7c21\u6613\u7684\u306a\u8a66\u9a13\u7528\u3067\u3042\u308b\u3053\u3068\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30d0\u30c3\u30af\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u306b\u3088\u308a\u6700\u4e0a\u6d41\u306eFIFO\u307e\u3067\u30c7\u30fc\u30bf\u306e\u6c34\u9762\u304c\u4e0a\u304c\u3063\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3001\u307e\u305a\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306fTDC\u30c7\u30fc\u30bf\u306e\u66f8\u304d\u8fbc\u307f\u3092\u906e\u65ad\u3057\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30c7\u30ea\u30df\u30bf\u306e\u9001\u4fe1\u3092\u512a\u5148\u7684\u306b\u884c\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u308c\u306fDAQ\u30b7\u30b9\u30c6\u30e0\u306b\u3068\u3063\u3066\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u304c\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3068\u6642\u523b\u306e\u57fa\u672c\u5358\u4f4d\u3067\u3042\u308a\u3001\u3053\u308c\u3092\u53ef\u80fd\u306a\u9650\u308a\u5931\u308f\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3067\u3059\u3002 \u305d\u308c\u3067\u3082\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u304c\u304b\u304b\u308a\u7d9a\u3051\u308b\u3068\u3044\u305a\u308c\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30c7\u30ea\u30df\u30bf\u3082\u9001\u4fe1\u3067\u304d\u306a\u304f\u306a\u308b\u306e\u3067\u3001\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u69d8\u3005\u306a\u65b9\u6cd5\u3092\u4f7f\u3063\u3066\u81ea\u8eab\u3092\u5ef6\u547d\u3057\u3088\u3046\u3068\u52aa\u529b\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u306e\u4ed5\u65b9\u3084\u5ef6\u547d\u63aa\u7f6e\u306b\u3064\u3044\u3066\u306fthrottling\u6a5f\u80fd\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8a73\u3057\u304f\u8ff0\u3079\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#online-data-processing-block","title":"Online Data Processing block","text":"Figure\u00a06: Block diagram of the online data processing block in a channel. <p>Online Data Processing (ODP) block\u306f\u6642\u9593\u6e2c\u5b9a\u3084TOT\u306e\u8a08\u7b97\u306a\u3069\u5404\u30c1\u30e3\u30f3\u30cd\u30eb\u6bce\u306e\u51e6\u7406\u3092\u4e26\u5217\u306b\u884c\u3046\u30d6\u30ed\u30c3\u30af\u3067\u3059\u3002 \u307e\u305atiming unit\u3067\u691c\u51fa\u5668\u304b\u3089\u306e\u30ed\u30b8\u30c3\u30af\u4fe1\u53f7\u306e\u7acb\u3061\u4e0a\u304c\u308a\u3068\u7acb\u4e0b\u308a\u30a8\u30c3\u30b8\u306e\u6642\u9593\u6e2c\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u306e\u30e6\u30cb\u30c3\u30c8\u306f16-bit fine-scale timestamp\u4ee5\u4e0b\u306e\u7cbe\u5ea6\u306e\u6642\u9593\u3092\u6e2c\u5b9a\u3092\u884c\u3044\u3001\u305d\u306e\u7cbe\u5ea6\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u3088\u308a\u307e\u3059\u304c\u3001Str-LRTDC\u306e\u5834\u5408\u3001\u7cbe\u5ea6\u306f1ns\u3067\u3059\u3002 \u4e21\u30a8\u30c3\u30b8\u306e\u6642\u9593\u6e2c\u5b9a\u306f\u72ec\u7acb\u306b\u884c\u308f\u308c\u308b\u306e\u3067\u3001\u305d\u306e\u5f8c\u306e\u51e6\u7406\u305f\u3081\u306bpath merger\u30671\u672c\u306e\u30c7\u30fc\u30bf\u30d1\u30b9\u306b\u7d71\u5408\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u6bb5\u968e\u3067\u306fTOT\u306e\u8a08\u7b97\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u304c\u3001\u975e\u5e38\u306b\u30d1\u30eb\u30b9\u5e45\u304c\u77ed\u304f\u7acb\u3061\u4e0a\u304c\u308a\u3068\u7acb\u4e0b\u308a\u306e\u7d50\u679c\u304c\u540c\u6642\u306b\u3084\u3063\u3066\u304d\u305f\u5834\u5408\u3001\u3053\u3053\u3067\u7c21\u6613\u7684\u306aTOT\u8a08\u7b97\u3092\u884c\u3044\u7acb\u4e0b\u308a\u30a8\u30c3\u30b8\u306e\u30c7\u30fc\u30bf\u306f\u7834\u68c4\u3055\u308c\u307e\u3059\u3002 \u3082\u3057\u3001\u5f8c\u8ff0\u306e\u30da\u30a2\u30ea\u30f3\u30b0\u30e2\u30fc\u30c9\u3092OFF\u306b\u3057\u3066\u7acb\u4e0b\u308a\u30a8\u30c3\u30b8\u30c7\u30fc\u30bf\u3092\u6b8b\u3059\u3088\u3046\u306a\u51e6\u7406\u3092\u3057\u3066\u3044\u305f\u5834\u5408\u3067\u3082\u3001\u4e21\u30a8\u30c3\u30b8\u30c7\u30fc\u30bf\u304c\u540c\u6642\u306b\u3084\u3063\u3066\u304f\u308b\u3088\u3046\u306a\u77ed\u30d1\u30eb\u30b9\u306b\u5bfe\u3057\u3066\u306f\u7acb\u4e0b\u308a\u30a8\u30c3\u30b8\u306e\u30c7\u30fc\u30bf\u3092\u6b8b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>\u305d\u306e\u5f8c\u30c7\u30fc\u30bf\u306f2us\u306e\u56fa\u5b9a\u9577\u30c7\u30a3\u30ec\u30a4\u30d0\u30c3\u30d5\u30a1\u3092\u901a\u904e\u3057\u307e\u3059\u3002 \u3053\u306e\u9045\u5ef6\u30d0\u30c3\u30d5\u30a1\u306f\u3001\u5f8c\u8ff0\u306etrigger assisted mode\u306b\u304a\u3044\u3066\u30c8\u30ea\u30ac\u30fc\u5165\u529b\u3092\u5f85\u3064\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002</p> <p>Delimiter inserter\u306e\u76f4\u524d\u306716-bit fine-scale timestamp\u304c\u7d50\u5408\u3055\u308c\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u5185\u306b\u304a\u3051\u308b\u6642\u523b\u304c\u78ba\u5b9a\u3057\u307e\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067delimiter word\u304c\u633f\u5165\u3055\u308c\u3066\u3001\u5404\u30c1\u30e3\u30f3\u30cd\u30eb\u306b\u304a\u3051\u308b\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u304c\u69cb\u6210\u3055\u308c\u307e\u3059\u3002 Timing unit\u304b\u3089\u3053\u3053\u307e\u3067\u306e\u51e6\u7406\u306f\u56fa\u5b9a\u9577\u9045\u5ef6\u3067\u884c\u308f\u308c\u307e\u3059\u3002</p> <p>\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u304c\u78ba\u5b9a\u3057\u305f\u306e\u3061\u3001\u7acb\u3061\u4e0a\u304c\u308a\u3068\u7acb\u4e0b\u308a\u30a8\u30c3\u30b8\u306e\u30da\u30a2\u30ea\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002 Paring unit\u306f\u7acb\u3061\u4e0a\u304c\u308a\u30c7\u30fc\u30bf\u3092\u898b\u3064\u3051\u308b\u3068\u7acb\u4e0b\u308a\u30c7\u30fc\u30bf\u304c\u6765\u308b\u307e\u3067\u5f85\u3061\u3001\u7acb\u4e0b\u308a\u30c7\u30fc\u30bf\u304c\u6765\u305f\u6642\u70b9\u3067TOT\u3092\u8a08\u7b97\u3057\u7acb\u4e0b\u308a\u30c7\u30fc\u30bf\u3092\u7834\u68c4\u3057\u307e\u3059\u3002 \u7d50\u679c\u3068\u3057\u3066\u3001\u7acb\u3061\u4e0a\u304c\u308a\u30bf\u30a4\u30df\u30f3\u30b0\u3068TOT\u5024\u3092\u542b\u3093\u3060\u30c7\u30fc\u30bf\u30ef\u30fc\u30c9\u304c\u6b21\u306e\u30e6\u30cb\u30c3\u30c8\u3078\u9001\u3089\u308c\u307e\u3059\u3002 \u30da\u30a2\u30ea\u30f3\u30b0\u306e\u305f\u3081\u306e\u6700\u5927\u5f85\u3061\u6642\u9593\u306f4000ns\u3067\u3001\u3053\u306e\u6642\u9593\u5185\u306b\u30da\u30a2\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u304b\u3063\u305f\u5834\u5408\u3001TOT\u304c0\u306e\u7acb\u3061\u4e0a\u304c\u308a\u30c7\u30fc\u30bf\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \u307e\u305f\u3001\u9023\u7d9a\u3057\u3066\u7acb\u3061\u4e0a\u304c\u308a\u30c7\u30fc\u30bf\u304c\u6765\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3067\u3082\u3001TOT\u304c0\u306e\u7acb\u3061\u4e0a\u304c\u308a\u30c7\u30fc\u30bf\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \u3044\u305a\u308c\u306b\u305b\u3088\u3001TOT\u304c0\u306e\u30c7\u30fc\u30bf\u306f\u4f55\u3089\u304b\u306e\u7406\u7531\u306b\u3088\u308a\u30da\u30a2\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002 \u3082\u3057\u3001\u7acb\u3061\u4e0a\u304c\u308a\u3068\u7acb\u4e0b\u308a\u30c7\u30fc\u30bf\u306e\u9593\u306b\u30c7\u30ea\u30df\u30bf\u30ef\u30fc\u30c9\u304c\u631f\u307e\u3063\u305f\u5834\u5408\u3001TDC\u30c7\u30fc\u30bf\u306f\u30c7\u30ea\u30df\u30bf\u30ef\u30fc\u30c9\u306e\u524d\u306b\u633f\u5165\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u5185\u306b\u304a\u3051\u308bTDC\u30c7\u30fc\u30bf\u306e\u4f4d\u7f6e\u306f\u3001\u7acb\u3061\u4e0a\u304c\u308a\u30c7\u30fc\u30bf\u304c\u6301\u3064\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3067\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002 \u30da\u30a2\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092\u30aa\u30d5\u306b\u3057\u3066\u3001\u7acb\u3061\u4e0a\u304c\u308a\u3068\u7acb\u4e0b\u308a\u30c7\u30fc\u30bf\u306e\u4e21\u65b9\u3092\u51fa\u529b\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u304c\u3001\u30c7\u30fc\u30bf\u8ee2\u9001\u91cf\u306f2\u500d\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u305d\u306e\u5f8c\u3001TDC\u30c7\u30fc\u30bf\u306fTOT\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u901a\u308a\u307e\u3059\u3002 TOT\u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u306fTOT\u5024\u306b\u5bfe\u3057\u3066\u4e0b\u9650\u3068\u4e0a\u9650\u306e\u95be\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3001\u305d\u306e\u7bc4\u56f2\u306b\u5165\u3089\u306a\u304b\u3063\u305fTDC\u30c7\u30fc\u30bf\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u30a2\u30a6\u30c8\u3057\u307e\u3059\u3002 TOT\u306e\u4e0b\u9650\u5024\u3092\u8a2d\u5b9a\u3057\u305f\u5834\u5408TOT\u304c0\u306e\u30c7\u30fc\u30bf\u306f\u672c\u6765\u30d5\u30a3\u30eb\u30bf\u30fc\u30a2\u30a6\u30c8\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u304c\u3001TOT\u304c0\u306e\u30c7\u30fc\u30bf\u306f\u7279\u6b8a\u306a\u30b1\u30fc\u30b9\u306b\u76f8\u5f53\u3059\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u7279\u4f8b\u7684\u306b\u901a\u904e\u3055\u305b\u308b\u30e2\u30fc\u30c9\u3082\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fTOT\u30d5\u30a3\u30eb\u30bf\u30fc\u306f\u30aa\u30d5\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u3092\u901a\u904e\u3055\u305b\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#trigger-assisted-mode","title":"Trigger assisted mode","text":"<p>Streaming TDC\u306f\u30c8\u30ea\u30ac\u30fc\u30ec\u30b9\u30e2\u30fc\u30c9\u304c\u57fa\u672c\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u30c7\u30fc\u30bf\u91cf\u524a\u6e1b\u306e\u305f\u3081\u306b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30c8\u30ea\u30ac\u30fc\u306e\u5165\u529b\u3092\u53d7\u3051\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30c8\u30ea\u30ac\u30fc\u306fNIM\u5165\u529b\u304b\u3001MIKUMARI\u7d4c\u7531\u3067\u4e0a\u6d41\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u3053\u306e\u6a5f\u80fd\u3092\u30aa\u30f3\u306b\u3057\u3066\u30c8\u30ea\u30ac\u30fc\u3092\u5165\u529b\u3059\u308b\u3068\u30b2\u30fc\u30c8\u304c\u958b\u304d\u3001\u30b2\u30fc\u30c8\u304c\u958b\u3044\u3066\u3044\u308b\u9593\u3060\u3051\u30c7\u30fc\u30bf\u3092\u4e0b\u6d41\u3078\u9001\u4fe1\u3057\u307e\u3059\u3002 \u30b2\u30fc\u30c8\u304c\u958b\u3044\u3066\u3044\u308b\u9593\u306b\u6b21\u306e\u30c8\u30ea\u30ac\u30fc (\u30d9\u30c8)\u4fe1\u53f7\u304c\u3084\u3063\u3066\u304d\u305f\u5834\u5408\u3001\u30b2\u30fc\u30c8\u9577\u304c\u5ef6\u9577\u3055\u308c\u307e\u3059\u3002 \u30c8\u30ea\u30ac\u30fc\u5165\u529b\u304b\u3089\u30b2\u30fc\u30c8\u3092\u958b\u304f\u307e\u3067\u306e\u9045\u5ef6\u6642\u9593\u3068\u3001\u30b2\u30fc\u30c8\u9577\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7d4c\u7531\u3067\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u3002 \u30c8\u30ea\u30ac\u30fc\u30ec\u30b9\u30e2\u30fc\u30c9\u306e\u5834\u5408\u306f\u3001\u3053\u306e\u30b2\u30fc\u30c8\u304c\u5e38\u306b\u958b\u3044\u3066\u3044\u308b\u72b6\u614b\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#data-merging-block-vital-block","title":"Data merging block (vital block)","text":"<p>\u56f3\u3092\u518d\u3073\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 ODP\u30d6\u30ed\u30c3\u30af\u3092\u51fa\u305f\u30c7\u30fc\u30bf\u306f\u30c7\u30fc\u30bf\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u30671\u3064\u306e\u30c7\u30fc\u30bf\u30d1\u30b9\u3078\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u6642\u3001\u5404\u30c1\u30e3\u30f3\u30cd\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u540c\u58eb\u3092\u307e\u3068\u3081\u3042\u3052\u3066\u30011\u3064\u306e\u30d5\u30ec\u30fc\u30e0\u69cb\u9020\u3092\u518d\u5b9a\u7fa9\u3057\u307e\u3059\u3002 Merger unit\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306f8Gbps\u3067\u3059\u3002SiTCP-XG\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001back-merger\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u304c\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u56f3\u4e2d\u306e\u7070\u8272\u306e\u56db\u89d2\u306fFIFO\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 Merger unit\u306f\u9806\u756a\u306b\u30c7\u30fc\u30bf\u3092\u307e\u3068\u3081\u3066\u3044\u304f\u306e\u3067\u3001\u5165\u529b\u306e\u524d\u306bFIFO\u304c\u3042\u308b\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 ODP\u30d6\u30ed\u30c3\u30af\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092\u6700\u521d\u306b\u53d7\u3051\u308bFIFO\u3092\u7279\u306bincoming FIFO\u3068\u547c\u3073\u307e\u3059\u3002 \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u30d0\u30c3\u30af\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u3092\u53d7\u3051\u308b\u3068\u3001SiTCP\u76f4\u524d\u306e\u30d0\u30c3\u30d5\u30a1\u304b\u3089\u9806\u756a\u306b\u3044\u3063\u3071\u3044\u306b\u306a\u3063\u3066\u3044\u304d\u3001incoming FIFO\u307e\u3067\u3044\u3063\u3071\u3044\u306b\u306a\u308b\u3068\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u304c\u767a\u751f\u3057\u307e\u3059\u3002 \u3082\u3057\u304f\u306f\u3001\u5165\u529b\u30ec\u30fc\u30c8\u304c\u77ac\u9593\u7684\u306b\u9ad8\u304f\u306a\u3063\u305f\u5834\u5408\u3067\u3082incoming FIFO\u306f\u3044\u3063\u3071\u3044\u306b\u306a\u308b\u3068\u3001\u540c\u3058\u3088\u3046\u306b\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#throttling","title":"Throttling","text":"<p>\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u6a5f\u80fd\u306fFPGA\u5185\u306e\u30d0\u30c3\u30d5\u30a1\u304c\u6ea2\u308c\u305d\u3046\u306b\u306a\u3063\u305f\u6642\u306b\u30c7\u30fc\u30bf\u7834\u640d\u3092\u9632\u3050\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002 \u3053\u3053\u3067\u8a00\u3046\u30c7\u30fc\u30bf\u7834\u640d\u3068\u306f\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u69cb\u9020\u304c\u5931\u308f\u308c\u308b\u4e8b\u3092\u6307\u3057\u3001\u4f8b\u3048\u3070\u3001\u30c7\u30ea\u30df\u30bf\u3092\u55aa\u5931\u3057\u30662\u3064\u306e\u30d5\u30ec\u30fc\u30e0\u304c\u304f\u3063\u4ed8\u3044\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u3084\u3044\u304f\u3064\u304b\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u3092\u5931\u3063\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u306a\u3069\u3067\u3059\u3002 TDC\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u308b\u3053\u3068\u306f\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u3068\u8868\u73fe\u3057\u3001\u7834\u640d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 Streaming TDC\u3067\u306fDAQ\u72b6\u614b\u304cON\u3067\u3042\u308b\u9650\u308a\u3001\u305f\u3068\u3048TDC\u30c7\u30fc\u30bf\u304c\u5b58\u5728\u3057\u306a\u304f\u3066\u3082\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u3092\u5b9a\u7fa9\u3057\u3066\u305d\u306e\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u9001\u4fe1\u3057\u7d9a\u3051\u308b\u305f\u3081\u3001\u3044\u304f\u3064\u304b\u306e\u30d5\u30ec\u30fc\u30e0\u304c\u629c\u3051\u308b\u3068\u3044\u3046\u4e8b\u306f\u30c7\u30fc\u30bf\u304c\u7834\u640d\u3057\u305f\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 FPGA\u5185\u306e\u30d0\u30c3\u30d5\u30a1\u304c\u3044\u3063\u3071\u3044\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3068\u304d\u306b\u3001\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u6a5f\u80fd\u306fTDC\u30c7\u30fc\u30bf\u3092\u7834\u68c4\u3057\u3066\u3067\u3082\u30c7\u30ea\u30df\u30bf\u306e\u55aa\u5931\u3092\u907f\u3051\u3001\u53ef\u80fd\u306a\u9650\u308aPC\u3078\u5c4a\u304f\u3088\u3046\u306b\u52aa\u529b\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u306e\u6a5f\u80fd\u306b\u3064\u3044\u3066\u57fa\u672c\u7684\u306a\u90e8\u5206\u3092\u8ff0\u3079\u307e\u3059\u3002\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u306e\u601d\u60f3\u306a\u3069\u66f4\u306b\u8a73\u3057\u3044\u3053\u3068\u306b\u3064\u3044\u3066\u306f\u53c2\u8003\u8cc7\u6599\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>FPGA\u5185\u306e\u30d0\u30c3\u30d5\u30a1\u304c\u3044\u3063\u3071\u3044\u306b\u306a\u308b\u7406\u7531\u306f\u5927\u5225\u3059\u308b\u30683\u3064\u306b\u5206\u3051\u3089\u308c\u307e\u3059\u3002</p> <ol> <li>\u77ac\u9593\u7684\u306b\u5165\u529b\u30ec\u30fc\u30c8\u304c\u5897\u5927\u3057\u3066\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u3092\u8d85\u3048\u305f\u3068\u304d</li> <li>PC\u304c\u30d3\u30b8\u30fc\u306b\u306a\u308a\u30d0\u30c3\u30af\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u304c\u304b\u304b\u3063\u305f\u6642</li> <li>\u5165\u529b\u30ec\u30fc\u30c8\u306e\u5e73\u5747\u5024\u304c\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u306e\u30b9\u30d4\u30fc\u30c9\u3092\u8d85\u3048\u3066\u3044\u308b\u3068\u304d</li> </ol> <p>1\u756a\u76ee\u30682\u756a\u76ee\u306f\u4e00\u6642\u7684\u306a\u5909\u5316\u306b\u3088\u308b\u5f8b\u901f\u3067\u3059\u3002\u5165\u529b\u30c7\u30fc\u30bf\u30ec\u30fc\u30c8\u306e\u5e73\u5747\u5024\u306f\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u30b9\u30d4\u30fc\u30c9\u3088\u308a\u4f4e\u3044\u3068\u3057\u307e\u3059\u3002 \u3044\u305a\u308c\u306e\u5834\u5408\u3067\u3082\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u304c\u767a\u751f\u3059\u308b\u306e\u306fincoming FIFO\u3067\u3059\u3002 1\u756a\u76ee\u306e\u30b1\u30fc\u30b9\u3067\u306ffront-merger\u304cincoming FIFO\u304b\u3089\u30c7\u30fc\u30bf\u3092\u5438\u3044\u51fa\u3059\u901f\u5ea6\u304c\u5165\u529b\u306b\u8ffd\u3044\u3064\u304b\u306a\u3044\u3053\u3068\u3067incoming FIFO\u304c\u6ea2\u308c\u30012\u756a\u76ee\u306e\u30b1\u30fc\u30b9\u3067\u306f\u5f8c\u308d\u304b\u3089\u9806\u756a\u306bFIFO\u304c\u3044\u3063\u3071\u3044\u306b\u306a\u3063\u3066\u3044\u304d\u6700\u7d42\u7684\u306bincoming FIFO\u304c\u6ea2\u308c\u307e\u3059\u3002 3\u756a\u76ee\u306f\u539f\u7406\u7684\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308a\u304d\u308c\u306a\u3044\u72b6\u6cc1\u3067\u3001\u6ea2\u308c\u305d\u3046\u306b\u306a\u3063\u305f\u6642\u306b\u4e00\u6642\u7684\u306b\u5bfe\u51e6\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u6052\u4e45\u7684\u306a\u5bfe\u51e6\u304c\u5fc5\u8981\u3067\u3059\u3002 \u3053\u308c\u3089\u306e\u72b6\u6cc1\u306b\u5bfe\u51e6\u3059\u308b\u305f\u3081\u30014\u3064\u306e\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u6a5f\u80fd\u304c\u8003\u6848\u3055\u308c\u3001\u3046\u30613\u3064\u304c\u3059\u3067\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <ul> <li>Input throttling type-1 (to be implemented)</li> <li>Input throttling type-2</li> <li>Output throttling</li> <li>Heartbeat frame throttling</li> </ul> Figure\u00a07: Block diagram of data merging block with throttling functions. <p>\u5404\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u6a5f\u80fd\u306e\u5b9f\u88c5\u4f4d\u7f6e\u306f\u56f3\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u304a\u308a\u3001Input throttling type-2\u306e\u4e0a\u6d41\u306b\u306fODP\u30d6\u30ed\u30c3\u30af\u304c\u5b58\u5728\u3057\u3066\u3044\u307e\u3059\u3002 Input throttling\u306fincoming FIFO\u3078\u306e\u6d41\u91cf\u3092\u30c1\u30e3\u30f3\u30cd\u30eb\u6bce\u306b\u5236\u9650\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002 Type-2\u306fincoming FIFO\u306eprogrammable full flag (\u3082\u3046\u3059\u3050FIFO\u304c\u3044\u3063\u3071\u3044\u306b\u306a\u308b\u3068\u3046\u30d5\u30e9\u30b0)\u304c\u7acb\u3064\u3068\u8d77\u52d5\u3057\u307e\u3059\u3002 Input throttling type-2\u304c\u50cd\u3044\u3066\u3044\u308b\u9593\u3053\u306e\u30e6\u30cb\u30c3\u30c8\u306f\u30c7\u30ea\u30df\u30bf\u30c7\u30fc\u30bf\u3060\u3051\u901a\u904e\u3055\u305b\u3001TDC\u30c7\u30fc\u30bf\u3092\u906e\u65ad\u3057\u307e\u3059\u3002 \u3053\u306e\u6a5f\u80fd\u306f\u4e00\u5ea6\u8d77\u52d5\u3059\u308b\u3068\u8a72\u5f53incoming FIFO\u304cempty\u306b\u306a\u308b\u307e\u3067\u50cd\u304d\u7d9a\u3051\u307e\u3059\u3002 Input throttling type-1\u306f\u6982\u5ff5\u3060\u3051\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u3066\u672a\u5b9f\u88c5\u3067\u3059\u304c\u3001\u5165\u529b\u30c7\u30fc\u30bf\u30ec\u30fc\u30c8\u304c\u6025\u6fc0\u306b\u5897\u3048\u308b\u3068\u8d77\u52d5\u3057ODP\u30d6\u30ed\u30c3\u30af\u306e2us \u9045\u5ef6\u30d0\u30c3\u30d5\u30a1\u306e\u5f8c\u3067\u30c7\u30fc\u30bf\u3092\u6d88\u53bb\u3059\u308b\u6a5f\u80fd\u3067\u3059\u3002 Type-2\u306e\u3088\u3046\u306b\u4e00\u5ea6\u30e1\u30e2\u30ea\u306b\u66f8\u3044\u3066\u3057\u307e\u3063\u305f\u30c7\u30fc\u30bf\u304c\u6392\u51fa\u3055\u308c\u308b\u307e\u3067\u5f85\u3064\u5fc5\u8981\u304c\u7121\u3044\u306e\u3067\u9ad8\u52b9\u7387\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u77ac\u9593\u7684\u306b\u30ec\u30fc\u30c8\u304c\u4e0a\u304c\u3063\u305f\u3053\u3068\u306e\u5224\u65ad\u304c\u96e3\u3057\u3044\u305f\u3081\u73fe\u5728\u306f\u672a\u5b9f\u88c5\u3067\u3059\u3002</p> <p>Output throttling\u306f\u30d0\u30c3\u30af\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u304b\u3089Streaming TDC\u3092\u5b88\u308b\u6a5f\u80fd\u3067\u3059\u3002 SiTCP\u76f4\u524d\u306e\u30d0\u30c3\u30d5\u30a1 (link buffer) \u306eprogrammable full flag\u304c\u7acb\u3063\u3066\u3044\u308b\u3068\u304d\u306binput throttling type-2\u304c\u50cd\u304f\u3068\u3053\u306e\u6a5f\u80fd\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002 Output throttling\u30e6\u30cb\u30c3\u30c8\u306f\u50cd\u3044\u3066\u3044\u308b\u9593back-merger\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3057\u3066\u3001TDC\u30c7\u30fc\u30bf\u3092\u7834\u68c4\u3057\u3064\u3064\u30c7\u30ea\u30df\u30bf\u30c7\u30fc\u30bf\u306e\u307flink buffer\u3078\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u30c7\u30fc\u30bf\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u7a7a\u304d\u3092\u4f5c\u3063\u3066PC\u306e\u30d3\u30b8\u30fc\u72b6\u614b\u304c\u89e3\u6d88\u3059\u308b\u306e\u3092\u5f85\u3064\u7336\u4e88\u3092\u4f5c\u308a\u307e\u3059\u3002 \u3053\u306e\u6a5f\u80fd\u306f\u4e00\u5ea6\u8d77\u52d5\u3059\u308b\u3068link buffer\u304cempty\u306b\u306a\u308b\u307e\u3067\u50cd\u304d\u7d9a\u3051\u307e\u3059\u3002</p> <p>Heartbeat frame throttling\u306f3\u756a\u76ee\u306e\u30b1\u30fc\u30b9\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002 \u3053\u306e\u6a5f\u80fd\u306fheartbeat inserter\u306b\u50cd\u304d\u304b\u3051\u3066\u30012/4/8/16\u306e\u500d\u6570\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\u306e\u6642\u3060\u3051TDC\u30c7\u30fc\u30bf\u3092\u901a\u904e\u3055\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u3063\u3066\u3001Streaming TDC\u304c\u751f\u6210\u3059\u308b\u30c7\u30fc\u30bf\u91cf\u81ea\u4f53\u3092\u7d5e\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u4e00\u756a\u3086\u308b\u3044\u8a2d\u5b9a\u3067\u3082\u3044\u304d\u306a\u308a\u30c7\u30fc\u30bf\u91cf\u304c50%\u306b\u306a\u308b\u306e\u3067\u3001 \u4f55\u3089\u304b\u306e\u7406\u7531\u306b\u3088\u308a\u5165\u529b\u30c7\u30fc\u30bf\u91cf\u3092\u5236\u5fa1\u3067\u304d\u306a\u3044\u6642\u306e\u6700\u7d42\u624b\u6bb5\u3068\u3057\u3066\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30d3\u30fc\u30e0\u5b9f\u9a13\u3067\u3042\u308c\u3070\u30d3\u30fc\u30e0\u3092\u6368\u3066\u3066\u3044\u308b\u306e\u3068\u540c\u3058\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>Throttling\u6a5f\u80fd\u306fFPGA\u5185\u3067\u81ea\u5df1\u5224\u65ad\u3057TDC\u30c7\u30fc\u30bf\u3092\u7834\u68c4\u3059\u308b\u975e\u5e38\u306b\u5f37\u529b\u306a\u6a5f\u80fd\u3067\u3059\u3002 \u3069\u306e\u6a5f\u80fd\u304c\u3044\u3064\u50cd\u3044\u305f\u306e\u304b\u3001\u3069\u308c\u3060\u3051\u306e\u91cf\u306e\u30c7\u30fc\u30bf\u3092\u7834\u68c4\u3057\u305f\u304b\u3001\u306a\u308b\u3079\u304f\u30c7\u30fc\u30bf\u304b\u3089\u308f\u304b\u308b\u3088\u3046\u306b\u5de5\u592b\u3057\u3066\u3042\u308a\u307e\u3059\u3002 \u307e\u305a\u3001\u30c7\u30ea\u30df\u30bf\u30c7\u30fc\u30bf\u5185\u306b\u3069\u306e\u6a5f\u80fd\u304c\u50cd\u3044\u305f\u304b\u3092\u793a\u3059\u30d5\u30e9\u30b0\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u3053\u308c\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u3054\u3068\u306e\u30b5\u30de\u30ea\u30fc\u3067\u3042\u308b\u305f\u3081\u3001\u7d30\u304b\u3044\u72b6\u6cc1\u307e\u3067\u306f\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3002 Input throttling type-2\u306f\u305d\u306e\u6a5f\u80fd\u304c\u8d77\u52d5\u3057\u305f\u3068\u304d\u3068\u7d42\u4e86\u3057\u305f\u6642\u306b\u3001\u958b\u59cb\u3068\u7d42\u4e86\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u304c\u5165\u3063\u305f\u7279\u6b8a\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u30d0\u30b0\u306b\u3088\u308a\u3053\u306e\u6a5f\u80fd\u304cv2.7\u4ee5\u524d\u3067\u306f\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002Version 2.8\u304b\u3089\u7279\u6b8a\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3057\u307e\u3059\u3002(2025.03.05 \u8ffd\u8a18) \u3053\u3053\u304b\u3089\u3044\u3064\u3069\u308c\u3060\u3051input throttling type-2\u304c\u50cd\u3044\u305f\u304b\u308f\u304b\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3042\u307e\u308a\u3088\u304f\u691c\u8a3c\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 \u30e6\u30fc\u30b6\u30fc\u306b\u3088\u308b\u691c\u8a3c\u3068\u8ffd\u8a18\u3092\u671b\u307f\u307e\u3059\u3002 \u307e\u305f\u3001\u30c7\u30ea\u30df\u30bf\u30c7\u30fc\u30bf\u306fODP\u30d6\u30ed\u30c3\u30af\u3067\u751f\u6210\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u7dcf\u91cf\u3068\u3001SiTCP\u304b\u3089\u9001\u4fe1\u3067\u304d\u305f\u30c7\u30fc\u30bf\u306e\u7dcf\u91cf\u306e\u60c5\u5831\u3092\u6709\u3057\u3066\u3044\u307e\u3059\u3002 \u524d\u8005\u306f\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u6a5f\u80fd\u306e\u5f71\u97ff\u3092\u53d7\u3051\u308b\u524d\u3001\u5f8c\u8005\u306f\u53d7\u3051\u305f\u5f8c\u306e\u30c7\u30fc\u30bf\u91cf\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u304b\u3089\u305d\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u52b9\u7387\u3092\u7b97\u51fa\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#data-structure","title":"Data structure","text":"<p>Streaming TDC\u306e\u30c7\u30fc\u30bf\u30ef\u30fc\u30c9\u306f64-bit\u9577\u3067\u3001TDC\u30c7\u30fc\u30bf\u3068\u30c7\u30ea\u30df\u30bf\u30c7\u30fc\u30bf\u306e2\u7a2e\u985e\u306e\u30c7\u30fc\u30bf\u30ab\u30c6\u30b4\u30ea\u304c\u5b58\u5728\u3057\u307e\u3059\u3002 TDC\u30c7\u30fc\u30bf\u30ab\u30c6\u30b4\u30ea\u306b\u306fleading/trailing edge\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u793a\u3059\u3044\u308f\u3086\u308bTDC\u30c7\u30fc\u30bf\u30ef\u30fc\u30c9\u3068\u3001input throttling \u306e\u958b\u59cb\u3068\u7d42\u4e86\u3092\u793a\u3059\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u30c7\u30fc\u30bf\u30ef\u30fc\u30c9\u304c\u5b58\u5728\u3057\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#tdc-data-category","title":"TDC data category","text":"<pre><code>Str-LRTDC Leading/trailing data word\nMSB                                                                                                     LSB\n[    6-bit    ][    8-bit    ][        16-bit        ][          19-bit           ][       15-bit        ]\n   Data type       Channel              TOT                     TDC timing               Zero padding\n\nThrottling data word\n[    6-bit    ][    8-bit    ][        16-bit        ][        16-bit        ][          18-bit          ]\n   Data type       Channel            Reserve            Throttling timing            Zero padding\n</code></pre> <p>\u4ee5\u4e0b\u306f\u5148\u982d\u306e6-bit data type\u306e\u30ea\u30b9\u30c8\u3067\u3059\u3002 Input throttling type-1\u306e\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u306f\u4e88\u7d04\u3060\u3051\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> 6-bit data-type pattern Type b001011 Leading edge timing b001101 Trailing edge timing b011001 Input throttling type-1 start b010001 Input throttling type-1 end b011010 Input throttling type-2 start b010010 Input throttling type-2 end <p>Leading/trailing data word\u3067\u306fLSB\u7cbe\u5ea6\u306fTOT\u3001TDC\u30bf\u30a4\u30df\u30f3\u30b0\u3068\u3082\u306b1ns\u3067\u3059\u3002 TOT\u9818\u57df\u306f16-bit\u78ba\u4fdd\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u6700\u5927TOT\u5024\u306f4000ns\u3067\u3059\u3002\u305d\u308c\u4ee5\u4e0a\u306eTOT\u5024\u304c\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002 TDC\u30bf\u30a4\u30df\u30f3\u30b0\u9818\u57df\u306f\u5185\u90e8\u7684\u306b\u306f16-bit fine-scale timestamp + 3-bit fine timing\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <p>Throttling data word\u306finput throttling\u304c\u8d77\u52d5\u3068\u7d42\u4e86\u3057\u305f\u6642\u306e\u6642\u523b\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 Input throttling type-2\u306f\u30c1\u30e3\u30f3\u30cd\u30eb\u6bce\u306b\u50cd\u304f\u305f\u3081\u30018-bit channel\u306e\u9818\u57df\u306fleading/trailing data word\u3068\u540c\u3058\u7bc4\u56f2\u306e\u5024\u3092\u53d6\u308a\u307e\u3059\u3002 16-bit throttling timing\u306f\u5185\u90e8\u7684\u306b\u306f16-bit fine-scale timestamp\u3067\u3059\u3002\u305d\u306e\u305f\u3081LSB\u7cbe\u5ea6\u306f8ns\u3067\u3059\u3002 \u3053\u308c\u3089\u306e\u30c7\u30fc\u30bf\u304c\u633f\u5165\u3055\u308c\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u56f3\u306b\u793a\u3057\u307e\u3059\u3002</p> Figure\u00a08: Data blocked by the input throttling type-2."},{"location":"firmware/strlrtdc/strlrtdc/#heartbeat-delimiter-category","title":"Heartbeat delimiter category","text":"<pre><code>1st delimiter\n[    6-bit    ][ 2-bit ][       16-bit       ][       16-bit        ][              24-bit               ]\n   Data type    Reserve          Flags          LACCP fine offset            Heartbeat frame number\n\n2nd delimiter\n[    6-bit    ][ 2-bit ][       16-bit       ][           20-bit           ][           20-bit           ]\n   Data type    Reserve        User reg.        Generated data size [byte]   Transferred data size [byte]\n</code></pre> 6-bit data-type pattern Type b011100 1st heartbeat delimiter b011110 2nd heartbeat delimiter <p>\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30c7\u30ea\u30df\u30bf\u30ef\u30fc\u30c9\u306f64-bit\u30ef\u30fc\u30c9\u304c2\u3064\u9023\u7d9a\u3057\u3066128-bit\u9577\u3067\u633f\u5165\u3055\u308c\u307e\u3059\u3002 2\u3064\u306e\u30c7\u30ea\u30df\u30bf\u30ef\u30fc\u30c9\u304c\u5206\u304b\u308c\u3066\u3057\u307e\u3046\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u3082\u3057\u9023\u7d9a\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u30c7\u30fc\u30bf\u7834\u640d\u3092\u8d77\u3053\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>1st delimiter word\u306e16-bit flags\u306f\u8a72\u5f53\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306b\u304a\u3051\u308bDAQ\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u30d5\u30e9\u30b0\u3092\u793a\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306b\u5404\u30d3\u30c3\u30c8\u306e\u610f\u5473\u3092\u307e\u3068\u3081\u307e\u3059\u3002</p> <p>2025.01.06 \u8ffd\u8a18</p> <p>Frame flag 1/2\u306fMikumari Clock Root module\u304c\u9001\u4fe1\u3057\u305f\u5404\u30d5\u30ec\u30fc\u30e0\u306e\u72b6\u614b\u30d5\u30e9\u30b0\u3067\u3059\u3002 Standalone mode\u306e\u5834\u5408\u81ea\u8eab\u306eNIM\u5165\u529b\u304b\u3089\u306e\u4fe1\u53f7\u5165\u529b\u306e\u7d50\u679c\u304c\u3053\u3053\u306b\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002</p> Bit Flag Comment 16th bit Reserve 15th bit Radiation URE Unrecoverable error of FPGA by radiation. FPGA reconfiguration is requested. 14th bit Miku Communication error There was some kind of communication error of the MIKUMARI link in the heartbeat frame. 13th bit Reserve 12th bit Overflow Incoming FIFO's Almost full or full flags are asserted. Unexpected data load. There is a risk of data corruption. 11th bit Global HBF num mismatch The frame number received via the MIKUMARI mismatches with the local frame number. (Potentially communication error). 10th bit Local HBF num mismatch Merger block combined the data block with different frame number. It indicates the data corruption. 9th bit Reserve 8th bit Input throttling type1 7th bit Input throttling type2 Input throttling type2 was working in this frame. 6th bit Output throttling A part of data were discarded by the output throttling. 5th bit HBF throttling This frame does not contain the TDC data because of the HBF throttling. 4th bit Reserve 3rd bit Reserve 2nd bit Frame flag 2 Indicating the frame flag 2 condition in the current heartbeat frame. 1st bit Frame flag 1 Indicating the frame flag 1 condition in the current heartbeat frame. <p>16-bit LACCP fine offset\u306fLACCP\u304c\u5c0e\u51fa\u3057\u305ffine offset\u5024\u3067\u3042\u308a\u300116-bit\u7b26\u53f7\u4ed8\u304d\u6574\u6570\u3067\u3059\u3002 LSB\u306e\u6642\u9593\u7cbe\u5ea6\u306f0.9765625 (1/1.024) ps\u3067\u3042\u308a\u3001Str-HRTDC\u306e\u30d3\u30c3\u30c8\u7cbe\u5ea6\u3068\u540c\u4e00\u3067\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fLACCP fine offset\u306b\u3088\u3063\u3066TDC\u5024\u306f\u88dc\u6b63\u3055\u308c\u3066\u304a\u308a\u3053\u306e\u6b04\u306f0\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306e\u88dc\u6b63\u6a5f\u80fd\u3092\u30aa\u30d5\u306b\u3059\u308b\u3068\u81ea\u52d5\u88dc\u6b63\u304c\u884c\u308f\u308c\u305a\u3001LACCP fine offset\u304c\u3053\u306e\u6b04\u306b\u73fe\u308c\u307e\u3059\u3002 \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u4e0a\u3067\u306f\u3053\u306e\u5024\u3092leading/trailing timing\u3078\u52a0\u7b97\u3057\u3066\u6642\u523b\u88dc\u6b63\u3092\u884c\u3044\u307e\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30bf\u30a4\u30df\u30f3\u30b0\u306b\u8fd1\u3044TDC\u30c7\u30fc\u30bf\u306f\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u88dc\u6b63\u5f8c\u306b\u96a3\u306e\u30d5\u30ec\u30fc\u30e0\u3078\u52d5\u304b\u3055\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u3001\u30bd\u30d5\u30c8\u4e0a\u3067\u88dc\u6b63\u3057\u305f\u3044\u5834\u5408\u306f\u30d5\u30ec\u30fc\u30e0\u8de8\u304e\u306e\u51e6\u7406\u3092\u6b63\u3057\u304f\u5b9f\u88c5\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Heartbeat frame number\u306f\u5f53\u8a72\u30d5\u30ec\u30fc\u30e0\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\u3067\u3059\u3002</p> <p>2nd delimiter word\u306e16-bit user reg.\u306fPC\u304b\u3089\u8a2d\u5b9a\u53ef\u80fd\u306a\u4efb\u610f\u306e\u30ec\u30b8\u30b9\u30bf\u5024\u3067\u3059\u3002 SiTCP\u306eRBCP\u7d4c\u7531\u3067\u30ec\u30b8\u30b9\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u3068\u3001\u30c7\u30ea\u30df\u30bf\u30ef\u30fc\u30c9\u306e\u3053\u306e\u4f4d\u7f6e\u306b\u73fe\u308c\u307e\u3059\u3002 PC\u304b\u3089\u60c5\u5831\u3092\u3053\u3053\u3078\u66f8\u304d\u8fbc\u3093\u3067\u304a\u304f\u3068\u3001\u89e3\u6790\u306e\u6642\u306b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u30ad\u30fc\u5024\u306a\u3069\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 \u305f\u3060\u3057\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7d4c\u7531\u3067\u66f8\u304d\u8fbc\u3080\u305f\u3081\u6642\u9593\u7cbe\u5ea6\u306f\u9ad8\u304f\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>20-bit generated data size\u306f\u3053\u306e\u30d5\u30ec\u30fc\u30e0\u5185\u3067ODP\u30d6\u30ed\u30c3\u30af\u304c\u751f\u6210\u3057\u305f\u30c7\u30fc\u30bf\u91cf\u3092\u793a\u3057\u307e\u3059\u3002 \u3053\u306e\u6570\u5024\u306fdelimiter inserter\u3067\u8a08\u7b97\u3055\u308c\u3066\u304a\u308a\u3001\u5404\u7a2e\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u6a5f\u80fd\u306e\u5f71\u97ff\u3092\u53d7\u3051\u308b\u524d\u306e\u751f\u6210\u30c7\u30fc\u30bf\u91cf\u3067\u3059\u3002 Paring mode\u304c\u30aa\u30f3\u306e\u5834\u5408\u3001\u3053\u306e\u6570\u5024\u306fleading edge data word\u306e\u30d0\u30a4\u30c8\u6570\u3092\u793a\u3057\u307e\u3059\u3002 Paring mode\u304c\u30aa\u30d5\u306e\u5834\u5408\u3001\u3053\u306e\u6570\u5024\u306fleading/trailing edge data word\u306e\u5408\u8a08\u30d0\u30a4\u30c8\u6570\u3092\u793a\u3057\u307e\u3059\u3002 Input throttling type-2\u306fdelimiter inserter\u306e\u5f8c\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001input throttling type-2 start/end data words\u306f\u3053\u306e\u6570\u5024\u306b\u542b\u307e\u308c\u307e\u305b\u3093\u3002</p> <p>20-bit transferred data size\u306f\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u307e\u3067\u5230\u9054\u3057\u305f\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u3067\u3059\u3002 \u3082\u3057FPGA\u5185\u3067\u4e00\u5207\u306e\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u304c\u7121\u3044\u5834\u5408\u3053\u306e\u5024\u306fgenerated data size\u306b\u4e00\u81f4\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u3092\u8d77\u3053\u3059\u4e3b\u306a\u7406\u7531\u306f\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u6a5f\u80fd\u3067\u3059\u304c\u3001\u975e\u5e38\u306b\u5165\u529b\u30ec\u30fc\u30c8\u304c\u9ad8\u3044\u5834\u5408\u305d\u308c\u4ee5\u5916\u306b\u3082\u30c9\u30ed\u30c3\u30d7\u3092\u767a\u751f\u3055\u305b\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u305d\u306e\u3088\u3046\u306a\u5834\u540816-bit flags\u306bthrottling bit\u304c\u7acb\u3063\u3066\u3044\u306a\u304f\u3066\u3082transferred data size\u306e\u307b\u3046\u304c\u5c0f\u3055\u304f\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u306e\u6570\u5024\u306fFPGA\u304c\u8ee2\u9001\u3057\u305f\u5168\u30c7\u30fc\u30bf\u306e\u30d0\u30a4\u30c8\u6570\u3092\u793a\u3059\u305f\u3081\u3001input throttling type-2 start/end data words\u306e\u542b\u307f\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u7279\u6b8a\u306a\u72b6\u6cc1\u3067\u306ftransferred data size\u306e\u307b\u3046\u304cgenerated data size\u3092\u4e0a\u56de\u308b\u4e8b\u304c\u3042\u308a\u5f97\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#register-address-map","title":"Register address map","text":"Register name Address Read/Write Bit width Comment kTdcMaskMainU 0x1000'0000 W/R 32 Channel mask for 0-31ch    (default: 0x0) kTdcMaskMainD 0x1010'0000 W/R 32 Channel mask for 32-63ch   (default: 0x0) kTdcMaskMznU 0x1020'0000 W/R 32 Channel mask for 64-95ch   (default: 0x0) kTdcMaskMznD 0x1030'0000 W/R 32 Channel mask for 96-127ch  (default: 0x0) kEnBypass 0x1040'0000 W/R 3 Enable bypass for 2-us delay buffer and paring unit. (default: 0x0)  1st-bit: Enable bypass for 2-us delay buffer  2nd-bit: Enable bypass for paring unit  3rd-bit: Disable the LACCP fine offset correction. If disabling it, non-zero value appears in the LACCP fine offset region in 1st delimiter word. kTotFilterCtrl 0x1050'0000 W/R 2 Enable TOT filter. (default: 0x0)  1st-bit: Enable TOT filter unit  2nd-bit: Enable zero-TOT through mode kTotMinTh 0x1060'0000 W/R 16 TOT filter low threshold kTotMaxTh 0x1070'0000 W/R 16 TOT filter high threshold kTrgAssistCtrl 0x1080'0000 W/R 2 Set trigger assisted mode. (default: 0x0)  1st-bit: Enable trigger gate mode  2nd-bit: Enable Veto gate mode kTrgAssistDelay 0x1090'0000 W/R 8 Set the delay from the trigger (veto) input to opening the trigger (veto) gate. LSB precision is 8ns. kTrgAssistWidth 0x10A0'0000 W/R 16 Set the trigger (veto) gate width. LSB precision is 8ns. kHbfThrottCtrl 0x10B0'0000 W/R 4 Set the heartbeat frame throttling condition.  0x0: Disable (default)  0x1: Only data for frame numbers that are multiples of 2 is acquired.  0x2: Only data for frame numbers that are multiples of 4 is acquired.  0x4: Only data for frame numbers that are multiples of 8 is acquired.  0x8: Only data for frame numbers that are multiples of 16 is acquired. kHbdUserReg 0x10C0'0000 W 16 The register value to be embedded to the 2nd delimiter word. kSelfRecoveryMode 0x10D0'0000 W/R 1 Enable the automatic recovery process for the local heartbeat frame mismatch (default: 0x0). <p>\u88dc\u8db3\u8aac\u660e</p> <ul> <li>TdcMask<ul> <li>TdcMask\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3068\u8a72\u5f53\u30c1\u30e3\u30f3\u30cd\u30eb\u304b\u3089TDC\u30c7\u30fc\u30bf\u304c\u51fa\u529b\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002</li> <li>LSB\u5074\u304c\u82e5\u3044\u30c1\u30e3\u30f3\u30cd\u30eb\u756a\u53f7\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</li> <li>Scaler\u3078\u306f\u5f71\u97ff\u3092\u4e0e\u3048\u307e\u305b\u3093\u3002</li> </ul> </li> <li>EnBypass<ul> <li>2-us delay buffer\u3092\u30d0\u30a4\u30d1\u30b9\u3059\u308b\u6a5f\u80fd\u306f\u73fe\u72b6DAQ\u6a5f\u80fd\u306b\u4f55\u3082\u5909\u5316\u3092\u4e0e\u3048\u307e\u305b\u3093\u3002</li> <li>\u30da\u30a2\u30ea\u30f3\u30b0\u30e6\u30cb\u30c3\u30c8\u3092\u30d0\u30a4\u30d1\u30b9\u3059\u308b\u3068\u7acb\u4e0b\u308a\u30c7\u30fc\u30bf\u304c\u5225\u306b\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002</li> </ul> </li> <li>TotFilter<ul> <li>Zero-TOT through mode\u3067\u306f\u305f\u3068\u3048\u4e0b\u9650\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u305f\u3068\u3057\u3066\u3082TOT\u304c0\u306e\u30c7\u30fc\u30bf\u3092\u4f8b\u5916\u7684\u306b\u901a\u904e\u3055\u305b\u307e\u3059\u3002</li> <li>\u95be\u5024\u8a2d\u5b9a\u306eLSB\u7cbe\u5ea6\u306fTDC\u3068\u540c\u30581ns\u3067\u3059\u3002</li> </ul> </li> <li>TrgAssist<ul> <li>Trigger mode\u3067\u306f\u30c8\u30ea\u30ac\u30fc\u5165\u529b\u306b\u3088\u308a\u30c7\u30fc\u30bf\u3092\u901a\u904e\u3055\u305b\u308b\u305f\u3081\u306e\u30b2\u30fc\u30c8\u3092\u958b\u304d\u307e\u3059\u3002Veto mode\u3067\u306f\u30d9\u30c8\u5165\u529b\u306b\u3088\u308a\u30c7\u30fc\u30bf\u3092\u30d6\u30ed\u30c3\u30af\u3059\u308b\u30b2\u30fc\u30c8\u3092\u958b\u304d\u307e\u3059\u3002</li> <li>kTrgAssistCtrl\u306b\u306f0x3\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002</li> </ul> </li> <li>SelfRecoveryMode<ul> <li>Local heartbeat frame number mismatch (delimiter flag 10th bit)\u304c\u767a\u751f\u3057\u305f\u6642\u306b\u81ea\u52d5\u5fa9\u5e30\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002</li> <li>\u3053\u306e\u30e2\u30fc\u30c9\u304c\u6709\u52b9\u306e\u6642local heartbeat frame mismatch\u304c\u8d77\u304d\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bDAQ\u72b6\u614b\u3092OFF\u3057\u3066\u30c7\u30fc\u30bf\u9001\u4fe1\u3092\u6b62\u3081\u3001\u30c7\u30fc\u30bf\u30de\u30fc\u30b8\u30f3\u30b0\u30d6\u30ed\u30c3\u30af\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3066\u304b\u3089DAQ\u72b6\u614b\u3092ON\u3057\u30c7\u30fc\u30bf\u9001\u4fe1\u3092\u518d\u958b\u3057\u307e\u3059\u3002</li> <li>\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304b\u3089\u306f\u6570\u30d5\u30ec\u30fc\u30e0\u307b\u3069\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u304c\u629c\u3051\u305f\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002</li> </ul> </li> </ul>"},{"location":"firmware/strlrtdc/strlrtdc/#scaler","title":"Scaler","text":"<p>\u30b9\u30b1\u30fc\u30e9\u30fc\u306fDAQ\u6a5f\u80fd\u3068\u306f\u72ec\u7acb\u306b\u30dc\u30fc\u30c9\u3078\u306e\u30d2\u30c3\u30c8\u5165\u529b\u3084FPGA\u5185\u90e8\u4fe1\u53f7\u306e\u6570\u3092\u6570\u3048\u308b\u6a5f\u80fd\u3067\u3059\u3002 \u30b9\u30b1\u30fc\u30e9\u304c\u8a18\u9332\u3057\u3066\u3044\u308b\u6570\u306f\u30dc\u30fc\u30c9\u306b\u96fb\u6e90\u3092\u6295\u5165\u3057\u3066\u304b\u3089\u306e\u7a4d\u7b97\u5024\u3067\u3059\u3002 FPGA\u304c\u50cd\u304d\u3060\u3057\u305f\u76f4\u5f8c\u304b\u3089\u6570\u3048\u59cb\u3081\u307e\u3059\u3002 RBCP\u7d4c\u7531\u3067\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51fa\u3059\u3068\u3001\u30b3\u30de\u30f3\u30c9\u304c\u5c4a\u3044\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u306e\u5024\u3092\u30e9\u30c3\u30c1\u3057\u3066FIFO\u3078\u683c\u7d0d\u3057\u307e\u3059\u3002 \u305d\u306e\u3042\u3068RBCP\u7d4c\u7531\u3067FIFO\u304b\u3089\u8aad\u307f\u51fa\u3057\u3092\u884c\u3044\u307e\u3059\u3002 FIFO\u304b\u3089\u8aad\u307f\u51fa\u3057\u3092\u884c\u308f\u305a\u306b\u518d\u5ea6\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b\u3068\u30c7\u30fc\u30bf\u304c\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002 \u524d\u56de\u306e\u8aad\u307f\u51fa\u3057\u304c\u6210\u529f\u3057\u305f\u304b\u5b9a\u304b\u3067\u306a\u3044\u3068\u304d\u306fFIFO\u30ea\u30bb\u30c3\u30c8\u3092\u767a\u884c\u3057\u3066\u304b\u3089\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#gated-scaler-2025016","title":"Gated scaler (2025.01.6)","text":"<p>Frame flag bits 1/2\u306e\u72b6\u614b\u306b\u4f9d\u5b58\u3057\u3066\u52d5\u4f5c\u3059\u308bgated scaler \u304c2\u3064\u5b9f\u88c5\u3055\u308c\u307e\u3057\u305f\u3002 \u305d\u308c\u305e\u308cflag bit\u304c1\u306e\u9593\u3060\u3051\u30ab\u30a6\u30f3\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u5143\u3005\u5b9f\u88c5\u3055\u308c\u3066\u3044\u305fscaler unit\u3068\u5408\u308f\u305b\u3066\u5408\u8a083\u7a2e\u985e\u306e\u30b9\u30b1\u30fc\u30e9\u30fc\u304c\u5b58\u5728\u3057\u3066\u304a\u308a\u3001\u5404\u30b9\u30b1\u30fc\u30e9\u30fc\u306f\u72ec\u7acb\u306b\u6570\u3092\u6570\u3048\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#data-structure_1","title":"Data structure","text":"<p>\u30b9\u30b1\u30fc\u30e9\u30fc\u30c7\u30fc\u30bf\u30ef\u30fc\u30c9\u9577\u306f32-bit\u3067\u3059\u3002 \u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306f\u5148\u982d\u306b18-word (72-byte)\u5206\u306e\u30b7\u30b9\u30c6\u30e0\u60c5\u5831\u304c\u5b58\u5728\u3057\u3001\u305d\u306e\u3042\u3068N-word\u5206\u306e\u30d2\u30c3\u30c8\u30b9\u30b1\u30fc\u30e9\u30fc\u5024\u304c\u7d9a\u304d\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u306e\u4e26\u3073\u306f\u5148\u982d\u304b\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <ul> <li>System information (18 words)</li> <li>Channel-0 scaler value</li> <li>Channel-1 scaler value</li> <li>Channel-2 scaler value</li> <li>...</li> </ul> <p>2025.01.06 \u8ffd\u8a18</p> <p>System information\u306f3\u7a2e\u985e\u306e\u30b9\u30b1\u30fc\u30e9\u30e6\u30cb\u30c3\u30c8\u3067\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>FPGA\u304c\u8fd4\u3059\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306b\u306f\u3069\u306e\u30b9\u30b1\u30fc\u30e9\u30e6\u30cb\u30c3\u30c8\u306e\u30c7\u30fc\u30bf\u3067\u3042\u308b\u304b\u3092\u793a\u3059\u30d8\u30c3\u30c0\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002 \u30b9\u30b1\u30fc\u30e9\u8aad\u307f\u51fa\u3057\u306fRBCP\u306b\u3088\u3063\u3066\u30bd\u30d5\u30c8\u7684\u306b\u30c8\u30ea\u30ac\u30fc\u3055\u308c\u308b\u306e\u3067\u3001\u8aad\u307f\u51fa\u3057\u3092\u884c\u3063\u305f\u30bd\u30d5\u30c8\u304c\u3069\u306e\u30e6\u30cb\u30c3\u30c8\u3092\u8aad\u307f\u51fa\u3057\u305f\u306e\u304b\u77e5\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002 \u3069\u306e\u30e6\u30cb\u30c3\u30c8\u306e\u30c7\u30fc\u30bf\u3067\u3042\u308b\u304b\u3092\u660e\u793a\u3057\u305f\u3044\u5834\u5408\u306f\u30bd\u30d5\u30c8\u7684\u306b\u30d8\u30c3\u30c0\u3092\u4ed8\u4e0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Software section\u3067\u7d39\u4ecb\u3059\u308b<code>read_scr</code>\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u5148\u982d\u306b64-bit\u5206\u306e\u30bd\u30d5\u30c8\u30d8\u30c3\u30c0\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002</p> <p>Contents of system information</p> Word number Content Comment 1st Heartbeat count 16-bit fine-scale timestamp when receiving the latch request 2nd Heartbeat frame number 24-bit coarse-scale timestamp when receiving the latch request 3rd Real time Time elapsed after power-on 4th Daq run time Total run time while the DAQ state is running 5th Total throttling time Total time while any of throttling functions are running 6th Input throttling type-1 time Total time while input throttling type-1 is running 7th Input throttling type-2 time Total time while input throttling type-2 is running 8th Output throttling time Total time while output throttling is running 9th Hbf throttling time Total time while heartbeat frame throttling is running 10th Mikumari error number The number of communication error happened in the MIKUMARI link 11th Trigger request The number of trigger inputs 12th Trigger rejected The number of rejected trigger inputs 13th Frame flag-1 time Time while the frame flag 1 is on 14th Frame flag-2 time Time while the frame flag 2 is on 15th Reserve 16th Reserve 17th Reserve 18th Reserve <p>\u5148\u982d2\u30ef\u30fc\u30c9\u304c\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u5230\u9054\u6642\u523b\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u5024\u3092\u983c\u308a\u306b\u3057\u3066\u5dee\u5206\u3092\u53d6\u308a\u3001\u30ec\u30fc\u30c8\u8a08\u7b97\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Real time, daq run time, throttling time, frame flag time\u306b\u304a\u3051\u308b1-bit\u306e\u6642\u9593\u5358\u4f4d\u306f1 heartbeat period\u3067\u3059\u3002 \u7a4d\u7b97\u6642\u9593\u304c1 heartbeat\u9577\u306b\u6e80\u305f\u306a\u3044\u9593\u306f\u30ab\u30a6\u30f3\u30c8\u306f\u5897\u3048\u307e\u305b\u3093\u3002</p> <p>MIKUMARI\u306e\u901a\u4fe1\u30a8\u30e9\u30fc\u6570\u306f\u96fb\u6e90\u6295\u5165\u304b\u3089\u30ea\u30f3\u30af\u78ba\u7acb\u524d\u306e\u9593\u306b\u591a\u5c11\u5897\u3048\u308b\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002 \u30ea\u30f3\u30af\u78ba\u7acb\u5f8c\u306b\u5897\u52a0\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u5dee\u5206\u3092\u53d6\u3063\u3066\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Trigger request\u3068trigger rejected\u306f\u6642\u523b\u540c\u671f\u7528\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306e\u307f\u6709\u52b9\u306a\u6a5f\u80fd\u3067\u3059\u3002 \u6642\u523b\u540c\u671f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306eroot-module\u306f\u30c8\u30ea\u30ac\u30fc\u3092\u53d7\u4fe1\u3059\u308b\u3068MIKUMARI\u7d4c\u7531\u3067\u4e0b\u6d41\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u30c8\u30ea\u30ac\u30fc\u30d1\u30eb\u30b9\u3092\u9001\u4fe1\u3057\u307e\u3059\u304c\u3001MIKUMARI\u306f\u6975\u3081\u3066\u8fd1\u63a5\u3057\u305f2\u30d1\u30eb\u30b9\u3092\u9001\u308b\u4e8b\u304c\u51fa\u6765\u307e\u305b\u3093\u3002 Trigger request\u306froot-module\u3078\u5165\u529b\u3055\u308c\u305f\u30c8\u30ea\u30ac\u30fc\u6570\u3001trigger rejected\u306f\u4e0b\u6d41\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u9001\u4fe1\u3067\u304d\u306a\u304b\u3063\u305f\u30c8\u30ea\u30ac\u30fc\u6570\u3092\u793a\u3057\u307e\u3059\u3002 Str-LRTDC\u3067\u306f\u3053\u306e\u6b04\u306f0\u3067\u3059\u3002</p>"},{"location":"firmware/strlrtdc/strlrtdc/#register-address-map_1","title":"Register address map","text":"Register name Address Read/Write Bit width Comment kAddrScrReset 0x80000000 W 1 Reset signals  0x1: Local reset  0x2: Global reset  0x4: FIFO reset kAddrLatchCnt0 0x80100000 R 1 Send latch request to the free-run scaler unit kAddrLatchCnt1 0x80110000 R 1 Send latch request to the gated scaler 1 kAddrLatchCnt2 0x80120000 R 1 Send latch request to the gated scaler 2 kAddrNumCh 0x80200000 R 8 Number of words of scaler data block including system information (unit: words) kAddrStatus 0x80300000 R 8 Scaler unit status kAddrReadFIFO 0x81000000 R - Address to read data from FIFO <p>\u88dc\u8db3\u8aac\u660e</p> <ul> <li>AddrScrReset<ul> <li>Local reset\u306f\u30a2\u30af\u30bb\u30b9\u5148\u306e\u30b9\u30b1\u30fc\u30e9\u30fc\u30ab\u30a6\u30f3\u30c8\u306e\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3044\u307e\u3059\u3002</li> <li>Global reset\u306f\u30a2\u30af\u30bb\u30b9\u5148\u306e\u30b9\u30b1\u30fc\u30e9\u30fc\u30ab\u30a6\u30f3\u30c8\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u3001\u3055\u3089\u306bMIKUMARI\u30ea\u30f3\u30af\u7d4c\u7531\u3067\u30b9\u30b1\u30fc\u30e9\u30fc\u30ea\u30bb\u30c3\u30c8\u4fe1\u53f7\u3092\u4e0b\u6d41\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u9001\u4fe1\u3057\u307e\u3059\u3002MikuClockRoot\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306e\u307f\u6709\u52b9\u306a\u6a5f\u80fd\u3067\u3059\u3002</li> <li>FIFO reset\u306f\u30a2\u30af\u30bb\u30b9\u5148\u306eFIFO\u306e\u4e2d\u8eab\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002</li> </ul> </li> <li>LatchCnt<ul> <li>\u3053\u306e\u30a2\u30c9\u30ec\u30b9\u3078\u8aad\u307f\u51fa\u3057\u30a2\u30af\u30bb\u30b9\u3092\u3059\u308b\u3068\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u306a\u308a\u307e\u3059\u3002</li> <li>\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u3063\u3066\u3069\u306e\u30b9\u30b1\u30fc\u30e9\u30e6\u30cb\u30c3\u30c8\u3078\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3059\u308b\u304b\u6c7a\u307e\u308a\u307e\u3059\u3002</li> </ul> </li> <li>NumCh<ul> <li>\u30b9\u30b1\u30fc\u30e9\u30fc\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306e\u30ef\u30fc\u30c9\u6570\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u306e\u3067\u3001\u4f55\u30ef\u30fc\u30c9\u8aad\u307f\u51fa\u3057\u305f\u3089\u3088\u3044\u304b\u77e5\u308b\u305f\u3081\u306e\u30ec\u30b8\u30b9\u30bf\u3067\u3059\u3002\u8aad\u3080\u3079\u304d\u30ef\u30fc\u30c9\u6570\u304c\u5f97\u3089\u308c\u307e\u3059\u3002</li> </ul> </li> <li>Status<ul> <li>1st-bit: FIFO empty</li> <li>others: Reserved</li> </ul> </li> <li>ReadFIFO<ul> <li>1-byte\u305a\u3064\u30c7\u30fc\u30bf\u3092FIFO\u304b\u3089\u8aad\u307f\u51fa\u3059\u305f\u3081\u306e\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002</li> <li>3\u7a2e\u985e\u306e\u30b9\u30b1\u30fc\u30e9\u30e6\u30cb\u30c3\u30c8\u3067ReadFIFO\u3092\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3057\u305f\u30e6\u30cb\u30c3\u30c8\u306e\u30c7\u30fc\u30bf\u304cFIFO\u306b\u306f\u5165\u3063\u3066\u3044\u307e\u3059\u3002</li> </ul> </li> </ul>"},{"location":"firmware/strlrtdc/strlrtdc/#io-manager-20250106","title":"IO Manager (2025.01.06)","text":"<p>IO Manager\u306fAMANEQ\u306eNIM IO\u3068FPGA\u5185\u90e8\u306e\u4fe1\u53f7\u7b49\u306e\u63a5\u7d9a\u95a2\u4fc2\u3092\u7ba1\u7406\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002 NIM\u30dd\u30fc\u30c8\u304b\u3089\u5165\u529b\u3055\u308c\u305f\u4fe1\u53f7\u3092\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3001\u307e\u305f\u5185\u90e8\u4fe1\u53f7\u3092\u3069\u306eNIM\u30dd\u30fc\u30c8\u304b\u3089\u51fa\u529b\u3059\u308b\u304b\u3092SiTCP\u3092\u901a\u3058\u3066\u5909\u66f4\u3057\u307e\u3059\u3002</p> Register name Address Read/Write Bit width Comment kFrameFlag1In 0x20000000 W/R 2 Setting the NIM-IN port to the internal frame flag-1 signal. It is valid when the module is the standalone mode. (default 0x0) kFrameFlag2In 0x20100000 W/R 2 Setting the NIM-IN port to the internal frame flag-2 signal. It is valid when the module is the standalone mode. (default (0x1)) kTriggerIn 0x20200000 W/R 2 Setting the NIM-IN port to the internal trigger in signal. It is valid when the module is the standalone mode. (default (0x3)) kSelOutSig1 0x21000000 W/R 3 Selecting the internal signal to output from the NIM-OUT port 1. kSelOutSig2 0x21100000 W/R 3 Selecting the internal signal to output from the NIM-OUT port 2. <p>\u30a2\u30c9\u30ec\u30b9\u5024\u304c<code>0x20X0'0000</code>\u306e\u30ec\u30b8\u30b9\u30bf\u306fNIM-IN\u30dd\u30fc\u30c8\u3092\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002 \u5404\u30ec\u30b8\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> Register value Comment 0x0 Connecting the NIM-IN port 1 to the corresponding internal signal. 0x1 Connecting the NIM-IN port 2 to the corresponding internal signal. 0x2 Not in use 0x3 Connecting GND to the corresponding internal signal. <p>\u30a2\u30c9\u30ec\u30b9\u5024\u304c<code>0x21X0'0000</code>\u306e\u30ec\u30b8\u30b9\u30bf\u306f\u3069\u306e\u5185\u90e8\u4fe1\u53f7\u3092NIM-OUT\u30dd\u30fc\u30c8\u3078\u63a5\u7d9a\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002 \u5404\u30ec\u30b8\u30b9\u30bf\u306b\u5bfe\u3057\u3066\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> Register value Comment 0x0 Connecting the heartbeat signal. 0x1 Connecting the TCP connection establish. 0x2 Connecting the trigger signal from LACCP. 0x3 Connecting the frame flag-1. 0x4 Connecting the frame flag-2. 0x5 Connecting the div16 clock (7.8125 MHz) 0x6 Connecting the system clock signal (125 MHz). 0x7 Connecting the logic of 1"},{"location":"firmware/strlrtdc-10g/strlrtdc-10g/","title":"Streaming low-resolution TDC with 10GbE","text":""},{"location":"firmware/strlrtdc-10g/strlrtdc-10g/#overview","title":"Overview","text":"<p>The streaming low-resolution TDC with 10GbE (Str-LRTDC 10G) is a continuous readout TDC with 1ns timing precision. This firmware is basically the same as Str-LRTDC, but the data link protocol is replaced with SiTCP-XG.</p> <p>Github repository</p> <pre><code>- Unique ID:                  0x61c4\n\n- Number of inputs:           128\n- Timing measurements:        Both edges\n- TDC precision:              1ns\n- Double hit resolution:      ~8ns\n- Max TOT length:             4000ns\n\n- Link protocol:              SiTCP-XG\n- Default IP:                 192.168.10.10\n- Data link speed:            1Gbps\n\n- Data word width:            64bit\n- Acceptable max input rate:  ~125MHz/board\n- System clock freq.:         125MHz\n</code></pre>"},{"location":"firmware/strlrtdc-10g/strlrtdc-10g/#history","title":"History","text":"Version Date Changes v2.1 2025.10.14 - Fixed the bit position of the frameFlag1/2 swapped in the heartbeat delimiter flags.  - 125 MHz system clock signal can be output from NIM-OUT ports by selecting it via IOM. v2.0 2025.5.29 1st version. Functionalities are the same as those of StrLrTdc v2.9."},{"location":"firmware/strlrtdc-10g/strlrtdc-10g/#functions","title":"Functions","text":"<p>\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u30b9\u30d4\u30fc\u30c9\u3092\u9664\u304d\u3001\u5168\u3066\u306e\u6a5f\u80fd\u304cStr-LrTdc\u3068\u540c\u4e00\u3067\u3042\u308b\u3002</p>"},{"location":"hardware/diff-hul/diff-hul/","title":"Differences in HUL","text":""},{"location":"hardware/diff-hul/diff-hul/#major-functional-differences","title":"Major functional differences","text":"<ul> <li>\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u6570\u304cHUL\u306f1\u3064\u3001AMANEQ\u306f2\u3064</li> <li>\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u306e\u30e1\u30c7\u30a3\u30a2\u898f\u683c\u304cHUL\u306fLAN\u30b1\u30fc\u30d6\u30eb\u306e\u307f\u3001AMANQ\u306f\u5149\u30d5\u30a1\u30a4\u30d0\u30fc\u3092\u9078\u629e\u53ef\u80fd</li> <li>HUL\u306eNIM I/O\u306f\u5408\u8a088\u3064\u3001AMANQ\u306f4\u3064</li> <li>HUL\u306e\u96fb\u6e90\u96fb\u5727\u306f5V\u3001AMANEQ\u306f+20-35V</li> <li>AMANEQ\u306e\u307f\u30b8\u30c3\u30bf\u30af\u30ea\u30fc\u30ca\u30fc\u3092\u642d\u8f09\u3057\u3066\u3044\u308b</li> <li>AMANEQ\u306e\u307fDDR3-SDRAM\u3092\u642d\u8f09\u3057\u3066\u3044\u308b</li> <li>AMANEQ\u306e\u307f\u6642\u523b\u540c\u671f\u30dd\u30fc\u30c8\u3092\u642d\u8f09\u3057\u3066\u3044\u308b</li> <li>AMANEQ\u306fNIM\u51fa\u529b\u7528\u306eIC\u30921\u6bb5\u7701\u7565\u3057\u3066\u304a\u308a\u3001NIM\u4fe1\u53f7\u3078\u5909\u63db\u3059\u308b\u56de\u8def\u306b\u500b\u4f53\u5dee\u304c\u751f\u3058\u3084\u3059\u3044\u3002\u540c\u3058\u4fe1\u53f7\u3092\u9055\u3046AMANQE\u3067\u51fa\u529b\u3059\u308b\u3068\u3001NIM\u4fe1\u53f7\u5e45\u304c\u9055\u3046\u4e8b\u304c\u3042\u308b\u3002</li> <li>HUL\u306eDIP\u30b9\u30a4\u30c3\u30c1\u306fON\u30671\u306b\u306a\u308b\u3088\u3046\u306bFPGA\u5185\u3067\u30ed\u30b8\u30c3\u30af\u53cd\u8ee2\u3057\u3066\u3044\u308b\u304c\u3001AMANEQ\u3067\u306f\u53cd\u8ee2\u305b\u305a\u30b7\u30eb\u30af\u8868\u8a18\u306b\u5f93\u3046\u306e\u3067\u3001ON\u30670\u3067\u3042\u308b</li> </ul>"},{"location":"hardware/diff-hul/diff-hul/#differences-for-firmware-developers","title":"Differences for firmware developers","text":"<ul> <li>HUL\u306f\u30e1\u30b6\u30cb\u30f3\u3068\u306e\u63a5\u7d9a\u3092\u5168\u30661.8V\u99c6\u52d5\u306eHP\u30d0\u30f3\u30af\u3067\u884c\u3063\u3066\u3044\u308b\u304c\u3001AMANEQ\u3067\u306f2.5V\u99c6\u52d5\u306eHR\u30d0\u30f3\u30af\u30681.8V\u99c6\u52d5\u306eHP\u30d0\u30f3\u30af\u304c\u6df7\u3056\u3063\u3066\u3044\u308b</li> <li>HUL\u306e\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u306fSPIx1\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u304c\u3001AMANEQ\u3067\u306fSPIx4\u3092\u4f7f\u3063\u3066\u3044\u308b</li> </ul>"},{"location":"hardware/for-developers/for-developers/","title":"For developers","text":"<p>\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u958b\u767a\u3092\u3059\u308b\u65b9\u5411\u3051\u306e\u60c5\u5831\u3067\u3059\u3002</p>"},{"location":"hardware/for-developers/for-developers/#circuit-diagram","title":"Circuit diagram","text":"<p>\u56de\u8def\u56f3\u306fGithub\u3067AMANEQ-official\u306e\u30e1\u30f3\u30d0\u30fc\u9650\u5b9a\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002\u56de\u8def\u56f3\u306e\u53c2\u7167\u304c\u5fc5\u8981\u306a\u5834\u5408\u672c\u591a\u3078\u30b3\u30f3\u30bf\u30af\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"hardware/for-developers/for-developers/#connector-net-map-for-mezzanine-card","title":"Connector net map for mezzanine card","text":"<p>AMANEQ\u4e0a\u306e\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30bf\u3068\u30e1\u30b6\u30cb\u30f3\u5074\u306e\u30b3\u30cd\u30af\u30bf\u306e\u4fe1\u53f7\u30cd\u30c3\u30c8\u756a\u53f7\u5bfe\u5fdc\u3092\u4ee5\u4e0b\u306e\u8868\u306b\u793a\u3057\u307e\u3059\u3002 AMANQ\u3068\u30e1\u30b6\u30cb\u30f3\u306e\u9593\u3067\u306f\u3001\u30cd\u30c3\u30c8\u756a\u53f7\u304c16\u30c1\u30e3\u30f3\u30cd\u30eb\u6bce\u306b\u9006\u8ee2\u3057\u3066\u3044\u307e\u3059\u3002 BASE\u5217\u304cAMANEQ\u5074\u306e\u30cd\u30c3\u30c8\u756a\u53f7\u3001MZN\u5217\u304c\u30e1\u30b6\u30cb\u30f3\u5074\u306e\u30cd\u30c3\u30c8\u756a\u53f7\u3067\u3059\u3002 \u53f3\u5074\u306e4\u5217\u306fAMANEQ\u3068HUL\u306e\u5834\u5408\u305d\u308c\u305e\u308c\u306b\u5bfe\u3059\u308b\u3001P/N\u53cd\u8ee2\u306e\u6709\u7121\u3068\u3001\u4fe1\u53f7\u898f\u683c\u306e\u5909\u66f4\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 U\u306f\u4e0a\u5074\u30e1\u30b6\u30cb\u30f3\u3001D\u306f\u4e0b\u5074\u30e1\u30b6\u30cb\u30f3\u3092\u793a\u3057\u307e\u3059\u3002</p> <p>\u5404\u8981\u7d20\u306eI\u306fP/N\u304cAMANEQ/HUL\u5074\u3067\u9006\u8ee2\u3057\u3066\u3044\u308b\u30cd\u30c3\u30c8\u3001L\u304cAMANEQ\u5074\u3067LVDS\u6307\u5b9a\u304c\u5fc5\u8981\u306a\u30dd\u30fc\u30c8\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 HUL\u306e\u4fe1\u53f7\u898f\u683c\u306f\u5168\u3066LVDS\u3067\u3059\u304c\u3001AMANEQ\u306fL\u8868\u8a18\u304c\u3042\u308b\u30dd\u30fc\u30c8\u3092\u9664\u304dLVDS_25\u306e\u6307\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002</p> BASE MZN HUL U HUL D AMANEQ-U AMANEQ-D 0 15 I L 1 14 I L 2 13 I L 3 12 I L 4 11 L 5 10 I L 6 9 I 7 8 8 7 9 6 I 10 5 11 4 12 3 13 2 14 1 I 15 0 I 16 31 L 17 30 L 18 29 L 19 28 L 20 27 L 21 26 LI 22 25 23 24 24 23 25 22 I I 26 21 I I 27 20 I 28 19 I I 29 18 30 17 I 31 16 I"},{"location":"hardware/housing/housing/","title":"Housing box","text":"<p>AMANEQ\u306fVME 6U\u30b5\u30a4\u30ba\u306e\u57fa\u677f\u3067\u3059\u304c\u3001\u5f8c\u308d\u5074\u306b\u30e1\u30a4\u30f3\u5165\u529b\u3092\u6301\u3061\u30e1\u30b6\u30cb\u30f3\u3082\u5f8c\u308d\u5074\u3092\u5411\u304f\u306e\u3067\u3001VME\u30d0\u30c3\u30af\u30d7\u30ec\u30fc\u30f3\u306e\u3064\u3044\u305f\u6240\u8b02VME\u30af\u30ec\u30fc\u30c8\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\u4ee3\u308f\u308a\u306b\u9aa8\u7d44\u307f\u3060\u3051\u306eVME\u30b5\u30d6\u30e9\u30c3\u30af\u3092\u5229\u7528\u3059\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002\u30d5\u30a1\u30f3\u4ed8\u304d\u306e\u30b5\u30d6\u30e9\u30c3\u30af\u3082\u5b58\u5728\u3057\u307e\u3059\u3002</p> <p>\u30d5\u30a1\u30f3\u4ed8\u304d\u30b5\u30d6\u30e9\u30c3\u30af</p> Figure\u00a01: Fan-equipped subrack <ul> <li>\u554f\u3044\u5408\u308f\u305b\u5148: \u65e5\u672c\u96fb\u8a08</li> <li>\u578b\u756a: KEK-IPNS-C11359</li> </ul>"},{"location":"hardware/housing/housing/#cooling","title":"Cooling","text":"<p>AMANEQ\u306e\u6d88\u8cbb\u96fb\u529b\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u3088\u308a\u591a\u5c11\u306e\u9055\u3044\u306f\u3042\u308b\u7269\u306e\u6982\u306d10W\u3092\u8d85\u3048\u307e\u3059\u3002Mezzanine HR-TDC\u3092\u642d\u8f09\u3057\u3066\u3044\u308b\u3068\u304d\u306f\u56de\u8def\u5168\u4f53\u306725W\u3092\u8d85\u3048\u308b\u304f\u3089\u3044\u306e\u6d88\u8cbb\u304c\u3042\u308a\u307e\u3059\u3002 \u51b7\u5374\u80fd\u529b\u306fFPGA\u306b\u3068\u3063\u3066\u91cd\u8981\u3067\u3001\u51b7\u5374\u304c\u4e0d\u5341\u5206\u3060\u3068\u7570\u5e38\u52a0\u71b1\u306b\u3088\u3063\u3066\u30ea\u30fc\u30af\u96fb\u6d41\u304c\u5897\u52a0\u3057\u66f4\u306b\u71b1\u3092\u767a\u751f\u3059\u308b\u3068\u3044\u3046\u8ca0\u306e\u30b5\u30a4\u30af\u30eb\u306b\u9665\u308a\u307e\u3059\u3002\u7d50\u679c\u3068\u3057\u3066\u3001\u8aa4\u52d5\u4f5c\u3092\u5f15\u304d\u8d77\u3053\u3057\u305f\u308a\u3001\u5bff\u547d\u3092\u7e2e\u3081\u305f\u308a\u3001\u6027\u80fd\u304c\u52a3\u5316\u3057\u305f\u308a\u3068\u69d8\u3005\u306a\u4e0d\u5177\u5408\u3092\u751f\u3058\u307e\u3059\u3002\u7a7a\u51b7\u306b\u3088\u308b\u5341\u5206\u306a\u51b7\u5374\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002 \u3082\u3057FPGA\u306b\u89e6\u308c\u3066\u3001\u89e6\u3063\u3066\u3044\u3089\u308c\u306a\u3044\u304f\u3089\u3044\u71b1\u304b\u3063\u305f\u5834\u5408\u51b7\u5374\u80fd\u529b\u4e0d\u8db3\u3067\u3059\u3002</p> <p>AMANEQ\u3092\u53ce\u3081\u308b\u30b5\u30d6\u30e9\u30c3\u30af\u306f\u524d\u5f8c\u304c\u958b\u653e\u3067\u3042\u308b\u305f\u3081\u3001\u30d0\u30c3\u30af\u30d7\u30ec\u30fc\u30f3\u306e\u3042\u308bVME\u30af\u30ec\u30fc\u30c8\u3068\u6bd4\u3079\u308b\u3068\u98a8\u304c\u9003\u3052\u3066\u3057\u307e\u3044\u51b7\u5374\u80fd\u529b\u306b\u52a3\u308a\u307e\u3059\u3002 \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u5c11\u306a\u3044\u5834\u5408\u9855\u8457\u306a\u306e\u3067\u3001AMANEQ\u306eFPGA\u306b\u677f\u3092\u7acb\u3066\u304b\u3051\u308b\u306a\u3069\u3057\u3066\u98a8\u3092\u7a4d\u6975\u7684\u306b\u3042\u3066\u308b\u5de5\u592b\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30d2\u30fc\u30c8\u30b7\u30f3\u30af\u3082\u6709\u52b9\u3060\u3068\u601d\u3044\u307e\u3059\u3002(\u30d2\u30fc\u30c8\u30b7\u30f3\u30af\u306b\u3064\u3044\u3066\u30e6\u30fc\u30b6\u30fc\u306e\u8ffd\u8a18\u3092\u671b\u307f\u307e\u3059)</p>"},{"location":"hardware/mezzanine/mezzanine/","title":"Mezzanine cards","text":"<p>\u3053\u3053\u3067AMANEQ\u7528\u306b\u958b\u767a\u3055\u308c\u305f\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306b\u3064\u3044\u3066\u306e\u307f\u7d39\u4ecb\u3057\u307e\u3059\u3002HUL\u7528\u306b\u958b\u767a\u3055\u308c\u305f\u3082\u306e\u306fHUL\u306eUser Guide\u7b49\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"hardware/mezzanine/mezzanine/#clock-data-distributer-optical-cdd-opt","title":"Clock-Data-Distributer Optical (CDD-OPT)","text":"<ul> <li>\u88fd\u9020: \u6709\u9650\u4f1a\u793e\u30b8\u30fc\u30fb\u30a8\u30cc\u30fb\u30c7\u30a3\u30fc</li> <li>\u578b\u756a: GN-2436-1</li> </ul> Figure\u00a01: Mezzanine CDD-OPT <p>Mezzanine CDD-OPT\u306f2\u30b9\u30ed\u30c3\u30c8\u5e45\u306e\u5927\u578b\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3067\u3059\u300216ch\u5206\u306eMIKUMARI\u30dd\u30fc\u30c8\u3092\u6709\u3057\u3066\u304a\u308a\u3001\u5909\u8abf\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u5206\u914d\u3059\u308b\u305f\u3081\u306b\u7528\u3044\u307e\u3059\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u306f\u56f3\u306b\u793a\u3055\u308c\u3066\u3044\u308b\u9806\u756a\u3067\u3075\u3089\u308c\u3066\u3044\u307e\u3059\u3002Mikumari Clock Root\u3084Mikumari Clock Hub\u3067\u7528\u3044\u307e\u3059\u300216\u30dd\u30fc\u30c8\u5168\u3066\u306bSFP\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u633f\u5165\u3057\u305f\u969b\u306e\u6d88\u8cbb\u96fb\u529b\u306f\u3001\u304a\u3088\u305d10W\u3067\u3059\u3002 1000BASE-SX\u304bLX\u7528\u306e\u5149\u30d5\u30a1\u30a4\u30d0\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002LAN\u30b1\u30fc\u30d6\u30eb\u7528\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002</p>"},{"location":"hardware/mezzanine/mezzanine/#mini-mezzanine-clock-receiver-crv","title":"Mini-mezzanine Clock-Receiver (CRV)","text":"<ul> <li>\u88fd\u9020: \u6709\u9650\u4f1a\u793e\u30b8\u30fc\u30fb\u30a8\u30cc\u30fb\u30c7\u30a3\u30fc</li> <li>\u578b\u756a: GN-2139-2</li> </ul> <p>Mini-mezzanine slot\u7528\u306e\u5c0f\u578b\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3067\u3059\u3002GN-2006-1\u306bMIKUMARI\u30dd\u30fc\u30c8\u3092\u5897\u8a2d\u3059\u308b\u305f\u3081\u306b\u7528\u3044\u307e\u3059\u3002GN-2006-4\u306b\u306fMIKUMARI\u30dd\u30fc\u30c8\u304c\u30d5\u30ed\u30f3\u30c8\u30d1\u30cd\u30eb\u306b\u5b58\u5728\u3057\u307e\u3059\u304c\u3001CRV\u3092\u53d6\u308a\u4ed8\u3051\u3066\u66f4\u306bMIKUMARI\u30dd\u30fc\u30c8\u3092\u5897\u3084\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 1000BASE-SX\u304bLX\u7528\u306e\u5149\u30d5\u30a1\u30a4\u30d0\u30fc\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002LAN\u30b1\u30fc\u30d6\u30eb\u7528\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002</p>"},{"location":"hardware/overview/overview/","title":"Overview","text":"<p>AMANEQ (a main electronics for network oriented trigger-less data acquisition system) \u306f\u30c8\u30ea\u30ac\u30fc\u30ec\u30b9DAQ\u30b7\u30b9\u30c6\u30e0\u306e\u305f\u3081\u306b\u958b\u767a\u3055\u308c\u305f\u6c4e\u7528FPGA\u56de\u8def\u3067\u3059\u3002 \u548c\u540d\u306f\u9023\u7d9a\u8aad\u307f\u51fa\u3057DAQ\u7528\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u4e3b\u56de\u8def\u3067\u3059\u304c\u3001\u539f\u5247\u3068\u3057\u3066\u82f1\u540d\u8868\u8a18\u3092\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3002 \u73fe\u5728\u3067\u306f\u6c4e\u7528\u56de\u8def\u3068\u3057\u3066\u7d39\u4ecb\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3082\u3068\u3082\u3068\u306fJ-PARC E50\u5b9f\u9a13\u7528\u306e\u4e3b\u56de\u8def\u3068\u3057\u3066\u958b\u767a\u3055\u308c\u305f\u6b74\u53f2\u3092\u6301\u3061\u307e\u3059\u3002</p> <ul> <li>\u88fd\u9020: \u6709\u9650\u4f1a\u793e\u30b8\u30fc\u30fb\u30a8\u30cc\u30fb\u30c7\u30a3\u30fc</li> <li>\u578b\u756a: GN-2006-4 (\u521d\u671f\u578b: GN-2006-1)<ul> <li>GN-2006-2\u306f\u7279\u5b9a\u306e\u5b9f\u9a13\u3060\u3051\u6240\u6301\u8005\u304c\u3044\u307e\u3059</li> <li>GN-2006-3\u306f\u6b20\u756a\u3067\u3059</li> </ul> </li> </ul> <p>AMANEQ\u306e\u5199\u771f\u3092\u56f3\u306b\u793a\u3057\u307e\u3059\u3002 AMANEQ\u306fVME 6U\u30b5\u30a4\u30ba\u306e\u56de\u8def\u57fa\u677f\u3067\u3059\u304c\u3001VME\u30d0\u30b9\u3092\u6709\u3057\u3066\u304a\u3089\u305a\u524d\u9762\u3068\u80cc\u9762\u4e21\u65b9\u306bIO\u7528\u306e\u30b3\u30cd\u30af\u30bf\u304c\u642d\u8f09\u3055\u308c\u3066\u3066\u3044\u307e\u3059\u3002 \u524d\u9762\u306b\u306f\u4e0a\u304b\u30892\u3064\u306e\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u7528SFP+\u3001JTAG\u30b3\u30cd\u30af\u30bf\u3001LED\u3001NIM\u5165\u51fa\u529b\u3001\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u540c\u671f\u30dd\u30fc\u30c8\uff08MIKUMARI\uff09\u3001\u304a\u3088\u3073\u96fb\u6e90\u30b3\u30cd\u30af\u30bf\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u80cc\u9762\u306b\u306f2\u3064\u306e\u4e3b\u5165\u529b (Main Input)\u30682\u3064\u306e\u30e1\u30b6\u30cb\u30f3\u30b9\u30ed\u30c3\u30c8\u3001\u304a\u3088\u3073\u5c0f\u578b\u30e1\u30b6\u30cb\u30f3\u30b9\u30ed\u30c3\u30c8\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30e1\u30b6\u30cb\u30f3\u30b9\u30ed\u30c3\u30c8Hadron Universal Logic (HUL)\u3068\u4e92\u63db\u306b\u306a\u3063\u3066\u304a\u308a\u3001HUL\u7528\u306b\u958b\u767a\u3055\u308c\u305f\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3092\u53d6\u308a\u4ed8\u3051\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002 \u642d\u8f09FPGA\u306fAMD Xilinx\u793e\u306eKintex-7 FPGA, XC7K-160T-2FFG676C\u3067\u3059\u3002 \u307e\u305f\u30dc\u30fc\u30c9\u4e0a\u306b\u306f\u30af\u30ed\u30c3\u30af\u30b8\u30a7\u30cd\u30ec\u30fc\u30bfCDCE62002 (TI)\u304c\u642d\u8f09\u3055\u308c\u3066\u304a\u308a\u3001FPGA\u5185\u306eMMCM\u3088\u308a\u3082\u4f4e\u30b8\u30c3\u30bf\u2015\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304c\u5fc5\u8981\u306a\u5834\u5408\u5229\u7528\u3057\u307e\u3059\u3002 \u30c8\u30ea\u30ac\u30fc\u30ec\u30b9DAQ\u3067\u306f\u9023\u7d9a\u7684\u306b\u30c7\u30fc\u30bf\u3092PC\u3078\u5411\u3051\u3066\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3059\u308b\u305f\u3081\u3001\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u5927\u304d\u306a\u30e1\u30e2\u30ea\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001AMANEQ\u306f2Gb\u306eDDR3-SDRAM\u3092\u642d\u8f09\u3057\u3066\u3044\u307e\u3059\u3002 AMANEQ\u306e\u30b9\u30da\u30c3\u30af\u306b\u3064\u3044\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u307e\u3068\u3081\u307e\u3059\u3002</p> <ul> <li>Size: VME 6U</li> <li>FPGA: AMD Xilinx XC7K-160T-2FFG676C</li> <li>Flash memory: CYPRESS S25FL128SAGMFIR01</li> <li>Data links: SFP+ (10 Gbps x 2 in maximum)<ul> <li>Link media depends on the type of SFP modules.</li> </ul> </li> <li>Num of NIM input: 2 (LEMO)</li> <li>Num of NIM output: 2 (LEMO)</li> <li>Power supply: 20-35V DC<ul> <li>Jack: 2.10mm ID, 5.50mm OD</li> <li>Main connector: \u65e5\u672c\u5727\u7740\u7aef\u5b50 S4P-VH(LF)(SN)</li> </ul> </li> <li>Fuse limit: 1A<ul> <li>Fuse product: Littelfuse 0251001.NRT1L</li> </ul> </li> <li>Main inputs<ul> <li>Num of channels: 32+32</li> <li>Connector: KEL 8831E-068-170L-F</li> <li>Supported IO standard: LVDS, ECL, PECL</li> <li>GND pin position: A1, A2, B1, B2 (A1 and B1 are located below the polarity mark.)</li> </ul> </li> <li>Num. of mezzanine slots: 2<ul> <li>Compatible with HUL</li> </ul> </li> <li>Num of LED: 4</li> <li>Num of DIP switch bits: 4</li> <li>Clock generator IC: TI CDCE62002</li> <li>External memory: 2Gb DDR3-SDRAM<ul> <li>Speed: DDR3-1333 (max)</li> </ul> </li> </ul> Figure\u00a01: Picture of GN-2006-4 and GN-2006-1 Figure\u00a02: Block diagram of GN-2006-4"},{"location":"hardware/overview/overview/#difference-between-gn-2006-4-and-gn-2006-1","title":"Difference between GN-2006-4 and GN-2006-1","text":"<p>2\u3064\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u9055\u3044\u306f\u524d\u9762\u306b\u30af\u30ed\u30c3\u30af\u540c\u671f\uff08MIKUMARI\uff09\u7528\u306eSFP\u30dd\u30fc\u30c8\u304c\u3042\u308b\u304b\u7121\u3044\u304b\u3067\u3059\u3002 GN-2006-1\u306b\u306fMIKUMARI\u30dd\u30fc\u30c8\u304c\u7121\u3044\u305f\u3081\u3001\u56f3\u306b\u3042\u308b\u3088\u3046\u306bmini-mezzanine card CRV\u3092\u642d\u8f09\u3057\u3066\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u540c\u671f\u3092\u53d7\u3051\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u306e\u9055\u3044\u306b\u3088\u308aFPGA\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306fGN-2006-1\u7528\u3068GN-2006-4\u7528\u306b2\u7a2e\u985e\u5b58\u5728\u3057\u307e\u3059\u3002 \u53f3\u4e0a\u306emini-mezzanine slot\u306fGN-2006-4\u3067\u3082\u6709\u52b9\u306e\u305f\u3081\u3001CRV\u3092\u642d\u8f09\u3059\u308c\u3070GN-2006-1\u7528\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306fGN-2006-4\u3067\u3082\u52d5\u304d\u307e\u3059\u304c\u3001\u9006\u306f\u6210\u308a\u7acb\u3061\u307e\u305b\u3093\u3002</p>"},{"location":"hardware/overview/overview/#board-interface","title":"Board interface","text":""},{"location":"hardware/overview/overview/#main-input","title":"Main input","text":"<p>AMANEQ\u306b\u30d0\u30c3\u30af\u30d7\u30ec\u30fc\u30f3\u304c\u5b58\u5728\u3057\u306a\u3044\u306e\u3067\u3001\u524d\u5f8c\u4e21\u65b9\u306b\u5165\u51fa\u529b\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u5f8c\u308d\u5074\u306b\u306f2\u3064\u306e\u30e1\u30a4\u30f3\u5165\u529b (Main Input) \u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306fHUL\u306e\u30e1\u30a4\u30f3\u5165\u529b\u3068\u4e92\u63db\u3067\u3059\u3002\u4e0a\u5074\u3092Upper Main Input\u3001\u4e0b\u5074\u3092Lower Main Input L\u3068\u3057\u307e\u3059\u3002</p> <p>\u30b3\u30cd\u30af\u30bf\u306f\u30cf\u30fc\u30d5\u30d4\u30c3\u30c1\u306e68\u6975\u30b3\u30cd\u30af\u30bf\uff08KEL 8831E-068-170L-F\uff09\u3067\u3059\u3002\u9069\u5408\u3059\u308b\u30b3\u30cd\u30af\u30bf\u3067\u30b1\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u63a5\u7d9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30c1\u30e3\u30f3\u30cd\u30eb\u30a2\u30b5\u30a4\u30f3\u306f\u30b3\u30cd\u30af\u30bf\u306e\u57fa\u6e96\u30de\u30fc\u30ab\u30fc\u5074\u304c\u82e5\u3044\u756a\u53f7\u306b\u306a\u308a\u307e\u3059\u3002GND\u63a5\u7d9a\u306fA1A2\u3001\u304a\u3088\u3073B1B2\u306e2\u30da\u30a2 (\u57fa\u6e96\u30de\u30fc\u30ab\u30fc\u76f4\u4e0b) \u3067\u3059\u3002\u30b3\u30e2\u30f3\u30e2\u30fc\u30c9\u30ec\u30f3\u30b8\u3067-4V\u304b\u3089+5V\u307e\u3067\u306e\u5dee\u52d5\u4fe1\u53f7\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002LVDS\u3001ECL\u3001PECL\u3001LVPECL\u306a\u3069\u304c\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u3067\u3059\u3002ECL\u304a\u3088\u3073PECL\u4fe1\u53f7\u898f\u683c\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001AMANEQ\u5074\u306b\u306f\u96fb\u6d41\u5236\u9650\u62b5\u6297\u304c\u5b58\u5728\u3057\u306a\u3044\u305f\u3081\u3001\u30c9\u30e9\u30a4\u30d0\u5074\u3067\u96fb\u6d41\u5236\u5fa1\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u30e1\u30a4\u30f3\u5165\u529b\u3067\u306f\u5dee\u52d5\u4fe1\u53f7\u3092LVCMOS\u306b\u5909\u63db\u3057\u3066\u304b\u3089FPGA\u3078\u5165\u529b\u3057\u307e\u3059\u3002\u6700\u9ad8\u7e70\u308a\u8fd4\u3057\u30b9\u30d4\u30fc\u30c9\u306f560 Mbps\u3067\u3059\u3002\u305d\u308c\u3088\u308a\u3082\u9ad8\u901f\u306a\u4fe1\u53f7\u3092\u5165\u529b\u3059\u308b\u5834\u5408\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306e\u4f7f\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"hardware/overview/overview/#sfp1-2","title":"SFP1, 2","text":"<p>\u30c7\u30fc\u30bf\u901a\u4fe1\u7528\u306eSFP+\u30dd\u30fc\u30c8\u3067\u3059\u3002FPGA\u306eGTX\u30c8\u30e9\u30f3\u30b7\u30fc\u30d0\u3078\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u6700\u5927\u901a\u4fe1\u901f\u5ea6\u306f10 Gbps\u3067\u3059\u3002SFP\u304a\u3088\u3073SFP+\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u9069\u5408\u3057\u307e\u3059\u3002SFP1\u30682\u306e\u5229\u7528\u65b9\u6cd5\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002</p> <p>SiTCP\u306a\u3044\u3057SiTCP-XG\u3092\u5229\u7528\u3057\u305f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306f\u3001\u3053\u306e\u30dd\u30fc\u30c8\u3078GbE\u7528\u304b10GbE\u7528\u306eSFP\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u633f\u5165\u3057\u3066\u304f\u3060\u3055\u3044\u3002 SFP\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u591a\u6570\u306e\u9078\u629e\u80a2\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u3001\u8907\u6570\u306e\u901a\u4fe1\u30ec\u30fc\u30c8\u306b\u5bfe\u5fdc\u3057\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3001\u4f8b\u3048\u30701Gbps\u3001100Mbps\u300110Mbps\u306e3\u7a2e\u985e\u306b\u5bfe\u5fdc\u3057\u305f\u3082\u306e\u3001\u306f\u5229\u7528\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30aa\u30fc\u30c8\u30cd\u30b4\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u304c\u3046\u307e\u304f\u50cd\u304b\u306a\u3044\u305f\u3081\u3067\u3059\u3002SiTCP\u3067\u306f\u308c\u30701Gbps\u5c02\u7528\u306e\u7269\u3092\u3001SiTCP-XG\u3067\u3042\u308c\u307010Gbps\u5c02\u7528\u306e\u7269\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>SFP\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5149\u30d5\u30a1\u30a4\u30d0\u30fc\u30b1\u30fc\u30d6\u30eb\u3092\u30ea\u30f3\u30af\u30e1\u30c7\u30a3\u30a2\u306b\u60f3\u5b9a\u3057\u305f\u898f\u683c\u3067\u3059\u304c\u3001LAN\u30b1\u30fc\u30d6\u30eb\u306b\u5bfe\u5fdc\u3057\u305fRJ45\u4ed8\u304d\u30e2\u30b8\u30e5\u30fc\u30eb\u3082\u5b58\u5728\u3057\u307e\u3059\u3002AMANEQ\u3067\u3082\u5149\u30d5\u30a1\u30a4\u30d0\u30fc\u306e\u4f7f\u7528\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u304c\u3001SiTCP\u3092\u642d\u8f09\u3057\u305f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306fLAN\u30b1\u30fc\u30d6\u30eb\u7528\u306eSFP\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3082\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\u4e00\u65b9SiTCP-XG\u3067\u306fLAN\u30b1\u30fc\u30d6\u30eb\u3092\u7528\u3044\u305f10GbE\u901a\u4fe1\u306f\u672a\u30c6\u30b9\u30c8\u3067\u3059\u3002</p>"},{"location":"hardware/overview/overview/#dip-led-nim","title":"DIP, LED, NIM","text":"Figure\u00a03: LED, DIP, and NIM <p>\u7e26\u306b5\u3064\u4e26\u3093\u3060LED\u306e\u3046\u3061\u4e00\u756a\u4e0a\u304cDONE LED\u3067\u3059\u3002\u3053\u306eLED\u306fFPGA\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u7d42\u4e86\u3059\u308b\u3068\u70b9\u706f\u3057\u307e\u3059\u3002\u6b8b\u308a\u306e4\u3064\u306f\u4e0a\u304b\u3089LED1, 2, 3, 4\u3068\u30e9\u30d9\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5404LED\u306e\u610f\u5473\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 DIP\u30b9\u30a4\u30c3\u30c1\u306f\u5de6\u5074\u304c0 (ON\u3068\u30e9\u30d9\u30eb\u3055\u308c\u3066\u3044\u308b\u5074)\u3001\u53f3\u5074\u304c1\u3068\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5404\u30d3\u30c3\u30c8\u306e\u610f\u5473\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002 NIM\u5165\u51fa\u529b\u306f\u57fa\u677f\u4e0a\u5074\u304c\u5165\u529b\u3001\u4e0b\u5074\u304c\u51fa\u529b\u3067\u3059\u3002AMANEQ\u306eNIM\u51fa\u529b\u306fNIM\u4fe1\u53f7\u898f\u683c\u3078\u5909\u63db\u3059\u308b\u90e8\u5206\u3067\u7c21\u7565\u5316\u3057\u305f\u65b9\u5f0f\u3092\u63a1\u7528\u3057\u3066\u304a\u308a\u3001 logic-high\u3068\u3057\u3066\u8a8d\u8b58\u3059\u308b\u96fb\u5727\u306b\u57fa\u677f\u5dee\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u540c\u4e00\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067NIM\u51fa\u529b\u3092\u3057\u305f\u3068\u3057\u3066\u3082\u3001\u4fe1\u53f7\u5e45\u3084\u30bf\u30a4\u30df\u30f3\u30b0\u304c\u82e5\u5e72\u7570\u306a\u3063\u3066\u898b\u3048\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002AMANEQ\u306eNIM\u5165\u51fa\u529b\u306f\u88dc\u52a9\u5165\u529b\u3068\u8003\u3048\u3066\u304f\u3060\u3055\u3044\u3002\u30bf\u30a4\u30df\u30f3\u30b0\u304c\u91cd\u8981\u306a\u9ad8\u7cbe\u5ea6\u4fe1\u53f7\u306e\u5165\u51fa\u529b\u306b\u306f\u5411\u3044\u3066\u3044\u307e\u305b\u3093\u3002 2\u3064\u3042\u308bNIM1\u3068NIM2\u306f\u57fa\u677f\u4e0a\u306e\u30b7\u30eb\u30af\u306b\u5370\u5b57\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"hardware/overview/overview/#power-supply","title":"Power supply","text":"<p>\u96fb\u6e90\u30b3\u30cd\u30af\u30bf\u306fAD/DC\u30a2\u30c0\u30d7\u30bf\u7528\u306e\u30b8\u30e3\u30c3\u30af\uff08\u5f84 2.10mm ID, 5.50mm OD\uff09\u3068\u3001\u5916\u90e8DC\u96fb\u6e90\u7528\u306b\u65e5\u672c\u5727\u7740\u7aef\u5b50\u306eS4P-VH(LF)(SN)\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002 \u60f3\u5b9a\u3057\u3066\u3044\u308b\u96fb\u6e90\u96fb\u5727\u306f20-35V\u3067\u3059\u3002 2\u3064\u7aef\u5b50\u306f\u57fa\u677f\u4e0a\u3067\u3064\u306a\u304c\u3063\u3066\u304a\u308a\u300130V\u7a0b\u5ea6\u306e\u96fb\u5727\u304c\u5370\u52a0\u3055\u308c\u305f\u96fb\u6975\u304c\u3080\u304d\u51fa\u3057\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002 \u30b8\u30e3\u30c3\u30af\u3078\u30ad\u30e3\u30c3\u30d7\u3092\u306f\u3081\u305f\u308a\u3001S4P\u30b3\u30cd\u30af\u30bf\u306b\u30c6\u30fc\u30d7\u7b49\u3067\u30ab\u30d0\u30fc\u3092\u3057\u305f\u308a\u3057\u3066\u611f\u96fb\u3092\u9632\u3044\u3067\u304f\u3060\u3055\u3044\u3002 S4P\u30b3\u30cd\u30af\u30bf\u306f\u96fb\u6975\u304c4\u3064\u3042\u308a\u3001\u4e0a2\u3064\u304c\u96fb\u6e90\u3001\u3057\u305f\u4e8c\u3064\u304c\u30b0\u30e9\u30f3\u30c9\u3067\u3059\u3002</p> <p>AMANEQ\u3067\u306f\u30b9\u30a4\u30c3\u30c1\u30f3\u30b0\u30ec\u30ae\u30e5\u30ec\u30fc\u30bf\u3092\u7528\u3044\u3066\u9ad8\u3044\u96fb\u5727\u304b\u30895V\u3078\u964d\u5727\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b9\u30a4\u30c3\u30c1\u30f3\u30b0\u30ec\u30ae\u30e5\u30ec\u30fc\u30bf\u306e\u4ed5\u69d8\u7684\u306b10V\u7a0b\u5ea6\u304b\u308940V\u7a0b\u5ea6\u307e\u3067\u5165\u529b\u3092\u53d7\u3051\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u4e0b\u9650\u306f\u30d2\u30e5\u30fc\u30ba\u306e\u96fb\u6d41\u5236\u9650\u306720V\u7a0b\u5ea6\u306b\u3001\u4e0a\u9650\u306f\u7834\u640d\u3092\u9632\u3050\u305f\u3081\u306b35V\u7a0b\u5ea6\u3092\u63a8\u5968\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u30d2\u30e5\u30fc\u30ba\u306f\u5916\u90e8\u96fb\u6e90\u306e35V\u7cfb\u306b\u633f\u5165\u3055\u308c\u3066\u304a\u308a\u3001\u96fb\u6d41\u30ea\u30df\u30c3\u30c8\u306f1A\u3067\u3059\u300220V\u4ee5\u4e0b\u306e\u96fb\u6e90\u96fb\u5727\u3067\u306f\u30d2\u30e5\u30fc\u30ba\u304c\u5207\u308c\u308b\u306e\u3067\u3001\u5370\u52a0\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001\u540c\u3058\u7406\u7531\u304b\u3089\u3086\u3063\u304f\u308a\u96fb\u5727\u309235V\u307e\u3067\u4e0a\u3052\u308b\u306e\u3082\u3084\u3081\u3066\u304f\u3060\u3055\u3044\u3002AC/DC\u30a2\u30c0\u30d7\u30bf\u306f24V\u51fa\u529b\u306e\u7269\u304c\u9069\u5408\u3057\u307e\u3059\u304c\u3001\u51fa\u529b\u30d1\u30ef\u30fc\u304c20W\u7a0b\u5ea6\u3042\u308b\u3082\u306e\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002AMANEQ\u57fa\u677f\u306e\u6d88\u8cbb\u96fb\u529b\u306fSkeleton\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u9664\u304f\u3068\u5168\u306610W\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\u3002</p> <p>\u642d\u8f09\u30d2\u30e5\u30fc\u30ba\u306fLitelfuse\u306e0251001.NRT1L\u3067\u3059\u3002</p>"},{"location":"hardware/overview/overview/#mikumari-port","title":"MIKUMARI port","text":"<p>GN-2006-4\u306b\u306f\u30d5\u30ed\u30f3\u30c8\u5074\u306b\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u540c\u671f\uff08MIKUMARI\uff09\u7528\u306eSFP\u30dd\u30fc\u30c8\u304c\u5b58\u5728\u3057\u307e\u3059\u3002MIKUMARI\u4f7f\u7528\u6642\u306b\u306f1Gbps\u7528\u306e\u5149\u30d5\u30a1\u30a4\u30d0\u30fc\u7528SFP\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u633f\u5165\u3057\u3066\u304f\u3060\u3055\u3044\u3002LAN\u30b1\u30fc\u30d6\u30eb\u7528\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5229\u7528\u4e0d\u53ef\u3067\u3059\u3002</p> <p>GN-2006-1\u306b\u306f\u540c\u3058\u5834\u6240\u306bBelle/Belle-II\u5b9f\u9a13\u306e\u30c8\u30ea\u30ac\u30fc\u30dd\u30fc\u30c8 (B2TT) \u4e92\u63db\u306eRJ45\u30dd\u30fc\u30c8\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u3001\u5168\u3066\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u3053\u306e\u30dd\u30fc\u30c8\u306f\u672a\u4f7f\u7528\u3067\u3059\u3002AMANEQ\u304c\u8a2d\u8a08\u3055\u308c\u305f\u5f53\u521d\u3001\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u5206\u914d\u306bB2TT\u898f\u683c\u3092\u5229\u7528\u3059\u308b\u4e88\u5b9a\u3060\u3063\u305f\u306a\u3054\u308a\u3067\u3059\u3002GN-2006-1\u3067MIKUMARI\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001mine-mezzanine clock receiver (CRV) \u3092\u53f3\u4e0a\u306e\u5c0f\u578b\u30e1\u30b6\u30cb\u30f3\u30b9\u30ed\u30c3\u30c8\u306b\u642d\u8f09\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"hardware/overview/overview/#mezzanine-slots","title":"Mezzanine slots","text":"<p>AMANEQ\u306b\u306fHUL\u3068\u4e92\u63db\u6027\u306e\u3042\u308b\u30e1\u30b6\u30cb\u30f3\u30b9\u30ed\u30c3\u30c8\u304c2\u3064\u642d\u8f09\u3055\u308c\u3066\u304a\u308a\u3001HUL\u7528\u306b\u958b\u767a\u3055\u308c\u305f\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3092\u642d\u8f09\u3059\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002HUL\u7528\u306e\u30e1\u30b6\u30cb\u30f3\u306b\u3064\u3044\u3066\u306fHUL\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u57fa\u677f\u304c\u305f\u308f\u3093\u3067\u63a5\u7d9a\u304c\u60aa\u304f\u306a\u308b\u305f\u3081\u30013\u3064\u3042\u308b\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u7528\u306e\u652f\u67f1\u306e\u3046\u3061\u771f\u3093\u4e2d\u306e1\u3064\u3078\u306d\u3058\u6b62\u3081\u3092\u3057\u306a\u3044\u65b9\u91dd\u306b\u3057\u307e\u3057\u305f\u3002HUL\u3067\u3082\u540c\u69d8\u306a\u306e\u3067\u771f\u3093\u4e2d\u306e\u30cd\u30b8\u3092\u30ea\u30ea\u30fc\u30b9\u3059\u308b\u4e8b\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</p> <p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3068AMANEQ\u306eFPGA\u306f32\u30da\u30a2\u306eLVDS\u4fe1\u53f7\u7dda\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4fe1\u53f7\u5165\u51fa\u529b\u306e\u65b9\u5411\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u4f9d\u5b58\u3059\u308b\u306e\u3067\u3001\u642d\u8f09\u3057\u3066\u3044\u308b\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u3068\u9069\u5408\u3057\u306a\u3044\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u5834\u5408\u4fe1\u53f7\u304c\u30b7\u30e7\u30fc\u30c8\u3059\u308b\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\u6700\u60aa\u90e8\u54c1\u3092\u7834\u640d\u3055\u305b\u308b\u306e\u3067\u3001\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u5165\u308c\u66ff\u3048\u3092\u884c\u3063\u3066\u304b\u3089\u30e1\u30b6\u30cb\u30f3\u306f\u53d6\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002\u30e1\u30b6\u30cb\u30f3\u3078\u306f\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30bf\u304b\u30893.3V\u304c\u7d66\u96fb\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>Mimi-mezzanine slot\u306f\u73fe\u72b6GN-2006-1\u306bMIKUMARI\u30dd\u30fc\u30c8\u3092\u5897\u8a2d\u3059\u308b\u305f\u3081\u3060\u3051\u306b\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"hardware/overview/overview/#board-ics","title":"Board ICs","text":""},{"location":"hardware/overview/overview/#fpga","title":"FPGA","text":"<p>FPGA\u306fAMD Xilinx\u306eXC7K-160T-2FFG676C\u3067\u3059\u3002HUL\u306eFPGA\u3068\u306f\u30b5\u30a4\u30ba\u306f\u540c\u3058\u3067\u3059\u304c\u3001\u30b9\u30d4\u30fc\u30c9\u30b0\u30ec\u30fc\u30c9\u304c\u7570\u306a\u308a\u3001AMANEQ\u3067\u306f\u30b9\u30d4\u30fc\u30c9\u30b0\u30ec\u30fc\u30c9-2\u306eFPGA\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002GTX\u30c1\u30e3\u30f3\u30cd\u30eb\u306710Gbps\u307e\u3067\u306e\u9ad8\u901f\u901a\u4fe1\u304c\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"hardware/overview/overview/#jitter-cleaner","title":"Jitter cleaner","text":"<p>AMANEQ\u306b\u306f2\u51fa\u529b\u306e\u30af\u30ed\u30c3\u30af\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3001TI\u793e\u306eCDCE62002\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3044\u304f\u3064\u304b\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u57fa\u6e96\u30af\u30ed\u30c3\u30af\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u3084\u3001MIKUMARI\u306e\u5909\u8abf\u30af\u30ed\u30c3\u30af\u304b\u3089\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u5fa9\u5143\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u30b8\u30c3\u30bf\u2015\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306fFPGA\u5185\u90e8\u306eMMCM\u3088\u308a\u3082\u512a\u79c0\u3067\u3059\u3002</p> <p>\u7d0d\u5165\u6642\u306eCDCE62002\u306b\u306f\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u30c7\u30d5\u30a9\u30eb\u30c8\u304c\u66f8\u304d\u8fbc\u307e\u308c\u3066\u304a\u308a\u3001\u81ea\u5206\u3067\u5fc5\u8981\u306a\u8a2d\u5b9a\u3092\u66f8\u304d\u8fbc\u307e\u306a\u3044\u3068AMANEQ\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002AMANEQ\u304c\u7d0d\u54c1\u3055\u308c\u305f\u3089Skeleton\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u66f8\u304d\u8fbc\u307f\u3001CDCE62002\u306e\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306eIC\u306f\u4e0d\u63ee\u767a\u6027\u30e1\u30e2\u30ea\u3092\u6301\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u4e00\u5ea6\u8a2d\u5b9a\u3092\u66f8\u304d\u8fbc\u3093\u3060\u3089\u4ee5\u964d\u306e\u30a2\u30af\u30bb\u30b9\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"hardware/overview/overview/#ddr3-sdram","title":"DDR3-SDRAM","text":"<p>AMANEQ\u306b\u306f2Gb\u306eDDR3-SDRAM\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u6700\u9ad8\u52d5\u4f5c\u901f\u5ea6\u306fDDR3-1333\u3067\u3059\u30022024\u5e747\u6708\u73fe\u5728\u3053\u306e\u30e1\u30e2\u30ea\u3092\u6d3b\u7528\u3057\u305f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u307e\u3060\u5b58\u5728\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"hardware/overview/overview/#flash-memory","title":"Flash memory","text":"<p>AMANEQ\u306eSPI flash memory\u306fCYPRESS\u306eS25FL128SAGMFIR01\u3067\u3059\u3002Vivado\u4e0a\u3067\u306fCypress/Spansion s25fl128sxxxxxx0-spi-x1_x2_x4\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u62e1\u5f35\u4fe1\u53f7\u7dda\u3092\u914d\u7dda\u3057\u3066\u3044\u308b\u306e\u3067\u3001Vivado\u3067bitstream\u3084MCS\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306b\u306fSPIx4\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"hardware/overview/overview/#power-supply-ics","title":"Power supply ICs","text":"Figure\u00a04: 3.3V power IC <p>AMANEQ\u3067\u306f\u5916\u90e8\u5165\u529b\u306e35V\u3092LT8612UDE#PBF\u3092\u7528\u3044\u30665V\u3078\u964d\u5727\u3057\u3001\u305d\u308c\u3092\u66f4\u306b\u8907\u6570\u306e\u96fb\u6e90\u96fb\u5727\u3078\u964d\u5727\u3057\u3066\u3044\u307e\u3059\u3002\u5404\u96fb\u6e90IC\u306e\u305d\u3070\u306b\u306f\u56f3\u5de6\u4e0a\u306b\u793a\u3059\u3088\u3046\u306a\u30c6\u30b9\u30c8\u30dd\u30a4\u30f3\u30c8\u304c\u8a2d\u7f6e\u3055\u308c\u3066\u304a\u308a\u3001\u51fa\u529b\u96fb\u5727\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002AMANEQ\u7d0d\u5165\u5f8c\u306e\u521d\u56de\u96fb\u6e90\u6295\u5165\u6642\u306b\u5168\u3066\u306e\u96fb\u6e90\u96fb\u5727\u306e\u78ba\u8a8d\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> \u96fb\u6e90\u30e9\u30d9\u30eb \u96fb\u5727 \u90e8\u54c1\u756a\u53f7 \u30c6\u30b9\u30c8\u30dd\u30a4\u30f3\u30c8\u756a\u53f7 +5V +5.0V U50 \u306a\u3057 +3V3D +3.3V U45 TP4 +2V5D +2.5V U46 TP5 +1V8D +1.8V U44 TP3 +1V0D +1.0V U43 TP2 +1V8GTX +1.8V U49 TP8 +1V2GTX +1.2V U47 TP6 +1V05GTX +1.05V U48 TP7 -3V3D -3.0V U20 \u306a\u3057"},{"location":"practical/practical/","title":"Practical usage","text":""},{"location":"practical/practical/#known-issues","title":"Known issues","text":"<p>\u8907\u6570\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089RBCP\u901a\u4fe1\u3067\u540c\u4e00\u30dc\u30fc\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30d1\u30b1\u30c3\u30c8\u306e\u6df7\u7dda\u304c\u767a\u751f\u3059\u308b\u4e8b\u304c\u78ba\u8a8d\u3055\u308c\u3066\u3044\u307e\u3059\u3002 SiTCP\u306f\u8907\u6570\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u72ec\u7acb\u306bRBCP\u901a\u4fe1\u3092\u884c\u3046\u4e8b\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u307b\u307c\u540c\u6642\u306bSiTCP\u304c\u8907\u6570\u306eRBCP\u30d1\u30b1\u30c3\u30c8\u3092\u53d7\u3051\u53d6\u308b\u3068\u6df7\u7dda\u3057\u307e\u3059\u3002 \u30b9\u30b1\u30fc\u30e9\u30fc\u3092\u5e38\u306b\u8aad\u307f\u51fa\u3057\u3066\u3044\u308b\u3068\u304d\u306b\u3001\u5225\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u4f55\u304b\u30ec\u30b8\u30b9\u30bf\u30a2\u30af\u30bb\u30b9\u3092\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u767a\u751f\u3057\u3084\u3059\u3044\u3067\u3059\u3002 \u30b9\u30b1\u30fc\u30e9\u30fc\u8aad\u307f\u51fa\u3057\u3092\u4e00\u6642\u7684\u306b\u6b62\u3081\u308b\u306e\u304c\u7406\u60f3\u3067\u3059\u304c\u3001\u6b62\u3081\u305f\u304f\u306a\u3044\u5834\u5408\u5272\u308a\u8fbc\u307f\u3092\u53d7\u3051\u4ed8\u3051\u308b\u30b9\u30b1\u30fc\u30e9\u30fc\u30ea\u30fc\u30c9\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u308b\u3068\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002</p>"},{"location":"practical/practical/#cooling","title":"Cooling","text":"<p>\u5168\u304f\u7121\u98a8\u72b6\u614b\u3067\u4f7f\u3044\u7d9a\u3051\u308b\u3068\u6050\u3089\u304fFPGA\u306f\u30c0\u30e1\u306b\u306a\u308a\u307e\u3059\u3002 \u7a7a\u51b7\u3092\u5fc3\u639b\u3051\u3066\u304f\u3060\u3055\u3044\u3002 \u8cbc\u308a\u4ed8\u3051\u308b\u30bf\u30a4\u30d7\u306e\u30d2\u30fc\u30c8\u30b7\u30f3\u30af\u306e\u4f8b\u3067\u3059\u3002\u591a\u5c11FPGA\u6e29\u5ea6\u304c\u6539\u5584\u3059\u308b\u5831\u544a\u304c\u3042\u308a\u307e\u3059\u3002</p> <ul> <li>TGH-0200-02 (By TRIUMF \u5c0f\u5d8b\u3055\u3093)</li> </ul>"},{"location":"practical/practical/#generation-of-mcs-and-download-it-by-vivado","title":"Generation of MCS and download it by Vivado","text":"<p>MCS\u306e\u751f\u6210\u3068\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306b\u3064\u3044\u3066HUL\u306eUG\u3092\u8aad\u3093\u3067\u3082\u3089\u3046\u306e\u304c\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002 AMANEQ\u3067\u63a1\u7528\u3057\u3066\u3044\u308bSPI\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u306fS25FL128S\u3067\u3059\u3002HUL\u3068\u306f\u30e1\u30e2\u30ea\u5bb9\u91cf\u304c\u7570\u306a\u308a\u307e\u3059\u3002 <code>s25fl128sxxxxxx0-spi-x1_x2_x4</code>\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u307e\u305f\u3001MCS\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306binterface\u3067SPIx4\u3092\u9078\u629e\u3059\u308b\u4e8b\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"practical/practical/#difference-of-sitcp-and-sitcp-xg","title":"Difference of SiTCP and SiTCP-XG","text":"<p>SiTCP\u3068SiTCP-XG\u306f\u7570\u306a\u3063\u305f\u30e9\u30a4\u30bb\u30f3\u30b9\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002 \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u5165\u308c\u66ff\u3048\u305f\u3060\u3051\u3067\u306f\u30e9\u30a4\u30bb\u30f3\u30b9\u306f\u5909\u66f4\u3055\u308c\u306a\u3044\u306e\u3067\u3001BBT\u793e\u306eMpcWriter\u3092\u4f7f\u3063\u3066\u66f8\u304d\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8IP\u304c\u4e21\u8005\u3067\u7570\u306a\u308b\u4e8b\u306b\u3082\u6ce8\u610f\u3067\u3059\u3002</p> <p>SiTCP\u304a\u3088\u3073SiTCP-XG\u306e\u4e8b\u306b\u3064\u3044\u3066\u306f\u3001BBT\u793e\u304c\u7ba1\u7406\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305a\u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\u3092\u53c2\u7167\u3057\u3001\u30d5\u30a9\u30fc\u30e9\u30e0\u3092\u6d3b\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"practical/practical/#common-troubles","title":"Common troubles","text":"<p>\u8003\u3048\u3089\u308c\u308b\u3068\u30c8\u30e9\u30d6\u30eb\u306b\u3064\u3044\u3066\u5217\u6319\u3057\u307e\u3059\u3002</p> <ul> <li>ping\u304c\u901a\u3089\u306a\u3044<ul> <li>DIP\u30b9\u30a4\u30c3\u30c1\u306e\u8a2d\u5b9a\u3092\u5909\u3048\u3066Default IP\u3067\u8d77\u52d5\u3057\u3066\u307f\u308b\u3002\u305d\u308c\u3067\u3082\u30c0\u30e1\u306a\u3089PC\u5074\u3092\u7591\u3063\u3066\u307f\u308b\u3002</li> </ul> </li> <li>MIKUMARI\u3067\u540c\u671f\u3067\u304d\u306a\u3044<ul> <li>\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30ea\u30bb\u30c3\u30c8\u30b9\u30a4\u30c3\u30c1\u3092\u62bc\u3057\u3066\u307f\u308b</li> </ul> </li> <li>\u4e00\u53f0\u3060\u3051\u6642\u523b\u540c\u671f\u51fa\u6765\u3066\u3044\u306a\u3044\u3088\u3046\u306b\u611f\u3058\u308b<ul> <li>\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30e2\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u304b\uff1f</li> </ul> </li> <li>TCP\u63a5\u7d9a\u3092\u3057\u305f\u304c\u4f55\u3082 (delimiter word\u3059\u3089)\u30c7\u30fc\u30bf\u304c\u8fd4\u3063\u3066\u3053\u306a\u3044<ul> <li>FPGA\u306b\u5165\u3063\u3066\u3044\u308b\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u6b63\u3057\u3044\u304b\uff1f</li> <li>\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u3092ON\u306b\u3057\u305f\u304b\uff1f</li> <li>MIKUMARI\u7528\u306e\u30d5\u30a1\u30a4\u30d0\u30fc\u306f\u3055\u3055\u3063\u3066\u3044\u308b\u304b\uff1f\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306f\u6765\u3066\u3044\u308b\u304b\uff1f</li> <li>\u30bb\u30ab\u30f3\u30c0\u30eaLACCP\u306f\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u304a\u308a\u3001\u6642\u523b\u540c\u671f\u304c\u5b8c\u4e86\u3057\u3066\u3044\u308b\u304b\uff1f</li> </ul> </li> <li>RUN\u6bce\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u30ea\u30bb\u30c3\u30c8\u3092\u304b\u3051\u305f\u3089\u304a\u304b\u3057\u304f\u306a\u3063\u305f<ul> <li>RUN\u6bce\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u30ea\u30bb\u30c3\u30c8\u3092\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u4e00\u5ea6\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u3089\u653e\u7f6e\u3067\u3088\u3044\u3067\u3059\u3002</li> </ul> </li> </ul>"},{"location":"practical/practical/#recommended-setting","title":"Recommended setting","text":"<ul> <li>Str-LRTDC<ul> <li>Tdc mask\u3092\u9069\u5207\u306b\u8a2d\u5b9a\u3059\u308b</li> <li>Self recovery mode\u3092ON\u306b\u3059\u308b</li> </ul> </li> <li>Str-HRTDC<ul> <li>AutoSwitch\u3092ON\u306b\u3059\u308b</li> <li>Tdc mask\u3092\u9069\u5207\u306b\u8a2d\u5b9a\u3059\u308b</li> <li>Self recovery mode\u3092ON\u306b\u3059\u308b</li> </ul> </li> </ul>"},{"location":"practical/practical/#about-data-taking","title":"About data taking","text":"<p>\u9023\u7d9a\u8aad\u307f\u51fa\u3057DAQ\u3067\u306f\u5165\u529b\u30d2\u30c3\u30c8\u4fe1\u53f7\u306f\u5168\u3066PC\u3078\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001\u3053\u306e\u691c\u51fa\u5668\u306f\u30ce\u30a4\u30b8\u30fc\u3060\u304c\u30c8\u30ea\u30ac\u30fc\u30ec\u30fc\u30c8\u304c\u975e\u5e38\u306b\u4f4e\u3044\u306e\u3067\u30c7\u30fc\u30bf\u30ec\u30fc\u30c8\u306f\u554f\u984c\u306a\u3044\u306f\u305a\u3060\u3001\u306f\u6210\u7acb\u3057\u307e\u305b\u3093\u3002 \u5927\u91cf\u306e\u30ce\u30a4\u30ba\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3057\u3088\u3046\u3068\u3057\u3066\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u4e00\u77ac\u3067\u30c7\u30fc\u30bf\u7834\u640d\u3057\u307e\u3059\u3002 \u5165\u529b\u30d2\u30c3\u30c8\u30ec\u30fc\u30c8\u304c\u30c7\u30fc\u30bf\u30ec\u30fc\u30c8\u3092\u6c7a\u3081\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c8\u30ea\u30ac\u30fc\u6570\u3067\u5236\u5fa1\u3067\u304d\u3066\u3044\u305f\u5f93\u6765\u578b\u306eDAQ\u304b\u3089\u601d\u8003\u306e\u5207\u308a\u66ff\u3048\u304c\u5fc5\u8981\u3067\u3059\u3002 \u3053\u306e\u70b9\u306b\u304a\u3044\u3066\u3001\u958b\u653e\u306b\u306a\u3063\u3066\u3044\u308bAMANEQ\u306e\u5165\u529b\u30c1\u30e3\u30f3\u30cd\u30eb\u3082\u5927\u304d\u306a\u30ce\u30a4\u30ba\u6e90\u3067\u3059\u3002 \u958b\u653e\u306e\u5165\u529b\u306f\u72b6\u614b\u304c\u672a\u5b9a\u7fa9\u306e\u305f\u30810/1\u304c\u983b\u7e41\u306b\u5207\u308a\u66ff\u308f\u308a\u3001\u9ad8\u3044\u5165\u529b\u30ec\u30fc\u30c8\u3092\u4f5c\u308a\u51fa\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002 \u3068\u306b\u304b\u304f\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u3092\u59cb\u3081\u308b\u524d\u306b\u304a\u3044\u3066\u3001\u5165\u529b\u30ec\u30fc\u30c8\u304c\u9ad8\u304f\u306a\u3044\u304b\u3001\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3068\u3066\u3082\u5927\u4e8b\u3067\u3059\u3002</p> <p>\u5165\u529b\u30ec\u30fc\u30c8\u306e\u78ba\u8a8d\u306b\u306f\u30b9\u30b1\u30fc\u30e9\u30fc\u3092\u6d3b\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u7e70\u308a\u8fd4\u3057\u30b9\u30b1\u30fc\u30e9\u30fc\u3092\u8aad\u3093\u3067\u5404\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u30ec\u30fc\u30c8\u3092\u8a08\u7b97\u3057\u3001\u30dc\u30fc\u30c9\u5168\u4f53\u306e\u30ec\u30fc\u30c8\u3092\u7b97\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u306e\u5024\u306b64-bit\u3092\u304b\u3051\u305f\u3082\u306e\u304c\u3001\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u306b\u304b\u304b\u308b\u51fa\u529b\u30c7\u30fc\u30bf\u30ec\u30fc\u30c8\u3067\u3059\u3002 \u3053\u308c\u304c\u30c7\u30fc\u30bf\u30ea\u30f3\u30af\u306e\u5e2f\u57df\u306e8\u5272\u7a0b\u5ea6\u306b\u53ce\u307e\u3063\u3066\u3044\u306a\u3044\u3068\u3001\u78ba\u5b9f\u306b\u30c7\u30fc\u30bf\u7834\u640d\u3057\u307e\u3059\u3002</p> <p>\u691c\u51fa\u5668\u306e\u30ce\u30a4\u30ba\u843d\u3068\u3057\u3092\u307e\u305a\u512a\u5148\u3057\u3066\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002 \u958b\u653e\u30c1\u30e3\u30f3\u30cd\u30eb\u304c\u3042\u308b\u5834\u5408\u3001TDC\u30de\u30b9\u30af\u3092\u6b63\u3057\u304f\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u307e\u305f\u3001\u30db\u30c3\u30c8\u30c1\u30e3\u30f3\u30cd\u30eb\u304c\u3042\u308b\u5834\u5408\u3082TDC\u30de\u30b9\u30af\u304c\u6709\u52b9\u3067\u3059\u3002 \u3069\u3046\u3057\u3066\u3082\u5165\u529b\u30ec\u30fc\u30c8\u304c\u843d\u3061\u306a\u3044\u5834\u5408\u3001heartbeat frame throttling\u3092\u6709\u52b9\u306b\u3057\u3066\u3001\u51fa\u529b\u30c7\u30fc\u30bf\u30ec\u30fc\u30c8\u3092\u4e0b\u3052\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u305d\u3046\u306f\u3044\u3063\u3066\u3082\u3001\u3068\u308a\u3042\u3048\u305a\u30c7\u30fc\u30bf\u3092\u53d6\u3063\u3066\u307f\u305f\u3044\u3068\u3044\u3046\u4e8b\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002 \u305d\u3046\u3044\u3046\u6642\u306f\u30c8\u30ea\u30ac\u30fc\u30a2\u30b7\u30b9\u30c6\u30c3\u30c8\u30e2\u30fc\u30c9\u3092\u6709\u52b9\u306b\u3057\u3066\u30c8\u30ea\u30ac\u30fc\u4fe1\u53f7\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002 \u51fa\u529b\u30c7\u30fc\u30bf\u30ec\u30fc\u30c8\u306e\u5236\u5fa1\u306b\u5bfe\u3057\u3066\u3001\u30c8\u30ea\u30ac\u30fc\u578bDAQ\u3068\u540c\u3058\u601d\u60f3\u304c\u9069\u7528\u3067\u304d\u307e\u3059\u3002 Heartbeat frame throttling\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u306e\u3082\u6709\u52b9\u3067\u3057\u3087\u3046\u3002</p> <p>Streaming TDC\u306eself recovery mode\u306fON\u306b\u3057\u3066\u304a\u304f\u306e\u304c\u304a\u3059\u3059\u3081\u3067\u3059\u3002 Local heartbeat frame mismatch\u304c\u8d77\u304d\u305f\u5834\u5408\u3001\u305d\u306eFEE\u304b\u3089\u8fd4\u3063\u3066\u304f\u308b\u30c7\u30fc\u30bf\u306f\u6700\u65e9\u5168\u304f\u6b63\u3057\u304f\u306a\u3044\u3067\u3059\u3002 DAQ\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304c\u30c7\u30ea\u30df\u30bf\u30fc\u30d5\u30e9\u30b0\u3092\u898b\u3066\u9069\u5207\u306b\u5bfe\u51e6\u3059\u308b\u3088\u3046\u306b\u4f5c\u3089\u308c\u3066\u3044\u308c\u3070\u826f\u3044\u3067\u3059\u304c\u3001\u591a\u304f\u306e\u5834\u5408\u3067\u305d\u306e\u3088\u3046\u306b\u306f\u306a\u3063\u3066\u3044\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002 Self recovery\u304c\u50cd\u3051\u3070\u3001DAQ\u3092\u6b62\u3081\u305a\u306bFEE\u304c\u5fa9\u5e30\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3053\u308c\u3092\u826f\u3057\u3068\u3059\u308b\u304b\u3069\u3046\u304b\u306f\u30e6\u30fc\u30b6\u30fc\u306e\u5224\u65ad\u306b\u3086\u3060\u306d\u307e\u3059\u304c\u3002</p>"},{"location":"practical/practical/#nim-output-signals","title":"NIM output signals","text":"<p>2025\u5e745\u6708\u306b\u884c\u3063\u305f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u66f4\u65b0\u306b\u3088\u3063\u3066\u3001NIM output\u304b\u3089\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af (125 MHz)\u309216\u5206\u5468\u3057\u305f7.8125 MHz\u306e\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304c\u51fa\u529b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002 IO manager\u306b\u3088\u3063\u3066\u9078\u629e\u53ef\u80fd\u306a\u4fe1\u53f7\u306b\u3064\u3044\u3066\u306f\u3001\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u8a18\u8ff0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u306e\u4fe1\u53f7\u3092<code>clk_div16</code>\u3068\u3057\u307e\u3059\u3002 <code>clk_div16</code>\u306f\u5916\u90e8\u30b7\u30b9\u30c6\u30e0\u3068\u540c\u671f\u3092\u53d6\u308b\u305f\u3081\u306b\u4f7f\u3046\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u304a\u308a\u3001heartbeat signal\u3068\u306f\u56f3\u306e\u4f4d\u76f8\u95a2\u4fc2\u306b\u3042\u308a\u307e\u3059\u3002 NIM output\u304b\u3089\u3053\u308c\u3089\u306e\u4fe1\u53f7\u3092\u51fa\u529b\u3057\u3001\u5916\u90e8\u30b7\u30b9\u30c6\u30e0\u306e\u30b9\u30b1\u30fc\u30e9\u3084TDC\u3067\u6e2c\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u7570\u306a\u3063\u305f\u6642\u523b\u30c9\u30e1\u30a4\u30f3\u3092\u6301\u3064\u30b7\u30b9\u30c6\u30e0\u306e\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002</p> Figure\u00a01: Phase relation between the heartbeat signal and clk_div16."},{"location":"practical/practical/#_1","title":"\u30b8\u30fc\u30fb\u30a8\u30cc\u30fb\u30c7\u30a3\u30fc\u3078\u306e\u554f\u3044\u5408\u308f\u305b","text":"<p>\u30b8\u30fc\u30fb\u30a8\u30cc\u30fb\u30c7\u30a3\u30fc\u3078\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4fee\u7406\u3092\u4f9d\u983c\u3059\u308b\u5834\u5408\u3001\u300c\u3053\u306eIC\u304c\u7834\u640d\u3057\u3066\u3044\u308b\u304b\u3089\u4ea4\u63db\u3057\u3066\u6b32\u3057\u3044\u300d\u306a\u3069\u3001\u5177\u4f53\u7684\u306a\u6307\u793a\u3092\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30b8\u30fc\u30fb\u30a8\u30cc\u30fb\u30c7\u30a3\u30fc\u306f\u30dc\u30fc\u30c9\u8a2d\u8a08\u3068\u88fd\u9020\u7ba1\u7406\u304c\u696d\u52d9\u306a\u306e\u3067\u3001\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3084\u3069\u3046\u3084\u3063\u3066AMANEQ\u304c\u52d5\u3044\u3066\u3044\u308b\u304b\u306f\u77e5\u3089\u306a\u3044\u305f\u3081\u3067\u3059\u3002 \u306a\u3093\u304b\u304a\u304b\u3057\u3044\u304b\u3089\u76f4\u3057\u3066\u307b\u3057\u3044\u3068\u8a00\u3063\u3066\u3082\u76f4\u3057\u3066\u304f\u308c\u307e\u305b\u3093\u3002</p> <p>\u30c8\u30e9\u30d6\u30eb\u306b\u906d\u9047\u3057\u305f\u3089\u307e\u305a\u81ea\u5206\u305f\u3061\u3067\u8abf\u3079\u3001\u5fc5\u8981\u3067\u3042\u308c\u3070\u56de\u8def\u56f3\u306a\u3069\u3092\u53c2\u7167\u3057\u3066\u4f55\u304c\u60aa\u3044\u304b\u7a81\u304d\u6b62\u3081\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"release/release/","title":"Release notes","text":""},{"location":"release/release/#oct-14-2025","title":"Oct 14, 2025","text":""},{"location":"release/release/#new-bugfix","title":"New + Bugfix","text":"<ul> <li>Bugfix for previous version<ul> <li>Fixed the bit position of the frameFlag1/2 swapped in the heartbeat delimiter flags.</li> </ul> </li> <li>New function<ul> <li>125 MHz system clock signal can be output from NIM-OUT ports by selecting it via IOM.</li> </ul> </li> <li>New firmware<ul> <li>Str-LRTDC v2.A</li> <li>Str-LRTDC-10G v2.1</li> <li>Str-HRTDC Base v2.A (v2.9 is skipped)</li> <li>Mezzanine Str-HRTDC v2.9</li> <li>Mikumari Clock Hub v2.9</li> </ul> </li> </ul>"},{"location":"release/release/#may-29-2025","title":"May 29, 2025","text":""},{"location":"release/release/#new-bugfix_1","title":"New + Bugfix","text":"<ul> <li>Bugfix for previous version<ul> <li>Rename \"trigger emulation mode\" as \"trigger assisted mode\".</li> <li>The delay function of the trigger gate generator for the trigger assisted mode does not work due to bug. It is fixed.</li> </ul> </li> <li>New function<ul> <li>The clock signal (7.8125 MHz) generated by dividing the system clock (125 MHz) is introduced. It can be output from the NIM output by selecting this signal with the IO manager. Its phase is locked to the heartbeat signal.</li> </ul> </li> <li>New firmware<ul> <li>Str-LRTDC v2.9</li> <li>Str-LRTDC-10G v2.0<ul> <li>StrLrTdc with SiTCP-XG (10GbE). New release.</li> </ul> </li> <li>Str-HRTDC Base v2.8</li> <li>Mezzanine Str-HRTDC v2.8</li> <li>Mikumari Clock Hub v2.8</li> </ul> </li> </ul>"},{"location":"release/release/#mar-31-2025","title":"Mar. 31, 2025","text":""},{"location":"release/release/#update","title":"Update","text":"<ul> <li>Update the product number of CDD-OPT mezzanine card.<ul> <li>CDD-OPT v3 (GN-2436-1) is the latest.</li> </ul> </li> </ul>"},{"location":"release/release/#mar-5-2025","title":"Mar. 5, 2025","text":""},{"location":"release/release/#new-bugfix_2","title":"New + Bugfix","text":"<ul> <li>Bugfix for previous version<ul> <li>All firmware released on Jan. 6 have critical bugs.</li> <li>So far the function to insert throttling start/end words in the input throttling type-2 unit has not been working. Now that the feature is enabled, a word is generated with input throttling type-2 start/end data types to indicate that the throttling feature is working.</li> </ul> </li> <li>New firmware<ul> <li>Str-LRTDC v2.8</li> <li>Str-HRTDC Base v2.7</li> <li>Mezzanine Str-HRTDC v2.7</li> <li>Mikumari Clock Hub v2.7</li> <li>Mikumari Clock Root v2.7<ul> <li>The Mikumari Clock Root v2.7 will be the final version. It will not be updated any further.</li> </ul> </li> </ul> </li> </ul>"},{"location":"release/release/#jan-6-2025","title":"Jan. 6, 2025","text":""},{"location":"release/release/#new-improved","title":"New + Improved","text":"<ul> <li>New function of LACCP distributing frame flags<ul> <li>LACCP can distribute 2-bits frame flags. The flags are embedded into the flags regions in the heartbeat frame delimiter word.</li> <li>The users can embed external condition such as gates into the heartbeat frame.</li> </ul> </li> <li>Gated scaler<ul> <li>Two scaler units gated by the frame flags are added. Totally, 3 scaler units exist in firmware.</li> <li>Gated scaler counts up while the frame flag takes 1.</li> </ul> </li> <li>New firmware<ul> <li>Str-LRTDC v2.6</li> <li>Str-HRTDC Base v2.5</li> <li>Mezzanine Str-HRTDC v2.5</li> <li>Mikumari Clock Hub v2.6</li> <li>Mikumari Clock Root v2.6</li> <li>The Mikumari Clock Root firmware will be deprecated in the next update because the Mikumari Clock Hub can do the same thing.</li> </ul> </li> </ul>"},{"location":"release/release/#jun-4-2024","title":"Jun. 4, 2024","text":""},{"location":"release/release/#new","title":"New","text":"<ul> <li>De facto release version<ul> <li>Str-LRTDC v2.5</li> <li>Str-HRTDC Base v2.4</li> <li>Mezzanine Str-HRTDC v2.4</li> <li>Mikumari Clock Root v2.5</li> <li>Mikumari Clock Hub v2.5</li> </ul> </li> </ul>"},{"location":"software/software/","title":"Software","text":"<p>\u3053\u3053\u3067\u306fRBCP\u7d4c\u7531\u3067AMANEQ\u3092\u30b9\u30ed\u30fc\u5236\u5fa1\u3059\u308b\u305f\u3081\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u3064\u3044\u3066\u8ff0\u3079\u307e\u3059\u3002 SPADI-A\u3067\u958b\u767a\u4e2d\u306eNestDAQ\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u3064\u3044\u3066\u306f\u3001NestDAQ\u306e\u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#hul-common-lib","title":"hul-common-lib","text":"<p>Github repository</p> <p>hul-common-lib\u306fHUL\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u958b\u767a\u3055\u308c\u305f\u3082\u56de\u8def\u7528\u306e\u5171\u901a\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002 AMANEQ\u3001CIRASAME\u3001RAYRAW\u306e\u5236\u5fa1\u306f\u3053\u306e\u5171\u901a\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u884c\u3046\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002 \u975e\u5e38\u306b\u6b8b\u5ff5\u306a\u304c\u3089HUL\u306f\u53e4\u3044\u30bd\u30d5\u30c8\u304b\u3089\u79fb\u884c\u304c\u6e08\u3093\u3067\u304a\u3089\u305a\u3001\u73fe\u5728hul-common-lib\u3067\u306fHUL\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u5236\u5fa1\u306f\u51fa\u6765\u307e\u305b\u3093\u3002</p> <p>Directory structure</p> <pre><code>.\n\u2514\u2500\u2500 hul-common-lib/\n    \u251c\u2500\u2500 HulCore\n    \u2514\u2500\u2500 Common\n</code></pre> <p>HulCore\u306b\u306fRBCP\u901a\u4fe1\u3092\u884c\u3046\u30af\u30e9\u30b9\u7b49\u3001\u5171\u901a\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u30e1\u30bd\u30c3\u30c9\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068\u3053\u306e\u90e8\u5206\u3092\u307e\u3068\u3081\u305fshared library\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002 \u5f8c\u8ff0\u3059\u308bamaneq-soft\u306f\u3001\u3053\u306eshared library\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002</p> <p>Common\u5185\u306b\u306f\u3044\u304f\u3064\u304b\u5b9f\u884c\u4f53\u3092\u4f5c\u308b\u305f\u3081\u306e\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u751f\u6210\u3055\u308c\u308b\u5b9f\u884c\u4f53\u3067\u3001AMANEQ\u306e\u5236\u5fa1\u306f\u5168\u3066\u884c\u3046\u4e8b\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u4ed6\u306e\u30bd\u30d5\u30c8\u3078\u5236\u5fa1\u30b7\u30fc\u30b1\u30f3\u30b9\u3092\u79fb\u690d\u3059\u308b\u969b\u306b\u306f\u3001\u3053\u308c\u3089\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u8ff0\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#executable-files","title":"Executable files","text":"<p>hul-common-lib\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068\u751f\u6210\u3055\u308c\u308b\u5b9f\u884c\u4f53\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u5168\u3066\u306e\u5b9f\u884c\u4f53\u306f\u5f15\u6570\u7121\u3057\u3067\u5b9f\u884c\u3059\u308b\u3068usage\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u53d6\u308b\u3079\u304d\u5f15\u6570\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u6d3b\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#write_register","title":"write_register","text":"<p>SiTCP\u306eRBCP\u7d4c\u7531\u3067local bus module\u3078\u30ec\u30b8\u30b9\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u305f\u3081\u306e\u5b9f\u884c\u4f53\u3067\u3059\u3002RBCP\u901a\u4fe1\u30af\u30e9\u30b9\u3092\u5305\u542b\u3057\u3066\u3044\u307e\u3059\u3002 <code>write_register</code>\u3068<code>read_register</code>\u306e2\u7a2e\u985e\u3067AMANEQ\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306f\u5168\u3066\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u5236\u5fa1\u624b\u9806\u304c\u975e\u5e38\u306b\u7169\u96d1\u306a\u6a5f\u80fd\u306b\u3064\u3044\u3066\u306f\u5225\u9014\u5b9f\u884c\u4f53\u3092\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>IP\u30a2\u30c9\u30ec\u30b9192.168.10.16\u306e\u30ed\u30fc\u30ab\u30eb\u30a2\u30c9\u30ec\u30b90x40100000\u30780x1A\u3068\u3044\u3046\u5024\u30922-byte\u5e45\u3067\u66f8\u304d\u8fbc\u3080\u4f8b\u3067\u3059\u3002</p> <pre><code>               [IP]          [Addr]      [val] [bytes]\nwrite_register 192.168.10.16 0x40100000  0x1A  2\n</code></pre> <p>\u3053\u306e\u95a2\u6570\u306f4-byte\u66f8\u304d\u8fbc\u307f\u307e\u3067\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 RBCP\u306f\u672c\u67651-byte\u5e45\u3067\u3057\u304b\u540c\u3058\u30a2\u30c9\u30ec\u30b9\u306b\u66f8\u3051\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e2d\u3067\u540c\u4e00\u30ed\u30fc\u30ab\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u5bfe\u3057\u3066\u4ed6\u30d0\u30a4\u30c8\u306e\u5024\u3092\u66f8\u304d\u8fbc\u3093\u3067\u3044\u308b\u3088\u3046\u306b\u898b\u305b\u304b\u3051\u3066\u3044\u307e\u3059\u3002</p> <p>\u30ec\u30b8\u30b9\u30bf\u9577\u304c8-bit\u306e\u500d\u6570\u3067\u306a\u3044\u5834\u5408\u3001\u4f8b\u3048\u307013-bit\u5e45\u306e\u30ec\u30b8\u30b9\u30bf\u306b2-byte\u66f8\u304d\u8fbc\u307f\u3092\u884c\u3063\u305f\u5834\u5408\u3001\u5b58\u5728\u3057\u306a\u3044\u4e0a\u4f4d3-bit\u90e8\u5206\u306e\u5024\u306f\u4f55\u3092\u5165\u308c\u3066\u3082\u7121\u8996\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"software/software/#read_register","title":"read_register","text":"<p>SiTCP\u306eRBCP\u7d4c\u7531\u3067local bus module\u304b\u3089\u30ec\u30b8\u30b9\u30bf\u3092\u8aad\u307f\u51fa\u3059\u305f\u3081\u306e\u5b9f\u884c\u4f53\u3067\u3059\u3002 \u8aad\u307f\u51fa\u3057\u7d50\u679c\u306f\u6a19\u6e96\u51fa\u529b\u3078\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p>IP\u30a2\u30c9\u30ec\u30b9192.168.10.16\u306e\u30ed\u30fc\u30ab\u30eb\u30a2\u30c9\u30ec\u30b90x40100000\u304b\u30892-byte\u5e45\u3067\u5024\u3092\u8aad\u307f\u51fa\u3059\u4f8b\u3067\u3059\u3002</p> <pre><code>              [IP]          [Addr]     [bytes]\nread_register 192.168.10.16 0x40100000 2\n</code></pre>"},{"location":"software/software/#check_spi_device","title":"check_spi_device","text":"<p>\u30dc\u30fc\u30c9\u4e0a\u306eSPI\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u306e\u578b\u756a\u3092\u8abf\u3079\u307e\u3059\u3002\u30de\u30cb\u30e5\u30d5\u30a1\u30af\u30c1\u30e3ID\u3092\u30e1\u30e2\u30ea\u304b\u3089\u8aad\u307f\u51fa\u3057\u3066\u5224\u5225\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u6b63\u5e38\u306b\u8aad\u307f\u51fa\u305b\u3066\u3044\u3066\u3082\u30bd\u30d5\u30c8\u5074\u304c\u305d\u308c\u3092\u77e5\u3089\u306a\u3044\u3068unknown\u3068\u8868\u793a\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002 \u305d\u306e\u3088\u3046\u306a\u73fe\u8c61\u306b\u906d\u9047\u3057\u305f\u3089github repository\u3067issue\u3092\u6319\u3052\u3066\u3044\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#erase_eeprom","title":"erase_eeprom","text":"<p>SiTCP\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u3084IP\u30a2\u30c9\u30ec\u30b9\u306a\u3069\u306e\u60c5\u5831\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u4e0d\u63ee\u767a\u6027\u30e1\u30e2\u30ea\uff08EEPROM\uff09\u306e\u30c7\u30fc\u30bf\u3092\u5168\u6d88\u53bb\u3059\u308b\u5b9f\u884c\u4f53\u3067\u3059\u3002 SiTCP\u306eTCP\u63a5\u7d9a\u304c\u518d\u63a5\u7d9a\u306e\u969b\u306b\u975e\u5e38\u306b\u5f85\u305f\u3055\u308c\u308b\u3068\u3044\u3046\u73fe\u8c61\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u5b9f\u884c\u4f53\u3067\u3059\u3002 \u901a\u5e38\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"software/software/#flash_memory_programmer","title":"flash_memory_programmer","text":"<p>MCS\u30d5\u30a1\u30a4\u30eb\u3092SiTCP\u7d4c\u7531\u3067\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u306b\u66f8\u304f\u305f\u3081\u306e\u5b9f\u884c\u4f53\u3067\u3059\u3002 \u901a\u5e38MCS\u30d5\u30a1\u30a4\u30eb\u306fJTAG\u7d4c\u7531\u3067\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u3078\u66f8\u304d\u8fbc\u307f\u307e\u3059\u304c\u3001\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u306eFMP\u3092\u7d4c\u7531\u3057\u3066\u66f8\u304d\u8fbc\u3080\u305f\u3081\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002 \u5f53\u7136\u3067\u3059\u304c\u3001FMP\u304c\u5b9f\u88c5\u3055\u308c\u305f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u304cFPGA\u4e0a\u3067\u52d5\u3044\u3066\u3044\u308b\u4e8b\u304c\u524d\u63d0\u6761\u4ef6\u3067\u3059\u3002</p> <p>\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u306e\u6d88\u53bb\u3001\u66f8\u304d\u8fbc\u307f\u3001\u30d9\u30ea\u30d5\u30a1\u30a4\u3068JTAG\u3067\u66f8\u304d\u8fbc\u3080\u3068\u304d\u3068\u540c\u3058\u624b\u9806\u3092\u8e0f\u307f\u307e\u3059\u3002 \u30d9\u30ea\u30d5\u30a1\u30a4\u306e\u7d50\u679c\u6700\u5f8c\u306b<code>MCS is verified</code>\u3068\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Mismatch\u3068\u8868\u793a\u3055\u308c\u305f\u5834\u5408\u3001\u901a\u4fe1\u30a8\u30e9\u30fc\u7b49\u3067\u66f8\u304d\u8fbc\u3093\u3060\u30c7\u30fc\u30bf\u3068\u8aad\u307f\u51fa\u3057\u305f\u30c7\u30fc\u30bf\u304c\u4e00\u81f4\u3057\u3066\u3044\u307e\u305b\u3093\u3002 Verified\u3068\u8868\u793a\u3055\u308c\u308b\u307e\u3067\u7e70\u308a\u8fd4\u3057\u66f8\u304d\u8fbc\u3093\u3067\u304f\u3060\u3055\u3044\u3002 Mismatch\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306e\u306b\u96fb\u6e90\u3092\u843d\u3068\u3057\u305f\u308aFPGA\u3092\u30ea\u30b3\u30f3\u30d5\u30a3\u30b0\u3057\u3066\u3057\u307e\u3063\u305f\u308a\u3059\u308b\u3068\u3001\u30dc\u30fc\u30c9\u304c\u8d77\u52d5\u3057\u306a\u304f\u306a\u308a\u307e\u3059\u3002 \u305d\u306e\u5834\u5408\u306fJTAG\u30b1\u30fc\u30d6\u30eb\u3092\u4f7f\u3063\u3066\u5bfe\u51e6\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>RBCP\u3092\u7528\u3044\u3066\u6570MB\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u9001\u4fe1\u3059\u308b\u306e\u3067\u3001\u4f55\u5ea6\u3082RBCP\u901a\u4fe1\u304c\u884c\u308f\u308c\u307e\u3059\u3002 RBCP\u306fUDP\u901a\u4fe1\u306e\u305f\u3081\u30d1\u30b1\u30c3\u30c8\u30ed\u30b9\u306e\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u4e0d\u5b89\u5b9a\u3060\u3063\u305f\u308a\u3001\u4ed6\u306e\u901a\u4fe1\u30d1\u30b1\u30c3\u30c8\u304c\u6ca2\u5c71\u6d41\u308c\u3066\u3044\u308b\u74b0\u5883\u3060\u3068\u5931\u6557\u3057\u3084\u3059\u3044\u3067\u3059\u3002 \u307e\u305f\u3001\u7121\u7dda\u7d4c\u7531\u3067\u3082\u5931\u6557\u3057\u3084\u3059\u3044\u3067\u3059\u3002 <code>flash_memory_programmer</code>\u3092\u4f7f\u3046\u969b\u306b\u306f\u3001\u4ed6\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u8a72\u5f53AMANEQ\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306e\u3092\u3084\u3081\u3001\u30af\u30ea\u30fc\u30f3\u306a\u72b6\u6cc1\u3067\u66f8\u304d\u8fbc\u3093\u3067\u304f\u3060\u3055\u3044\u3002</p> <p>MCS\u3092\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u3078\u66f8\u304d\u8fbc\u3093\u3067\u3082FPGA\u306e\u4e2d\u8eab\u306f\u305d\u306e\u307e\u307e\u3067\u3059\u3002 \u66f8\u3044\u305f\u5185\u5bb9\u3092FPGA\u3078\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u306b\u306f\u30dc\u30fc\u30c9\u306e\u96fb\u6e90\u3092\u4e00\u5ea6\u843d\u3068\u3059\u304b\u3001<code>reconfig_fpga</code>\u3092\u5b9f\u884c\u3057\u3066FPGA\u3092\u518d\u30b3\u30f3\u30d5\u30a3\u30b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#gen_user_reset","title":"gen_user_reset","text":"<p>Local Bus Controller\u304b\u3089BCT\u30ea\u30bb\u30c3\u30c8\u3092\u767a\u884c\u3057\u307e\u3059\u3002 FPGA\u5185\u90e8\u306e\u591a\u304f\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u308b\u306e\u3067\u30ec\u30b8\u30b9\u30bf\u306e\u518d\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#get_version","title":"get_version","text":"<p>\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306eID\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 \u4f55\u304b\u304a\u304b\u3057\u3044\u3068\u601d\u3063\u305f\u6642\u306b\u3068\u308a\u3042\u3048\u305a\u5b9f\u884c\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002</p>"},{"location":"software/software/#inject_sem_error","title":"inject_sem_error","text":"<p>\u958b\u767a\u8005\u5411\u3051\u306e\u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\u3067\u3059\u3002SEM\u3092\u901a\u3058\u3066\u4efb\u610f\u306e\u9818\u57df\u306b\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u308b\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u5411\u3051\u306e\u6a5f\u80fd\u3067\u306f\u306a\u3044\u306e\u3067\u3053\u3053\u3067\u306f\u8aac\u660e\u3092\u7701\u7565\u3057\u307e\u3059\u3002</p>"},{"location":"software/software/#mcs_converter","title":"mcs_converter","text":"<p>MCS\u304b\u3089SPI\u30d5\u30e9\u30c3\u30b7\u30e5\u306b\u66f8\u304d\u8fbc\u3080\u305f\u3081\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\uff08MCS\u306f\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\uff09\u3002<code>flash_memory_programmer</code>\u5185\u3067\u306f\u30d0\u30a4\u30ca\u30ea\u5909\u63db\u3092\u540c\u6642\u306b\u884c\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u30c7\u30d0\u30c3\u30b0\u6642\u4ee5\u5916\u306b\u4f7f\u3046\u3053\u3068\u306f\u7121\u3044\u3068\u601d\u3044\u307e\u3059\u3002 Vivado\u304c\u751f\u6210\u3059\u308b\u3068BIN\u30d5\u30a1\u30a4\u30eb\u3068\u4e00\u81f4\u3059\u308b\u304b\u3069\u3046\u304b\u306f\u8abf\u3079\u3066\u3044\u307e\u305b\u3093\u3002\u8ab0\u304b\u8abf\u3079\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#read_scr-20250106","title":"read_scr (2025.01.06)","text":"<p>\u30b9\u30b1\u30fc\u30e9\u30fc\u3092\u8aad\u307f\u51fa\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3078\u4fdd\u5b58\u3059\u308b\u5b9f\u884c\u4f53\u3067\u3059\u3002 \u8aad\u307f\u51fa\u3057\u30d0\u30a4\u30c8\u6570\u306e\u53d6\u5f97\u3001FIFO\u304c\u7a7a\u3067\u3042\u308b\u4e8b\u306e\u78ba\u8a8d\uff08\u304a\u3088\u3073FIFO\u30ea\u30bb\u30c3\u30c8\uff09\u3001\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u9001\u4fe1\u3001FIFO\u8aad\u307f\u51fa\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u51fa\u3057\u3001\u306e\u4e00\u9023\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u6307\u5b9a\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u306e\u30dc\u30fc\u30c9\u304b\u3089gated scaler 1\u3092\u8aad\u307f\u51fa\u3057\u305f\u7d50\u679c\u3092scaler.dat\u3078\u4fdd\u5b58\u3057\u307e\u3059\u3002\u5f15\u6570\u306e\u6570\u304c3\u3064\u3060\u3068\u4e0a\u66f8\u304d\u30e2\u30fc\u30c9\u30014\u3064\u3060\u3068\u8ffd\u8a18\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\u8ffd\u8a18\u30e2\u30fc\u30c9\u3067\u306f\u65e2\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u6642\u3001\u524d\u306e\u30c7\u30fc\u30bf\u3092\u6d88\u3055\u305a\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002 Scaler unit\u3078\u6e21\u3059\u3079\u304d\u5f15\u6570\u306b\u3064\u3044\u3066\u306fusage\u3067\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>         [IP]          [File]     [Scaler unit]\nread_scr 192.168.10.16 scaler.dat 1          (Overwrite mode)\nread_scr 192.168.10.16 scaler.dat 1 append   (Append mode)\n</code></pre> <p>\u7e70\u308a\u8fd4\u3057\u30b9\u30b1\u30fc\u30e9\u30fc\u8aad\u307f\u51fa\u3057\u3092\u3059\u308b\u5834\u5408\u3001\u3053\u306e\u5b9f\u884c\u4f53\u3092\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u4f55\u5ea6\u3082\u547c\u3073\u51fa\u3057\u3066\u3082\u3042\u307e\u308a\u9ad8\u3044\u5468\u6ce2\u6570\u3067\u8aad\u3081\u307e\u305b\u3093\u3002 \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u304b\u3055\u3093\u3060\u308a\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u5185\u3067\u6bce\u56de\u8aad\u307f\u51fa\u3057\u30d0\u30a4\u30c8\u6570\u3092\u78ba\u8a8d\u3057\u3066\u3044\u305f\u308a\u3059\u308b\u305f\u3081\u3067\u3059\u3002 \u9ad8\u901f\u306b\u4f55\u5ea6\u3082\u8aad\u307f\u51fa\u3057\u305f\u3044\u5834\u5408\u3001\u3053\u306e\u5b9f\u884c\u4f53\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53c2\u8003\u306b\u3057\u3066\u81ea\u5206\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>2025.01.06 \u8ffd\u8a18</p> <p>\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089free-run scaler, gated scaler1, \u53ca\u30732\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306e\u5f15\u6570\u304c\u5897\u3048\u3066\u3001\u5408\u8a083\u3064\u306e\u5f15\u6570\u304c\u6700\u4f4e\u5fc5\u8981\u3067\u3059\u3002 FPGA\u306f\u3069\u306e\u30b9\u30b1\u30fc\u30e9\u30e6\u30cb\u30c3\u30c8\u306e\u30c7\u30fc\u30bf\u3067\u3042\u308b\u304b\u3092\u793a\u3059\u30d8\u30c3\u30c0\u3092\u8fd4\u3055\u306a\u3044\u306e\u3067\u3001\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u30bd\u30d5\u30c8\u7684\u306b64-bit (32-bit x2)\u306e\u30d8\u30c3\u30c0\u30ef\u30fc\u30c9\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002</p> <ul> <li>1st header: Magic<ul> <li>0xff04'0000: free-run scaler data</li> <li>0xff04'0001: gated scaler-1 data</li> <li>0xff04'0002: gated scaler-2 data</li> </ul> </li> <li>2nd header: Size<ul> <li>The number of words (32-bit/word) excluding the software header</li> </ul> </li> </ul>"},{"location":"software/software/#read_sem","title":"read_sem","text":"<p>SEM\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066SEU\u3092\u4fee\u6b63\u3057\u305f\u56de\u6570\u3001\u4fee\u6b63\u4e0d\u53ef\u80fd\u306a\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u304b\u306e\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002 \u653e\u5c04\u7dda\u304c\u6c17\u306b\u306a\u308b\u74b0\u5883\u3067\u306f\u5b9a\u671f\u7684\u306b\u8aad\u307f\u51fa\u3057\u3066\u3001\u4fee\u6b63\u4e0d\u80fd\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3044\u306a\u3044\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3082\u3057\u3001<code>uncorrectable_error</code>\u30d5\u30e9\u30b0\u304c\u7acb\u3063\u3066\u3044\u305f\u3089FPGA\u3092\u518d\u30b3\u30f3\u30d5\u30a3\u30b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#read_xadc","title":"read_xadc","text":"<p>XADC\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066FPGA\u306e\u6e29\u5ea6\u3068\u96fb\u6e90\u96fb\u5727\u5024\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</p>"},{"location":"software/software/#reconfig_fpga","title":"reconfig_fpga","text":"<p>SPI\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u304b\u3089FPGA\u3092\u518d\u30b3\u30f3\u30d5\u30a3\u30b0\u3059\u308b\u547d\u4ee4\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002FPGA\u5373\u5ea7\u306b\u30c0\u30a6\u30f3\u3059\u308b\u306e\u3067RBCP\u901a\u4fe1\u306e\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u304c\u767a\u751f\u3057\u307e\u3059\u304c\u3001\u6b63\u5e38\u306a\u52d5\u4f5c\u3067\u3059\u3002 10\u79d2\u7a0b\u5ea6\u3057\u3066\u304b\u3089\u518d\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#reset_sem","title":"reset_sem","text":"<p>SEM\u306e\u72b6\u614b\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002SEU\u3092\u4fee\u6b63\u305f\u56de\u6570\u30820\u306b\u623b\u308a\u307e\u3059\u3002</p>"},{"location":"software/software/#reset_sitcp","title":"reset_sitcp","text":"<p>SiTCP\u30b3\u30a2\u306e\u30ea\u30bb\u30c3\u30c8\u3092\u884c\u3044\u307e\u3059\u3002</p>"},{"location":"software/software/#send_cbtinit","title":"send_cbtinit","text":"<p>MIKUMARI\u30ea\u30f3\u30af\u306e\u7269\u7406\u5c64\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\u30c7\u30d0\u30c3\u30b0\u4ee5\u5916\u306e\u7528\u9014\u3067\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"software/software/#set_cdce62002","title":"set_cdce62002","text":"<p>CDCE62002 IC\u3078\u30ec\u30b8\u30b9\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u305f\u3081\u306e\u5b9f\u884c\u4f53\u3067\u3059\u3002 AMANEQ\u304c\u7d0d\u54c1\u3055\u308c\u305f\u3089\u5fc5\u305a1\u5ea6\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002 CDCE62002\u306b\u306f\u591a\u6570\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u3042\u308a\u30011\u30641\u3064\u624b\u52d5\u3067\u8a2d\u5b9a\u3059\u308b\u306e\u306f\u30e6\u30fc\u30b6\u30fc\u306b\u306f\u96e3\u3057\u3044\u306e\u3067\u3001\u3044\u304f\u3064\u304b\u306e\u30d7\u30ea\u30bb\u30c3\u30c8\u3092\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002 \u3069\u306e\u3088\u3046\u306a\u30d7\u30ea\u30bb\u30c3\u30c8\u304c\u3042\u308b\u304b\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u306eusage\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306f125 MHz\u5165\u529b\u304b\u3089500 MHz\u3068125 MHz\u306e\u51fa\u529b\u3092\u4f5c\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u8fbc\u3080\u6642\u306e\u4f8b\u3067\u3059\u3002</p> <pre><code>set_cdce62002 192.168.10.16 in_125_out_500_125\n</code></pre> <p>\u66f8\u304d\u8fbc\u307f\u3092\u884c\u3063\u305f\u5f8c\u3001\u30ec\u30b8\u30b9\u30bf\u30ea\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u66420\u3067\u306a\u3044\u5024\u304c\u8fd4\u3063\u3066\u304d\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u306a\u3093\u3069\u3084\u3063\u3066\u30820\u304c\u8fd4\u3063\u3066\u304f\u308b\u5834\u5408\u3001\u4f55\u304b\u30c8\u30e9\u30d6\u30eb\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002</p>"},{"location":"software/software/#set_ctrl_eeprom","title":"set_ctrl_eeprom","text":"<p>EEPROM\u3078\u5236\u5fa1\u30ec\u30b8\u30b9\u30bf\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u30c7\u30d0\u30c3\u30b0\u4ee5\u5916\u3067\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"software/software/#set_hbfstate","title":"set_hbfstate","text":"<p>MikuClockRoot\u304a\u3088\u3073MikuClockHub\u306b\u5bfe\u3057\u3066\u4f7f\u7528\u3059\u308b\u5b9f\u884c\u4f53\u3067\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u306eON/OFF\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002LACCP\u3092\u901a\u3058\u3066\u30d5\u30ec\u30fc\u30e0\u72b6\u614b\u306f\u4e0b\u6d41\u306e\u5168\u3066\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u4f1d\u642c\u3057\u307e\u3059\u3002</p> <p>\u7b2c2\u5f15\u6570\u306b<code>on/off</code>\u3092\u5165\u529b\u3057\u3066\u72b6\u614b\u3092\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>set_hbfstate 192.168.10.16 on\nset_hbfstate 192.168.10.16 off\n</code></pre> <p>MIKUMARI Utility\u304c<code>0x0000'0000-0x0FFF'0000</code>\u306e\u30a2\u30c9\u30ec\u30b9\u7bc4\u56f2\u306b\u5b58\u5728\u3057\u306a\u3044\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3067\u306f\u3001\u7b2c3\u5f15\u6570\u306b\u30a2\u30c9\u30ec\u30b9\u30aa\u30d5\u30bb\u30c3\u30c8\u3092\u4e0e\u3048\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#set_max1932","title":"set_max1932","text":"<p>AMANEQ\u3067\u306f\u4f7f\u7528\u3057\u306a\u3044\u6a5f\u80fd\u3067\u3059\u3002CIRASAME\u3068RAYRAW\u4e0a\u306eAPD\u30d0\u30a4\u30a2\u30b9\u30c1\u30c3\u30d7\u3078\u30ec\u30b8\u30b9\u30bf\u3092\u9001\u4fe1\u3059\u308b\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002</p>"},{"location":"software/software/#set_sitcpreg","title":"set_sitcpreg","text":"<p>SiTCP\u306e\u4e88\u7d04\u30ec\u30b8\u30b9\u30bf\u9818\u57df\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066SiTCP\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002 SiTCP\u306e\u8aac\u660e\u66f8\u3092\u3088\u304f\u8aad\u3093\u3067\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#show_laccp","title":"show_laccp","text":"<p>LACCP\u306e\u30ea\u30f3\u30af\u72b6\u6cc1\u3068\u3001\u81ea\u8eab\u306e\u6642\u523b\u30aa\u30d5\u30bb\u30c3\u30c8\u3092\u8abf\u3079\u308b\u6a5f\u80fd\u3067\u3059\u3002</p> <p><code>-- Link Up status --</code>\u306fLACCP\u306e\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u72b6\u614b\u3092\u793a\u3059\u30d3\u30c3\u30c8\u5217\u3067\u3059\u3002 \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u3088\u3063\u3066\u306f\u8907\u6570\u306eLACCP\u304c\u52d5\u3044\u3066\u3044\u308b\u306e\u3067\u3001\u5168\u30661\u5217\u306b\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u30d3\u30c3\u30c8\u4f4d\u7f6e\u304c\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u3068\u30dc\u30fc\u30c9\u4e0a\u306e\u4f4d\u7f6e\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u8a18\u8ff0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 1\u3067LACCP\u304c\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b\u4e8b\u3092\u793a\u3057\u307e\u3059\u3002</p> <p><code>-- My Offset --</code>\u306f\u305d\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u30bb\u30ab\u30f3\u30c0\u30eaLACCP\u306e\u60c5\u5831\u3092\u793a\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u53d7\u4fe1\u30dd\u30fc\u30c8\u3067\u3059\u3002 Heartbeat count offset\u306fMIKUMARI\u30d1\u30eb\u30b9\u306e\u5f80\u5fa9\u6642\u9593\u3092\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u306eunit interval \u7cbe\u5ea6\u3067\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u30d5\u30a1\u30a4\u30d0\u30fc\u304c\u9577\u304f\u306a\u308b\u3068\u5927\u304d\u304f\u306a\u308b\u6570\u5b57\u3067\u3059\u3002 Local fine offset\u3068LACCP fine offset\u306f1\u3064\u4e0a\u6d41\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u6700\u4e0a\u6d41\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5bfe\u3059\u308b\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u4f4d\u76f8\u5dee\u3092\u305d\u308c\u305d\u308c\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> <p><code>Partner IP address</code>\u306e\u9805\u76ee\u3067\u306f\u76f8\u624b\u5074\u306e\u30dc\u30fc\u30c9\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u3092\u30dd\u30fc\u30c8\u756a\u53f7\u3054\u3068\u306b\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"software/software/#show_mikumari","title":"show_mikumari","text":"<p>MIKUMARI\u30ea\u30f3\u30af\u306e\u72b6\u6cc1\u3092\u8a73\u7d30\u306b\u8abf\u3079\u308b\u305f\u3081\u306e\u5b9f\u884c\u4f53\u3067\u3059\u3002\u4f55\u304b\u554f\u984c\u304c\u3042\u308b\u6642\u306b\u4f7f\u3046\u4e8b\u304c\u591a\u3044\u3068\u601d\u3044\u307e\u3059\u3002</p> <p><code>-- Link Up Status --</code>\u3067\u306f\u7269\u7406\u5c64\uff08CBT\uff09\u3001\u30ea\u30f3\u30af\u5c64\uff08MIKUMARI\uff09\u3001\u6642\u523b\u540c\u671f\u5c64\uff08LACCP\uff09\u306e\u63a5\u7d9a\u72b6\u614b\u3092\u4e00\u89a7\u3067\u304d\u307e\u3059\u3002 \u9014\u4e2d\u307e\u3067\u306f\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b\u306e\u306b\u4e0a\u4f4d\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u30a2\u30c3\u30d7\u3057\u3066\u3044\u306a\u3044\u3068\u304d\u306f\u3001\u30d5\u30a1\u30a4\u30d0\u30fc\u306e\u629c\u304d\u5dee\u3057\u306a\u3069\u3092\u30c8\u30e9\u30a4\u3057\u3066\u307f\u308b\u3068\u3044\u3044\u3067\u3057\u3087\u3046\u3002</p>"},{"location":"software/software/#strdaq","title":"strdaq","text":"<p>TCP\u63a5\u7d9a\u3092\u884c\u3044\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002\u52d5\u4f5c\u78ba\u8a8d\u7528\u306e\u975e\u5e38\u306b\u7c21\u6613\u7684\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3042\u308a\u3001\u3053\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u79fb\u690d\u3057\u3066\u72ec\u81ea\u306eDAQ\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u4f5c\u308b\u4e8b\u306f\u63a8\u5968\u3057\u307e\u305b\u3093\u3002 \u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f<code>data</code>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>       [IP]          [RUN no.]\nstrdaq 192.168.10.16 1\n</code></pre> <p>\u4e0a\u8a18\u306e\u4f8b\u3067\u306frun1.dat\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c<code>data</code>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306b\u751f\u6210\u3055\u308c\u307e\u3059\u3002 \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6b62\u3081\u308b\u305f\u3081\u306b\u306f<code>Ctrl-C</code>\u3092\u62bc\u4e0b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#verify_mcs","title":"verify_mcs","text":"<p>SPI\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3057\u3066\u3001\u6bd4\u8f03\u5bfe\u8c61\u306eMCS\u30d5\u30a1\u30a4\u30eb\u3068\u4e00\u81f4\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 <code>flash_memory_programmer</code>\u306b\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u308b\u30d7\u30ed\u30bb\u30b9\u3067\u3059\u304c\u3001\u78ba\u8a8d\u3060\u3051\u3057\u305f\u3044\u6642\u306b\u4f7f\u3044\u307e\u3059\u3002</p>"},{"location":"software/software/#daq-data-taking","title":"DAQ data taking","text":"<p>\u9023\u7d9a\u8aad\u307f\u51fa\u3057DAQ\u3067\u306f\u30ed\u30b9\u30ec\u30b9\u3067\u30c7\u30fc\u30bf\u3092PC\u304c\u53d7\u3051\u53d6\u308b\u4e8b\u304c\u524d\u63d0\u306a\u306e\u3067\u3001\u30c8\u30ea\u30ac\u30fc\u578bDAQ\u306e\u3068\u304d\u3088\u308a\u3082\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u91cd\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u30bd\u30b1\u30c3\u30c8\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d7\u4fe1\u3001\u51e6\u7406\u3001\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u306f\u305d\u308c\u305e\u308c\u72ec\u7acb\u3057\u305f\u30d7\u30ed\u30bb\u30b9\u3067\u3042\u308b\u4e8b\u304c\u671b\u307e\u3057\u304f\u3001\u307e\u305f\u5404\u30d7\u30ed\u30bb\u30b9\u9593\u306fqueueing buffer\u3067\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u5fc5\u8981\u3067\u3059\u3002 \u3064\u307e\u308a\u3001\u305d\u308c\u306a\u308a\u306b\u3061\u3083\u3093\u3068\u8a2d\u8a08\u3055\u308c\u305f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u304c\u5fc5\u8981\u3067\u3059\u3002 <code>strdaq</code>\u5b9f\u884c\u4f53\u306f\u3053\u308c\u3089\u3092\u5168\u30661\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u5185\u3067\u884c\u3063\u3066\u3044\u307e\u3059\u3002strdaq\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f7f\u3063\u3066\u7269\u7406\u5b9f\u9a13\u3092\u884c\u3046\u4e8b\u306f\u5168\u304f\u63a8\u5968\u3057\u307e\u305b\u3093\u3002</p> <p>\u30a4\u30d9\u30f3\u30c8\u6bce\u306b\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3057\u3066\u3044\u305fHUL\u3068\u7570\u306a\u308a\u3001\u9023\u7d9a\u7684\u306b\u30c7\u30fc\u30bf\u304c\u8fd4\u3063\u3066\u304f\u308bAMANEQ\u3067\u306fDAQ\u8aad\u307f\u51fa\u3057\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u304b\u306a\u308a\u7c21\u7d20\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u5b9f\u969b\u306b\u30bd\u30fc\u30b9\u3092\u898b\u3066\u3082\u3089\u3046\u3068\u5206\u304b\u308a\u307e\u3059\u304c\u3001TCP\u63a5\u7d9a\u3092\u78ba\u7acb\u3057\u3066\u3001\u30bd\u30b1\u30c3\u30c8\u3092\u8aad\u3093\u3067\u3001\u30c7\u30fc\u30bf\u3092\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002 \u4ed6\u306b\u306f\u4f55\u3082\u3057\u3066\u3044\u307e\u305b\u3093\u3002 \u305d\u306e\u305f\u3081\u3001\u308f\u3056\u308f\u3056<code>strdaq</code>\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f7f\u3046\u5fc5\u8981\u6027\u3082\u8584\u304f\u3001\u6b63\u76f4\u306a\u3068\u3053\u308d\u7c21\u6613\u7684\u306a\u8a66\u9a13\u3067\u3042\u308c\u3070<code>nc</code>\u30b3\u30de\u30f3\u30c9\u3092\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u305f\u65b9\u304c\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002</p>"},{"location":"software/software/#amaneq-soft","title":"amaneq-soft","text":"<p>Github repository</p> <p>hul-common-lib\u306b\u5171\u901a\u5316\u3067\u304d\u306a\u304b\u3063\u305f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u56fa\u6709\u306e\u6a5f\u80fd\u3092\u307e\u3068\u3081\u305f\u3082\u306e\u3067\u3059\u3002 \u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u305f\u3081\u306b\u306f\u5148\u306bhul-common-lib\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"software/software/#str-lrtdc","title":"Str-LRTDC","text":""},{"location":"software/software/#set_tdcmask","title":"set_tdcmask","text":"<p>Str-LRTDC\u306fTDC\u30de\u30b9\u30af\u3092\u30bb\u30c3\u30c8\u3059\u308b\u305f\u3081\u306e\u30ec\u30b8\u30b9\u30bf\u304c5\u3064\u3082\u3042\u308a\u3001\u500b\u5225\u306b\u30bb\u30c3\u30c8\u3059\u308b\u3068\u5927\u5909\u306a\u306e\u3067\u307e\u3068\u3081\u3066\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306e\u5b9f\u884c\u4f53\u3067\u3059\u3002 \u4f8b\u3048\u3070\u300116-31ch\u306864-79ch\u306b\u30de\u30b9\u30af\u3092\u8a2d\u5b9a\u3057\u305f\u3044\u5834\u5408\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>set_tdcmask 192.168.10.16 0xffff0000 0x0 0xffff 0x0 0x0\n</code></pre>"},{"location":"software/software/#str-hrtdc","title":"Str-HRTDC","text":"<p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5b9f\u884c\u4f53\u306b\u306f<code>mzn</code>\u3068\u3044\u3046\u8868\u793a\u304c\u3064\u3044\u3066\u3044\u307e\u3059\u3002 \u3069\u306e\u30ab\u30fc\u30c9\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306e\u304b\u6307\u5b9a\u3059\u308b\u5f15\u6570\u304c\u3042\u308b\u306e\u3067\u3001\u5fd8\u308c\u305a\u306b\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#write_mzn_register","title":"write_mzn_register","text":"<p>SiTCP\u306eRBCP\u7d4c\u7531\u3067\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306elocal bus module\u3078\u30ec\u30b8\u30b9\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u305f\u3081\u306e\u5b9f\u884c\u4f53\u3067\u3059\u3002 Bus Bridge Primary\u7d4c\u7531\u3057\u3066\u30e1\u30b6\u30cb\u30f3\u4e0a\u306elocal bus\u3078\u30d6\u30ea\u30c3\u30b8\u3059\u308b\u4e00\u9023\u306e\u624b\u7d9a\u304d\u304c\u307e\u3068\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002 \u5185\u90e8\u7684\u306b\u306fwrite_register\u304c\u8907\u6570\u56de\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>IP\u30a2\u30c9\u30ec\u30b9192.168.10.10\u306e\u4e0a\u5074\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306b\u5bfe\u3057\u3066\u3001\u30ed\u30fc\u30ab\u30eb\u30a2\u30c9\u30ec\u30b90x4010\u30780x1A\u3068\u3044\u3046\u5024\u30922-byte\u5e45\u3067\u66f8\u304d\u8fbc\u3080\u4f8b\u3067\u3059\u3002\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306e\u6307\u5b9a (up/low/both)\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p> <pre><code>                   [IP]          [Mzn]   [Addr]    [val] [bytes]\nwrite_mzn_register 192.168.10.10 up      0x4010    0x1A  2\n</code></pre>"},{"location":"software/software/#read_mzn_register","title":"read_mzn_register","text":"<p>SiTCP\u306eRBCP\u7d4c\u7531\u3067\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306elocal bus module\u304b\u3089\u30ec\u30b8\u30b9\u30bf\u5024\u3092\u8aad\u307f\u51fa\u3059\u305f\u3081\u306e\u5b9f\u884c\u4f53\u3067\u3059\u3002 Bus Bridge Primary\u7d4c\u7531\u3057\u3066\u30e1\u30b6\u30cb\u30f3\u4e0a\u306elocal bus\u3078\u30d6\u30ea\u30c3\u30b8\u3059\u308b\u4e00\u9023\u306e\u624b\u7d9a\u304d\u304c\u307e\u3068\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002 \u5185\u90e8\u7684\u306b\u306fwrite_register\u3068read_register\u304c\u8907\u6570\u56de\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>IP\u30a2\u30c9\u30ec\u30b9192.168.10.10\u306e\u4e0a\u5074\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306b\u5bfe\u3057\u3066\u3001\u30ed\u30fc\u30ab\u30eb\u30a2\u30c9\u30ec\u30b90x4010\u304b\u30892-byte\u5e45\u3067\u5024\u3092\u8aad\u307f\u51fa\u3059\u4f8b\u3067\u3059\u3002\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306e\u6307\u5b9a (up/low/both)\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p> <pre><code>                  [IP]          [Mzn]   [Addr]    [bytes]\nread_mzn_register 192.168.10.10 up      0x4010    2\n</code></pre>"},{"location":"software/software/#gen_mzn_userreset","title":"gen_mzn_userreset","text":"<p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306eLocal Bus Controller\u304b\u3089BCT\u30ea\u30bb\u30c3\u30c8\u3092\u767a\u884c\u3057\u307e\u3059\u3002 FPGA\u5185\u90e8\u306e\u591a\u304f\u306e\u30ed\u30fc\u30ab\u30eb\u30d0\u30b9\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u308b\u306e\u3067\u30ec\u30b8\u30b9\u30bf\u306e\u518d\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#get_version_hrtdc","title":"get_version_hrtdc","text":"<p>Str-HRTDC Base\u304a\u3088\u3073Mezzanine Str-HRTDC\u304b\u3089\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 AMANEQ\u3068mezzanine card\u306e\u4e21\u65b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002</p>"},{"location":"software/software/#initialize","title":"initialize","text":"<p>DDR Transmitter/Receiver\u306e\u521d\u671f\u5316\u3068tapped-delay line\u306ecalibration LUT\u306e\u6700\u521d\u306e\u30da\u30fc\u30b8\u306e\u6e96\u5099\u3092\u884c\u3046\u5b9f\u884c\u4f53\u3067\u3059\u3002 Str-HRTDC\u3078\u96fb\u6e90\u3092\u6295\u5165\u3057\u305f\u3042\u3068\u3084\u30e2\u30b8\u30e5\u30fc\u30eb\u30ea\u30bb\u30c3\u30c8\u5f8c\u306b1\u5ea6\u3060\u3051\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4e00\u5ea6\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5bfe\u3057\u3066\u4f55\u5ea6\u3082\u5b9f\u884c\u3059\u308b\u4e8b\u306f\u975e\u63a8\u5968\u3067\u3059\u3002</p> <pre><code>#D : DDR initialize succeeded (MZN-U/D)\n#D LUT is ready! (MIF-U/D)\n</code></pre> <p>\u4e0a\u8a18\u306e\u3088\u3046\u306bDDR\u306e\u521d\u671f\u5316\u3068LUT\u304c\u6e96\u5099\u3067\u304d\u305f\u3053\u3068\u3092\u793a\u3059\u8868\u793a\u304c\u51fa\u308c\u3070\u6210\u529f\u3067\u3059\u3002 \u539f\u5247\u5931\u6557\u3059\u308b\u4e8b\u306f\u306a\u3044\u3067\u3059\u3002\u305f\u307e\u306b\u5931\u6557\u3059\u308b\u4e8b\u304c\u3042\u308b\u5834\u5408\u3001\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u306e\u63a5\u89e6\u306e\u554f\u984c\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002 \u4e00\u5ea6\u30ab\u30fc\u30c9\u3092\u5916\u3057\u3066\u518d\u5ea6\u4ed8\u3051\u306a\u304a\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#inject_mzn_sem_error","title":"inject_mzn_sem_error","text":"<p>\u958b\u767a\u8005\u5411\u3051\u306e\u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\u3067\u3059\u3002\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306eSEM\u3092\u901a\u3058\u3066\u4efb\u610f\u306e\u9818\u57df\u306b\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u308b\u305f\u3081\u306b\u4f7f\u3044\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u5411\u3051\u306e\u6a5f\u80fd\u3067\u306f\u306a\u3044\u306e\u3067\u3053\u3053\u3067\u306f\u8aac\u660e\u3092\u7701\u7565\u3057\u307e\u3059\u3002</p>"},{"location":"software/software/#read_mzn_scr","title":"read_mzn_scr","text":"<p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306e\u30b9\u30b1\u30fc\u30e9\u30fc\u3092\u8aad\u307f\u51fa\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3078\u4fdd\u5b58\u3059\u308b\u5b9f\u884c\u4f53\u3067\u3059\u3002 \u8aad\u307f\u51fa\u3057\u30d0\u30a4\u30c8\u6570\u306e\u53d6\u5f97\u3001FIFO\u304c\u7a7a\u3067\u3042\u308b\u4e8b\u306e\u78ba\u8a8d\uff08\u304a\u3088\u3073FIFO\u30ea\u30bb\u30c3\u30c8\uff09\u3001\u30e9\u30c3\u30c1\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u9001\u4fe1\u3001FIFO\u8aad\u307f\u51fa\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u51fa\u3057\u3001\u306e\u4e00\u9023\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u6307\u5b9a\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u306e\u30dc\u30fc\u30c9\u304b\u3089\u8aad\u307f\u51fa\u3057\u305f\u7d50\u679c\u3092scaler.dat\u3078\u4fdd\u5b58\u3057\u307e\u3059\u3002\u5f15\u6570\u306e\u6570\u304c3\u3064\u3060\u3068\u4e0a\u66f8\u304d\u30e2\u30fc\u30c9\u30014\u3064\u3060\u3068\u8ffd\u8a18\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\u8ffd\u8a18\u30e2\u30fc\u30c9\u3067\u306f\u65e2\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u6642\u3001\u524d\u306e\u30c7\u30fc\u30bf\u3092\u6d88\u3055\u305a\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002</p> <pre><code>read_mzn_scr 192.168.10.10 up scaler.dat      (Overwrite mode)\nread_mzn_scr 192.168.10.10 up scaler.dat 1    (Append mode)\n</code></pre> <p>\u7e70\u308a\u8fd4\u3057\u30b9\u30b1\u30fc\u30e9\u30fc\u8aad\u307f\u51fa\u3057\u3092\u3059\u308b\u5834\u5408\u3001\u3053\u306e\u5b9f\u884c\u4f53\u3092\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u4f55\u5ea6\u3082\u547c\u3073\u51fa\u3057\u3066\u3082\u3042\u307e\u308a\u9ad8\u3044\u5468\u6ce2\u6570\u3067\u8aad\u3081\u307e\u305b\u3093\u3002 \u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u304b\u3055\u3093\u3060\u308a\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u5185\u3067\u6bce\u56de\u8aad\u307f\u51fa\u3057\u30d0\u30a4\u30c8\u6570\u3092\u78ba\u8a8d\u3057\u3066\u3044\u305f\u308a\u3059\u308b\u305f\u3081\u3067\u3059\u3002 \u9ad8\u901f\u306b\u4f55\u5ea6\u3082\u8aad\u307f\u51fa\u3057\u305f\u3044\u5834\u5408\u3001\u3053\u306e\u5b9f\u884c\u4f53\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53c2\u8003\u306b\u3057\u3066\u81ea\u5206\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#read_sem_1","title":"read_sem","text":"<p>SEM\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066SEU\u3092\u4fee\u6b63\u3057\u305f\u56de\u6570\u3001\u4fee\u6b63\u4e0d\u53ef\u80fd\u306a\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u304b\u306e\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002 \u653e\u5c04\u7dda\u304c\u6c17\u306b\u306a\u308b\u74b0\u5883\u3067\u306f\u5b9a\u671f\u7684\u306b\u8aad\u307f\u51fa\u3057\u3066\u3001\u4fee\u6b63\u4e0d\u80fd\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3044\u306a\u3044\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3082\u3057\u3001<code>uncorrectable_error</code>\u30d5\u30e9\u30b0\u304c\u7acb\u3063\u3066\u3044\u305f\u3089FPGA\u3092\u518d\u30b3\u30f3\u30d5\u30a3\u30b0\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#read_mzn_xadc","title":"read_mzn_xadc","text":"<p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306eXADC\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066FPGA\u306e\u6e29\u5ea6\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002 HR-TDC\u306e\u6027\u80fd\u3092\u640d\u306a\u3046\u305f\u3081\u96fb\u6e90\u96fb\u5727\u306e\u53d6\u5f97\u306f\u884c\u3044\u307e\u305b\u3093\u3002</p>"},{"location":"software/software/#reconfig_mzn_fpga","title":"reconfig_mzn_fpga","text":"<p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306eSPI\u30d5\u30e9\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u304b\u3089FPGA\u3092\u518d\u30b3\u30f3\u30d5\u30a3\u30b0\u3059\u308b\u547d\u4ee4\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002FPGA\u304c\u5373\u5ea7\u306b\u30c0\u30a6\u30f3\u3059\u308b\u306e\u3067RBCP\u901a\u4fe1\u306e\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u304c\u767a\u751f\u3057\u307e\u3059\u304c\u3001\u6b63\u5e38\u306a\u52d5\u4f5c\u3067\u3059\u3002 \u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306e\u3060\u3051\u30ea\u30b3\u30f3\u30d5\u30a3\u30b0\u3059\u308b\u306e\u3067AMANEQ\u5074\u306eFPGA\u306e\u8a2d\u5b9a\u304c\u53d6\u308a\u6b8b\u3055\u308c\u307e\u3059\u3002 \u5168\u3066\u306eFPGA\u3092\u30ea\u30bb\u30c3\u30c8\u304b\u3089initialize\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"software/software/#reset_mzn_sem","title":"reset_mzn_sem","text":"<p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306eSEM\u306e\u72b6\u614b\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002SEU\u3092\u4fee\u6b63\u305f\u56de\u6570\u30820\u306b\u623b\u308a\u307e\u3059\u3002</p>"},{"location":"software/software/#set_tdcmask_1","title":"set_tdcmask","text":"<p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u3078TDC\u30de\u30b9\u30af\u3092\u8a2d\u5b9a\u3059\u308b\u5b9f\u884c\u4f53\u3067\u3059\u3002 \u4f8b\u3048\u3070\u300116-31ch\u306832-47ach\u306b\u30de\u30b9\u30af\u3092\u8a2d\u5b9a\u3057\u305f\u3044\u5834\u5408\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>set_tdcmask 192.168.10.10 both 0xffff0000 0xffff\n</code></pre>"},{"location":"software/software/#show_mzn_laccp","title":"show_mzn_laccp","text":"<p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306eLACCP\u306e\u30ea\u30f3\u30af\u72b6\u6cc1\u3068\u3001\u81ea\u8eab\u306e\u6642\u523b\u30aa\u30d5\u30bb\u30c3\u30c8\u3092\u8abf\u3079\u308b\u6a5f\u80fd\u3067\u3059\u3002</p> <p><code>-- Link Up status --</code>\u306fLACCP\u306e\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u72b6\u614b\u3092\u793a\u3059\u30d3\u30c3\u30c8\u5217\u3067\u3059\u3002 \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306b\u3088\u3063\u3066\u306f\u8907\u6570\u306eLACCP\u304c\u52d5\u3044\u3066\u3044\u308b\u306e\u3067\u3001\u5168\u30661\u5217\u306b\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u30d3\u30c3\u30c8\u4f4d\u7f6e\u304c\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u3068\u30dc\u30fc\u30c9\u4e0a\u306e\u4f4d\u7f6e\u306f\u5404\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u8a18\u8ff0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 1\u3067LACCP\u304c\u30ea\u30f3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b\u4e8b\u3092\u793a\u3057\u307e\u3059\u3002</p> <p><code>-- My Offset --</code>\u306f\u305d\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u30bb\u30ab\u30f3\u30c0\u30eaLACCP\u306e\u60c5\u5831\u3092\u793a\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u53d7\u4fe1\u30dd\u30fc\u30c8\u3067\u3059\u3002 Heartbeat count offset\u306fMIKUMARI\u30d1\u30eb\u30b9\u306e\u5f80\u5fa9\u6642\u9593\u3092\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u306eunit interval \u7cbe\u5ea6\u3067\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u30d5\u30a1\u30a4\u30d0\u30fc\u304c\u9577\u304f\u306a\u308b\u3068\u5927\u304d\u304f\u306a\u308b\u6570\u5b57\u3067\u3059\u3002 Local fine offset\u3068LACCP fine offset\u306f1\u3064\u4e0a\u6d41\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u6700\u4e0a\u6d41\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5bfe\u3059\u308b\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u4f4d\u76f8\u5dee\u3092\u305d\u308c\u305d\u308c\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> <p><code>Partner IP address</code>\u306e\u9805\u76ee\u3067\u306f\u76f8\u624b\u5074\u306e\u30dc\u30fc\u30c9\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u3092\u30dd\u30fc\u30c8\u756a\u53f7\u3054\u3068\u306b\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"software/software/#show_mzn_mikumari","title":"show_mzn_mikumari","text":"<p>\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\u4e0a\u306eFPGA\u306eMIKUMARI\u30ea\u30f3\u30af\u306e\u72b6\u6cc1\u3092\u8a73\u7d30\u306b\u8abf\u3079\u308b\u305f\u3081\u306e\u5b9f\u884c\u4f53\u3067\u3059\u3002\u4f55\u304b\u554f\u984c\u304c\u3042\u308b\u6642\u306b\u4f7f\u3046\u4e8b\u304c\u591a\u3044\u3068\u601d\u3044\u307e\u3059\u3002</p> <p><code>-- Link Up Status --</code>\u3067\u306f\u7269\u7406\u5c64\uff08CBT\uff09\u3001\u30ea\u30f3\u30af\u5c64\uff08MIKUMARI\uff09\u3001\u6642\u523b\u540c\u671f\u5c64\uff08LACCP\uff09\u306e\u63a5\u7d9a\u72b6\u614b\u3092\u4e00\u89a7\u3067\u304d\u307e\u3059\u3002 \u9014\u4e2d\u307e\u3067\u306f\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b\u306e\u306b\u4e0a\u4f4d\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u30a2\u30c3\u30d7\u3057\u3066\u3044\u306a\u3044\u3068\u304d\u306f\u3001\u30d5\u30a1\u30a4\u30d0\u30fc\u306e\u629c\u304d\u5dee\u3057\u306a\u3069\u3092\u30c8\u30e9\u30a4\u3057\u3066\u307f\u308b\u3068\u3044\u3044\u3067\u3057\u3087\u3046\u3002</p>"},{"location":"synchronization/sync/","title":"Synchronization","text":"<p>\u9023\u7d9a\u8aad\u307f\u51fa\u3057\u306e\u305f\u3081\u306b\u958b\u767a\u3055\u308c\u305fAMANEQ\u3067\u306f\u6642\u523b\u540c\u671f\u304c\u975e\u5e38\u306b\u91cd\u8981\u306a\u6a5f\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u9ad8\u7cbe\u5ea6\u6642\u523b\u540c\u671f\u306e\u305f\u3081\u306b\u306f\u3001\u307e\u305a\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u5206\u914d\u3057\u5468\u6ce2\u6570\u540c\u671f\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u6642\u540c\u6642\u306b\u540c\u671f\u30c7\u30fc\u30bf\u306e\u3084\u308a\u53d6\u308a\u3092\u884c\u3044\u305f\u304f\u306a\u308b\u305f\u3081\u3001\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3068\u30c7\u30fc\u30bf\u306e\u4e21\u65b9\u3092\u9001\u4fe1\u53ef\u80fd\u306a\u30ea\u30f3\u30af\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002 AMANEQ\u3001CIRASAME\u3001RAYRAW\u306a\u3069\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u306f\u30ea\u30f3\u30af\u5c64\u30d7\u30ed\u30c8\u30b3\u30eb\u306bMIKUMARI link protocol\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002MIKUMARI\u306fpulse-width-modulation\u306e\u4e00\u7a2e\u3067\u3042\u308bClock-Duty-Cycle-Modulation (CDCM)\u3092\u7269\u7406\u5c64\u306e\u4fe1\u53f7\u5909\u8abf\u65b9\u5f0f\u306b\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u305d\u306e\u4e0a\u306b\u30c7\u30fc\u30bf\u3092\u4e57\u305b\u308b\u4e8b\u3067\u3001MIKUMARI link\u306f\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u5468\u6ce2\u6570\u540c\u671f\u3068\u30ea\u30f3\u30af\u5c64\u306e\u901a\u4fe1\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <p>\u6642\u523b\u540c\u671f\u306fMIKUMARI protocol\u306e\u4e0a\u4f4d\u306bLocal Area Common Clock Protocol (LACCP)\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3057\u307e\u3059\u3002 LACCP\u306f\u72ec\u81ea\u306e\u6642\u523b\u30c9\u30e1\u30a4\u30f3\u3092\u5b9a\u7fa9\u3057\u3001\u307e\u305f\u81ea\u8eab\u306e\u6642\u523b\u3092\u30af\u30ed\u30c3\u30af\u5206\u914d\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306eroot module\u3078\u5408\u308f\u305b\u307e\u3059\u3002 \u3053\u308c\u30892\u3064\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5229\u7528\u3057\u3066\u3001\u30dc\u30fc\u30c9\u9593\u306e\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u5468\u6ce2\u6570\u3068\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u5024\u3092\u63c3\u3048\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u6642\u523b\u540c\u671f\u306e\u6982\u8981\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u53c2\u8003\u6587\u732e\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>CDCM<ul> <li>D. Calvet, IEEE TNS, vol. 67, no. 8, 1912-1919 (2020), doi: TNS.2020.3006698.</li> </ul> </li> <li>MIKUMARI link<ul> <li>R. Honda, IEEE TNS, vol. 70, no. 6, 1102-1109 (2023), doi: TNS.2023.3265698.</li> <li>User Guide</li> <li>Source</li> </ul> </li> </ul>"},{"location":"synchronization/sync/#mikumari-link","title":"MIKUMARI link","text":"Figure\u00a01: Simplified block diagram of MIKUMARI link <p>MIKUMARI link\u306b\u306f\u57fa\u6e96\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u9001\u4fe1\u3059\u308b\u30d7\u30e9\u30a4\u30de\u30ea\u3068\u3001\u5909\u8abf\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304b\u3089\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u5fa9\u5143\u3059\u308b\u30bb\u30ab\u30f3\u30c0\u30ea\u304c\u5b58\u5728\u307e\u3059\u3002 \u30d7\u30e9\u30a4\u30de\u30ea\u5074\u306f\u57fa\u6e96\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304b\u3089\u5909\u8abf\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u751f\u6210\u3057\u9001\u4fe1\u3057\u307e\u3059\u3002\u30bb\u30ab\u30f3\u30c0\u30ea\u306f\u3053\u306e\u5909\u8abf\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u304b\u308950%\u30c7\u30e5\u30fc\u30c6\u30a3\u30b5\u30a4\u30af\u30eb\u306e\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u5fa9\u5143\u3059\u308b\u4e8b\u3067\u5468\u6ce2\u6570\u540c\u671f\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u56f3\u4e2d\u5fc3\u306b\u898b\u3048\u308b\u7acb\u4e0b\u308a\u306b\u8907\u6570\u30d1\u30bf\u30fc\u30f3\u304c\u5b58\u5728\u3059\u308b\u4fe1\u53f7\u304cCDCM\u306e\u5909\u8abf\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3067\u3059\u3002MIKUMARI link\u306f\u30c7\u30fc\u30bf\u901a\u4fe1\u3092\u884c\u3046\u5168\u4e8c\u91cd\u30c8\u30e9\u30f3\u30b7\u30fc\u30d0\u306e\u305f\u3081\u3001\u30bb\u30ab\u30f3\u30c0\u30ea\u304b\u3089\u30d7\u30e9\u30a4\u30de\u30ea\u65b9\u5411\u306b\u3082\u540c\u3058\u304f\u5909\u8abf\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002 \u3053\u306e\u3088\u3046\u306bMIKUMARI link\u306e\u91cd\u8981\u306a\u5f79\u5272\u306f\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u5468\u6ce2\u6570\u540c\u671f\u3092\u884c\u3046\u4e8b\u3067\u3059\u3002 \u5fa9\u5143\u3092\u884c\u3046\u969b\u3001\u30bb\u30ab\u30f3\u30c0\u30ea\u5074\u306f\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u306e\u4f4d\u76f8\u95a2\u4fc2\u306b\u306f\u7121\u9813\u7740\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u30d7\u30e9\u30a4\u30de\u30ea\u3068\u30bb\u30ab\u30f3\u30c0\u30ea\u306e\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u9593\u306b\u306f\u30d5\u30a1\u30a4\u30d0\u30fc\u9577\u306b\u4f9d\u5b58\u3057\u305f\u4f4d\u76f8\u5dee\u304c\u51fa\u73fe\u3057\u307e\u3059\u3002 \u3053\u306e\u4f4d\u76f8\u5dee\u304cLACCP\u3067\u6642\u523b\u540c\u671f\u3092\u884c\u3046\u969b\u306b\u91cd\u8981\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>CDCM\u306e\u7279\u5fb4\u306fFPGA\u306emulti-gigabit transceiver (MGT)\u3092\u7528\u3044\u305a\u306b\u30c8\u30e9\u30f3\u30b7\u30fc\u30d0\u3092\u5b9f\u88c5\u3067\u304d\u308b\u4e8b\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u3053\u308c\u3089\u306e\u56de\u8def\u3067\u306f\u30af\u30ed\u30c3\u30af\u540c\u671f\u30dd\u30fc\u30c8\u306fFPGA\u306e\u6c4e\u7528\u30d4\u30f3\u3092\u7528\u3044\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u7279\u6027\u3092\u3044\u304b\u3057\u3066\u3001\u5149\u30d5\u30a1\u30a4\u30d0\u30fc\u3067\u63a5\u7d9a\u3055\u308c\u305f\u30dc\u30fc\u30c9\u9593\u540c\u671f\u3060\u3051\u3067\u306a\u304f\u3001\u89aa\u30dc\u30fc\u30c9\u3068\u5b50\u30dc\u30fc\u30c9\u4e0a\u306eFPGA\u9593\uff08\u4f8b\u3048\u3070AMANQE\u3068\u30e1\u30b6\u30cb\u30f3\u30ab\u30fc\u30c9\uff09\u306e\u540c\u671f\u306b\u3082MIKUMARI link\u3092\u7528\u3044\u307e\u3059\u3002</p> Figure\u00a02: Demonstration of pulse transfer by the MIKUMARI protocol <p>MIKUMARI protocol\u306b\u306f\u30d5\u30ec\u30fc\u30e0\u3092\u7528\u3044\u305f\u30c7\u30fc\u30bf\u901a\u4fe1\u306e\u6a5f\u80fd\u304c\u5b58\u5728\u3057\u307e\u3059\u304c\u3001\u305d\u308c\u4ee5\u5916\u306b\u56fa\u5b9a\u9045\u5ef6\u3067\u540c\u671f\u30d1\u30eb\u30b9\u3092\u9001\u4fe1\u3059\u308b\u3068\u3044\u3046\u6a5f\u80fd\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002 \u540c\u671f\u30d1\u30eb\u30b9\u3068\u306f\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u3067\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3055\u308c\u305f\u5f8c\u306e\u30d1\u30eb\u30b9\u4fe1\u53f7\u3067\u3059\u3002 \u56f3\u306f\u30d1\u30eb\u30b9\u9001\u4fe1\u306e\u69d8\u5b50\u306e\u30aa\u30b7\u30ed\u30b9\u30b3\u30fc\u30d7\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3067\u3059\u3002\u4e0a\u6bb5\u306e\u4fe1\u53f7\u306f\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3001\u4e2d\u6bb5\u306f\u30d7\u30e9\u30a4\u30de\u30ea\u5074\u304c\u9001\u4fe1\u3059\u308b\u30d1\u30eb\u30b9\u3001\u4e0b\u6bb5\u304c\u30bb\u30ab\u30f3\u30c0\u30ea\u5074\u3067\u5fa9\u5143\u3057\u305f\u30d1\u30eb\u30b9\u3067\u3059\u3002 \u56f3\u306e\u30ed\u30b8\u30c3\u30af\u4fe1\u53f7\u306fNIM\u30ec\u30d9\u30eb\u30ed\u30b8\u30c3\u30af\u306e\u305f\u3081\u8ad6\u7406\u304c\u53cd\u8ee2\u3057\u3066\u3044\u307e\u3059\u3002 \u30bd\u30fc\u30b9\u30d1\u30eb\u30b9\u3068\u5fa9\u5143\u30d1\u30eb\u30b9\u306e\u9593\u3067\u7acb\u3061\u4e0a\u304c\u308a\u30a8\u30c3\u30b8\u304c\u540c\u671f\u3057\u3066\u304a\u308a\u3001\u56fa\u5b9a\u9045\u5ef6\u3067\u540c\u671f\u30d1\u30eb\u30b9\u304c\u9001\u4fe1\u3067\u6765\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002 \u975e\u540c\u671f\u30d1\u30eb\u30b9\u3092\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u9001\u4fe1\u3059\u308b\u5834\u5408\u3001\u4e00\u5ea6\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u3067\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u3001\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u5468\u671f\u3067\u30bf\u30a4\u30df\u30f3\u30b0\u304c\u91cf\u5b50\u5316\u3055\u308c\u307e\u3059\u3002 \u305d\u306e\u305f\u3081\u3001\u975e\u540c\u671f\u5165\u529b\u306e\u30bd\u30fc\u30b9\u30d1\u30eb\u30b9\u3068\u5fa9\u5143\u30d1\u30eb\u30b9\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u6bd4\u8f03\u3059\u308b\u3068\u3001\u304a\u3088\u305d\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u5468\u671f\u3067\u5206\u5e03\u3057\u307e\u3059\u3002</p>"},{"location":"synchronization/sync/#laccp","title":"LACCP","text":"<p>LACCP\u306e\u4ed5\u4e8b\u306f\u6642\u523b\u3092\u5b9a\u7fa9\u3057\u3001\u305d\u308c\u3092root module\u3078\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3059\u3002 \u6642\u523b\u5b9a\u7fa9\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30ab\u30a6\u30f3\u30bf\u30fc\u3068\u547c\u3070\u308c\u308b16-bit\u30ab\u30a6\u30f3\u30bf\u30fc\u3092\u5143\u306b\u3057\u3066\u884c\u308f\u308c\u3001\u30ab\u30a6\u30f3\u30bf\u30fc\u5024\u3092\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3068\u3057\u3066DAQ\u30c7\u30fc\u30bf\u306b\u4ed8\u4e0e\u3057\u307e\u3059\u6b21\u306e\u66f4\u65b0\u3067\u3053\u306e\u6a5f\u80fd\u306f\u5ec3\u6b62\u3055\u308c\u308b\u4e88\u5b9a\u3067\u3059 \u305d\u306e\u305f\u3081\u3001\u5404\u30c7\u30fc\u30bf\u304c\u6301\u3064\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u9577\u306f16-bit\u3067\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30ab\u30a6\u30f3\u30bf\u30fc\u306f\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3067\u99c6\u52d5\u3055\u308c\u308b\u30d5\u30ea\u30fc\u30e9\u30f3\u30ab\u30a6\u30f3\u30bf\u3067\u3059\u3002125 MHz\u306e\u30af\u30ed\u30c3\u30af\u3067\u99c6\u52d5\u3057\u305f\u5834\u5408\u30011\u30ab\u30a6\u30f3\u30c8\u5e458 ns\u3067\u4e00\u5468\u306b\u7d04524 us\u304b\u304b\u308a\u307e\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30ab\u30a6\u30f3\u30bf\u30fc\u304c\u30ad\u30e3\u30ea\u30fc\u30aa\u30fc\u30d0\u30fc\u3059\u308b\u969b\u306b\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u4fe1\u53f7\u3068\u8a00\u3046\u5468\u671f\u7684\u306a\u4fe1\u53f7\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002 \u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u4fe1\u53f7\u3067\u533a\u5207\u3089\u308c\u305f\u6642\u9593\u30d5\u30ec\u30fc\u30e0\u306e\u4e8b\u3092\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u3068\u547c\u3073\u307e\u3059\u3002\u3053\u306e\u30d5\u30ec\u30fc\u30e0\u306b\u306f24-bit\u9577\u306e\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u304a\u308a\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30ab\u30a6\u30f3\u30bf\u30fc\u3068\u5408\u308f\u305b\u306624+16-bit\u9577\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u5b9a\u7fa9\u3067\u304d\u3001\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u5468\u6ce2\u6570\u304c125 MHz\u306e\u5834\u5408\u4e00\u5468\u306b\u7d042.4\u6642\u9593\u304b\u304b\u308a\u307e\u3059\u3002 LACCP\u304c\u5b9a\u7fa9\u3059\u308b\u6642\u523b\u306fDAQ\u6a5f\u80fd\u3068\u306f\u72ec\u7acb\u3067\u3059\u3002DAQ\u6a5f\u80fd\u304c\u8d70\u3063\u3066</p> <p>LACCP\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30bf\u30a4\u30df\u30f3\u30b0\u3068\u30d5\u30ec\u30fc\u30e0\u756a\u53f7\u3092FPGA\u9593\u3067\u5408\u308f\u305b\u3001\u6642\u523b\u540c\u671f\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 DAQ\u6a5f\u80fd\u306b\u3068\u3063\u3066\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u304c\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u69cb\u9020\u306e\u6700\u5c0f\u5358\u4f4d\u3067\u3059\u3002</p> <p>\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u306fDAQ\u30b9\u30c6\u30fc\u30c8\u3092\u6709\u3057\u3066\u304a\u308a\u3001RUNNING\u3068IDLE\u306e2\u72b6\u614b\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002 RUNNING\u3067DAQ\u6a5f\u80fd\u3092ON\u306b\u3057\u3066\u3001\u30c7\u30fc\u30bf\u9001\u4fe1\u3092\u884c\u3044\u307e\u3059\u3002 DAQ\u30b9\u30c6\u30fc\u30c8\u306e\u5206\u914d\u3082LACCP\u306e\u4ed5\u4e8b\u3067\u3059\u3002</p> Figure\u00a03: Synchronization scheme of LACCP. <p>\u4ee5\u4e0a\u306e\u4e8b\u3092\u307e\u3068\u3081\u308b\u3068\u56f3\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 MIKUMARI\u3068LACCP\u306e\u30af\u30ed\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b\u5074\u304c\u30d7\u30e9\u30a4\u30de\u30ea\u3001\u5fa9\u5143\u3057\u3066\u540c\u671f\u3059\u308b\u65b9\u304c\u30bb\u30ab\u30f3\u30c0\u30ea\u3067\u3059\u3002 \u540c\u671f\u306f\u5e38\u306b\u30d7\u30e9\u30a4\u30de\u30ea\u3068\u30bb\u30ab\u30f3\u30c0\u30ea\u9593\u306e1\u5bfe1\u3067\u884c\u308f\u308c\u307e\u3059\u3002 \u305d\u306eFPGA\u304c\u30af\u30ed\u30c3\u30af\u5206\u914d\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u9802\u70b9\u306b\u3042\u308bFPGA\u3067\u306a\u304f\u3068\u3082\u3001\u5e38\u306b\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u3092\u9001\u4fe1\u3059\u308b\u5074\u304c\u30d7\u30e9\u30a4\u30de\u30ea\u3067\u3059\u3002 \u3053\u3053\u3067\u554f\u984c\u3068\u306a\u308b\u306e\u304c\u3001\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u9593\u306b\u3042\u308b\u4f4d\u76f8\u5dee\u3067\u3059\u3002 \u3059\u3067\u306b\u8ff0\u3079\u305f\u3088\u3046\u306bMIKUMARI\u3067\u306f\u30af\u30ed\u30c3\u30af\u5fa9\u5143\u3092\u884c\u3046\u6642\u306b\u4f4d\u76f8\u95a2\u4fc2\u306b\u7121\u9813\u7740\u3067\u3042\u308b\u305f\u3081\u3001\u30d5\u30a1\u30a4\u30d0\u30fc\u9577\u306b\u4f9d\u5b58\u3057\u3066\u4f4d\u76f8\u5dee\u304c\u51fa\u307e\u3059\u3002 LACCP\u306b\u3088\u308b\u540c\u671f\u306f\u30d7\u30e9\u30a4\u30de\u30ea-\u30bb\u30ab\u30f3\u30c0\u30ea\u9593\u306e\u540c\u671f\u306e\u7e70\u308a\u8fd4\u3057\u3067\u3042\u308b\u305f\u3081\u3001\u30dc\u30fc\u30c9\u3092\u8907\u6570\u76f4\u5217\u306b\u63a5\u7d9a\u3057\u305f\u5834\u5408\u3001\u4f4d\u76f8\u5dee\u306b\u3088\u308b\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u4fe1\u53f7\u30bf\u30a4\u30df\u30f3\u30b0\u306e\u305a\u308c\u306f\u7a4d\u7b97\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u7d50\u679c\u3068\u3057\u3066\u3001\u30ea\u30fc\u30d5\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u6642\u523b\u304c\u30eb\u30fc\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u898b\u3066\u5927\u5e45\u306b\u305a\u308c\u3066\u3044\u308b\u3068\u3044\u3046\u4e8b\u304c\u8d77\u3053\u308a\u3048\u307e\u3059\u3002</p> <p>\u3053\u308c\u3092\u89e3\u6c7a\u3059\u308b\u305f\u3081\u306bLACCP\u3067\u306f\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u4fe1\u53f7\u9593\u306e\u4f4d\u76f8\u5dee\u3092\u6e2c\u5b9a\u3057\u3001\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30bf\u30a4\u30df\u30f3\u30b0\u304c\u304a\u4e92\u3044\u3069\u308c\u3060\u3051\u305a\u308c\u3066\u3044\u308b\u304b\u3092\u793a\u3059local fine offset\u3092\u7b97\u51fa\u3057\u307e\u3059\u3002 \u30dc\u30fc\u30c9\u304c\u76f4\u5217\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u4e2d\u7d99\u5730\u70b9\u306e\u30dc\u30fc\u30c9\u306flocal fine offset\u3092\u4e0b\u6d41\u306e\u30dc\u30fc\u30c9\u3078\u9001\u4fe1\u3057\u307e\u3059\u3002 \u3053\u3046\u3057\u3066\u4e0a\u6d41\u304b\u3089\u3084\u3063\u3066\u304d\u305ffine offset\u3068\u81ea\u8eab\u304c\u7b97\u51fa\u3057\u305ffine offset\u306e\u7a4d\u7b97\u3092\u53d6\u3063\u305f\u7269\u3092LACCP fine offset\u3068\u3088\u3073\u3001\u6700\u7d42\u7684\u306a\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u88dc\u6b63\u306b\u7528\u3044\u307e\u3059\u3002 LACCP fine offset\u306e\u5024\u304c\u00b1\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u5468\u671f\u3092\u8d85\u3048\u305f\u5834\u5408\u3001LACCP\u306f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30bf\u30a4\u30df\u30f3\u30b0\u30921\u30af\u30ed\u30c3\u30af\u5206\u305a\u3089\u3057\u3066\u3001LACCP fine offset\u304c1\u5468\u671f\u4ee5\u5185\u306b\u53ce\u307e\u308b\u3088\u3046\u306b\u8abf\u6574\u3057\u307e\u3059\u3002 \u307e\u3068\u3081\u308b\u3068\u3001local fine offset\u306f1\u3064\u4e0a\u6d41\u306e\u30dc\u30fc\u30c9\u3068\u6bd4\u8f03\u3057\u305f\u6642\u306e\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30bf\u30a4\u30df\u30f3\u30b0\u306e\u6642\u9593\u5dee\u3001LACCP\u306f\u30eb\u30fc\u30c8\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u307f\u305f\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30bf\u30a4\u30df\u30f3\u30b0\u306e\u6642\u9593\u5dee\u3092\u793a\u3057\u307e\u3059\u3002</p> <p>\u30bb\u30ab\u30f3\u30c0\u30ea\u5074\u306fDAQ\u30c7\u30fc\u30bf\u306e\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092LACCP fine offset\u3067\u88dc\u6b63\u3059\u308b\u4e8b\u306b\u3088\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u5468\u671f\u3088\u308a\u3082\u3088\u3044\u78ba\u5ea6\u3067\u6642\u523b\u5408\u308f\u305b\u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 \u88dc\u6b63\u306fFPGA\u4e2d\u3067\u884c\u3046\u4e8b\u3082\u51fa\u6765\u308b\u3057\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u4e0a\u3067\u884c\u3063\u3066\u3082\u3088\u3044\u3067\u3059\u3002 \u305f\u3060\u3057\u3001\u88dc\u6b63\u306e\u7d50\u679cDAQ\u30c7\u30fc\u30bf\u304c\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u3092\u307e\u305f\u3044\u3067\u3057\u307e\u3046\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u30d5\u30ec\u30fc\u30e0\u306e\u7aef\u306b\u3042\u308b\u30c7\u30fc\u30bf\u306e\u51e6\u7406\u306f\u9069\u5207\u306b\u884c\u308f\u306a\u304f\u3066\u306f\u306a\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"synchronization/sync/#frame-flag-bits-20250106","title":"Frame flag bits (2025.01.06)","text":"<p>Frame flag\u306e\u5b9a\u7fa9\u3068\u4f1d\u642c\u306fLACCP v2.1\u304b\u3089\u8ffd\u52a0\u3055\u308c\u305f\u6a5f\u80fd\u3067\u3059\u3002 Heartbeat frame\u306f2-bit\u306eframe flags\u3092\u6709\u3057\u3066\u304a\u308a\u3001\u5916\u90e8\u5165\u529b\u306b\u3057\u305f\u304c\u3063\u3066\u305d\u306e\u30d5\u30ec\u30fc\u30e0\u304c\u3069\u3046\u3044\u3046\u72b6\u614b\u306b\u3042\u3063\u305f\u304b\u3092DAQ\u30c7\u30fc\u30bf\u304b\u3089\u77e5\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002 \u60f3\u5b9a\u4e0a\u306e\u4f7f\u7528\u65b9\u6cd5\u306f\u30b2\u30fc\u30c8\u4fe1\u53f7\u306e\u4f1d\u642c\u3068\u8a18\u9332\u3067\u3059\u3002 Root module\u306b\u5165\u529b\u3055\u308c\u305f\u72b6\u614b\u4fe1\u53f7\u306fLACCP\u306b\u3088\u3063\u3066\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u5468\u671f\u3067\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3055\u308c\u3001\u4e0b\u6d41\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u4f1d\u9001\u3055\u308c\u307e\u3059\u3002 \u4f1d\u9001\u3055\u308c\u305fframe flag\u306fDAQ\u30c7\u30fc\u30bf\u306e\u30c7\u30ea\u30df\u30bf\u30fc\u30ef\u30fc\u30c9\u3078\u633f\u5165\u3055\u308c\u3001\u305d\u306e\u30d5\u30ec\u30fc\u30e0\u306e\u72b6\u614b\u3092\u89e3\u6790\u6642\u306b\u77e5\u308b\u4e8b\u304c\u51fa\u6765\u307e\u3059\u3002 \u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3068\u4f1d\u9001\u304c\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u5358\u4f4d\u3067\u3042\u308b\u305f\u3081\u3001\u5165\u529b\u304b\u3089\u6700\u5927\u3067524us\u7a0b\u5ea6\u9045\u308c\u3066\u30d5\u30e9\u30b0\u304c\u30cf\u30fc\u30c8\u30d3\u30fc\u30c8\u30d5\u30ec\u30fc\u30e0\u3078\u53cd\u6620\u3055\u308c\u307e\u3059\u3002</p>"}]}